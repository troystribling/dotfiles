"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class HydrogenKernel {
    constructor(_kernel) {
        this._kernel = _kernel;
        this.destroyed = false;
    }
    _assertNotDestroyed() {
        if (this.destroyed) {
            throw new Error("HydrogenKernel: operation not allowed because the kernel has been destroyed");
        }
    }
    get language() {
        this._assertNotDestroyed();
        return this._kernel.language;
    }
    get displayName() {
        this._assertNotDestroyed();
        return this._kernel.displayName;
    }
    addMiddleware(middleware) {
        this._assertNotDestroyed();
        this._kernel.addMiddleware(middleware);
    }
    onDidDestroy(callback) {
        this._assertNotDestroyed();
        this._kernel.emitter.on("did-destroy", callback);
    }
    getConnectionFile() {
        this._assertNotDestroyed();
        const connectionFile = this._kernel.transport.connectionFile
            ? this._kernel.transport.connectionFile
            : null;
        if (!connectionFile) {
            throw new Error(`No connection file for ${this._kernel.kernelSpec.display_name} kernel found`);
        }
        return connectionFile;
    }
}
exports.default = HydrogenKernel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHlkcm9nZW4ta2VybmVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL3BsdWdpbi1hcGkvaHlkcm9nZW4ta2VybmVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBUUEsTUFBcUIsY0FBYztJQUlqQyxZQUFZLE9BQWU7UUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUVELG1CQUFtQjtRQUdqQixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsTUFBTSxJQUFJLEtBQUssQ0FDYiw2RUFBNkUsQ0FDOUUsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUtELElBQUksUUFBUTtRQUNWLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRTNCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFDL0IsQ0FBQztJQUtELElBQUksV0FBVztRQUNiLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRTNCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7SUFDbEMsQ0FBQztJQVdELGFBQWEsQ0FBQyxVQUFvQztRQUNoRCxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUUzQixJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBTUQsWUFBWSxDQUFDLFFBQXNDO1FBQ2pELElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRTNCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQU1ELGlCQUFpQjtRQUNmLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRzNCLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLGNBQWM7WUFDMUQsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLGNBQWM7WUFDdkMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUVULElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FDYiwwQkFBMEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsWUFBWSxlQUFlLENBQzlFLENBQUM7U0FDSDtRQUVELE9BQU8sY0FBYyxDQUFDO0lBQ3hCLENBQUM7Q0FDRjtBQWxGRCxpQ0FrRkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSBLZXJuZWwgZnJvbSBcIi4uL2tlcm5lbFwiO1xuaW1wb3J0IHR5cGUgeyBIeWRyb2dlbktlcm5lbE1pZGRsZXdhcmUgfSBmcm9tIFwiLi9oeWRyb2dlbi10eXBlc1wiO1xuLypcbiAqIFRoZSBgSHlkcm9nZW5LZXJuZWxgIGNsYXNzIHdyYXBzIEh5ZHJvZ2VuJ3MgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2Yga2VybmVsc1xuICogYW5kIGV4cG9zZXMgYSBzbWFsbCBzZXQgb2YgbWV0aG9kcyB0aGF0IHNob3VsZCBiZSB1c2FibGUgYnkgcGx1Z2lucy5cbiAqIEBjbGFzcyBIeWRyb2dlbktlcm5lbFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEh5ZHJvZ2VuS2VybmVsIHtcbiAgX2tlcm5lbDogS2VybmVsO1xuICBkZXN0cm95ZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoX2tlcm5lbDogS2VybmVsKSB7XG4gICAgdGhpcy5fa2VybmVsID0gX2tlcm5lbDtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICB9XG5cbiAgX2Fzc2VydE5vdERlc3Ryb3llZCgpIHtcbiAgICAvLyBJbnRlcm5hbDogcGx1Z2lucyBtaWdodCBob2xkIHJlZmVyZW5jZXMgdG8gbG9uZy1kZXN0cm95ZWQga2VybmVscywgc29cbiAgICAvLyBhbGwgQVBJIGNhbGxzIHNob3VsZCBndWFyZCBhZ2FpbnN0IHRoaXMgY2FzZVxuICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkh5ZHJvZ2VuS2VybmVsOiBvcGVyYXRpb24gbm90IGFsbG93ZWQgYmVjYXVzZSB0aGUga2VybmVsIGhhcyBiZWVuIGRlc3Ryb3llZFwiXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIFRoZSBsYW5ndWFnZSBvZiB0aGUga2VybmVsLCBhcyBzcGVjaWZpZWQgaW4gaXRzIGtlcm5lbHNwZWNcbiAgICovXG4gIGdldCBsYW5ndWFnZSgpOiBzdHJpbmcge1xuICAgIHRoaXMuX2Fzc2VydE5vdERlc3Ryb3llZCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2tlcm5lbC5sYW5ndWFnZTtcbiAgfVxuXG4gIC8qXG4gICAqIFRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIGtlcm5lbCwgYXMgc3BlY2lmaWVkIGluIGl0cyBrZXJuZWxzcGVjXG4gICAqL1xuICBnZXQgZGlzcGxheU5hbWUoKTogc3RyaW5nIHtcbiAgICB0aGlzLl9hc3NlcnROb3REZXN0cm95ZWQoKTtcblxuICAgIHJldHVybiB0aGlzLl9rZXJuZWwuZGlzcGxheU5hbWU7XG4gIH1cblxuICAvKlxuICAgKiBBZGQgYSBrZXJuZWwgbWlkZGxld2FyZSwgd2hpY2ggYWxsb3dzIGludGVyY2VwdGluZyBhbmQgaXNzdWluZyBjb21tYW5kcyB0b1xuICAgKiB0aGUga2VybmVsLlxuICAgKlxuICAgKiBJZiB0aGUgbWV0aG9kcyBvZiBhIGBtaWRkbGV3YXJlYCBvYmplY3QgYXJlIGFkZGVkL21vZGlmaWVkL2RlbGV0ZWQgYWZ0ZXJcbiAgICogYGFkZE1pZGRsZXdhcmVgIGhhcyBiZWVuIGNhbGxlZCwgdGhlIGNoYW5nZXMgd2lsbCB0YWtlIGVmZmVjdCBpbW1lZGlhdGVseS5cbiAgICpcbiAgICogQHBhcmFtIHtIeWRyb2dlbktlcm5lbE1pZGRsZXdhcmV9IG1pZGRsZXdhcmVcbiAgICovXG4gIGFkZE1pZGRsZXdhcmUobWlkZGxld2FyZTogSHlkcm9nZW5LZXJuZWxNaWRkbGV3YXJlKSB7XG4gICAgdGhpcy5fYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG5cbiAgICB0aGlzLl9rZXJuZWwuYWRkTWlkZGxld2FyZShtaWRkbGV3YXJlKTtcbiAgfVxuXG4gIC8qXG4gICAqIENhbGxzIHlvdXIgY2FsbGJhY2sgd2hlbiB0aGUga2VybmVsIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ2FsbGJhY2tcbiAgICovXG4gIG9uRGlkRGVzdHJveShjYWxsYmFjazogKC4uLmFyZ3M6IEFycmF5PGFueT4pID0+IGFueSk6IHZvaWQge1xuICAgIHRoaXMuX2Fzc2VydE5vdERlc3Ryb3llZCgpO1xuXG4gICAgdGhpcy5fa2VybmVsLmVtaXR0ZXIub24oXCJkaWQtZGVzdHJveVwiLCBjYWxsYmFjayk7XG4gIH1cblxuICAvKlxuICAgKiBHZXQgdGhlIFtjb25uZWN0aW9uIGZpbGVdKGh0dHA6Ly9qdXB5dGVyLW5vdGVib29rLnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC9leGFtcGxlcy9Ob3RlYm9vay9Db25uZWN0aW5nJTIwd2l0aCUyMHRoZSUyMFF0JTIwQ29uc29sZS5odG1sKSBvZiB0aGUga2VybmVsLlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFBhdGggdG8gY29ubmVjdGlvbiBmaWxlLlxuICAgKi9cbiAgZ2V0Q29ubmVjdGlvbkZpbGUoKSB7XG4gICAgdGhpcy5fYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG5cbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgY29uc3QgY29ubmVjdGlvbkZpbGUgPSB0aGlzLl9rZXJuZWwudHJhbnNwb3J0LmNvbm5lY3Rpb25GaWxlXG4gICAgICA/IHRoaXMuX2tlcm5lbC50cmFuc3BvcnQuY29ubmVjdGlvbkZpbGVcbiAgICAgIDogbnVsbDtcblxuICAgIGlmICghY29ubmVjdGlvbkZpbGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE5vIGNvbm5lY3Rpb24gZmlsZSBmb3IgJHt0aGlzLl9rZXJuZWwua2VybmVsU3BlYy5kaXNwbGF5X25hbWV9IGtlcm5lbCBmb3VuZGBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbm5lY3Rpb25GaWxlO1xuICB9XG59XG4iXX0=