<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="shortcut icon" href="https://vega.github.io/favicon.ico"/>
    <meta name="description" content="Vega-Lite - a high-level grammar for statistical graphics. Vega-Lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.
Vega-Lite specifications consist of simple mappings of variables in a data set to visual encoding channels such as x, y, color, and size. These mappings are then translated into detailed visualization specifications in the form of Vega specification language. Vega-Lite produces default values for visualization components (e.g., scales, axes, and legends) in the output Vega specification using a rule-based approach, but users can explicit specify these properties to override default values.">

    <script src="/vega-lite/bower_components/d3/d3.min.js"></script>
    <script src="/vega-lite/bower_components/vega/vega.min.js"></script>
    <script src="/vega-lite/vega-lite.min.js"></script>
    <script src="/vega-lite/bower_components/vega-embed/vega-embed.js"></script>
    <script src="/vega-lite/bower_components/highlightjs/highlight.pack.js"></script>

    <script>
      var BASEURL = "/vega-lite";
    </script>

    <title> Vega-Lite: Encoding </title>
    <link rel="stylesheet" href="/vega-lite/site/static/syntax.css">
    <link rel="stylesheet" href="/vega-lite/bower_components/highlightjs/styles/github.css">
    <link rel="stylesheet" href="/vega-lite/bower_components/octicons/build/octicons.css">
    <link rel="stylesheet" href="/vega-lite/site/static/main.css">
  </head>
  <body>
    <div class="fill">
  <header>
    <nav class="page-centered">
      <a class="vl-title" href="/vega-lite/">Vega-Lite</a>
      <div class="vl-links">
        <div class="primary-links">
          <a href="/vega-lite/tutorials/getting_started.html" >Tutorials</a>
          <a href="/vega-lite/usage/embed.html" >Usage</a>
          <a href="/vega-lite/docs/" class="active">Documentation</a>
          <a href="/vega-lite/examples/" >Examples</a>
        </div>
        <div class="secondary-links">
          <a href="https://www.github.com/vega/vega-lite" target="_blank">GitHub</a>
          <a href="https://vega.github.io/vega-editor/?mode=vega-lite" target="_blank">Try Online</a>
        </div>
      </div>
    </nav>
  </header>

  <section>
    



<div class="page-centered page-main">
  
  <aside class="page-sidebar">
    <ul class="sidebar-nav">
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/" title="">Overview
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/spec.html" title="">Spec
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/data.html" title="">Data
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/transform.html" title="">Transform
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/mark.html" title="">Mark
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a class="active"
          href="/vega-lite/docs/encoding.html" title="">Encoding
      </a></li>
      
      <ul class="sub-sub-nav">
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/vega-lite/docs/aggregate.html" title="">Aggregate
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/vega-lite/docs/bin.html" title="">Bin
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/vega-lite/docs/sort.html" title="">Sort
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/vega-lite/docs/timeunit.html" title="">Time Unit
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/vega-lite/docs/scale.html" title="">Scale
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/vega-lite/docs/axis.html" title="">Axis
        </a></li>
        
        <li class="sidebar-nav-item sub-item"><a 
            href="/vega-lite/docs/legend.html" title="">Legend
        </a></li>
        
      </ul>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/config.html" title="">Config
      </a></li>
      
      
      
      
      <br>
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/size.html" title="">Customizing Size
      </a></li>
      
      
      
      
      <li class="sidebar-nav-item"><a 
          href="/vega-lite/docs/facet.html" title="">Faceting
      </a></li>
      
      
      
    </nav>
  </aside>
  

  <section class="page-content">
    <h1>Encoding</h1>

    <p>An integral part of the data visualization process is encoding data with visual properties of graphical marks. Vega-Lite’s top-level <code class="highlighter-rouge">encoding</code> property represents key-value mappings between <a href="#channels">encoding channels</a> (such as <code class="highlighter-rouge">x</code>, <code class="highlighter-rouge">y</code>, or <code class="highlighter-rouge">color</code>) and its <a href="#def">definition object</a>, which describes the encoded <a href="#field">data field</a> or <a href="#value">constant value</a>, and the channel’s <a href="#scale-and-guide">scale and guide (axis or legend)</a>.</p>

<div class="language-json suppress-error highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="nt">"mark"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="nt">"encoding"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">Encoding</span><span class="w">
    </span><span class="nt">"column"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"row"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"x"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"y"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"opacity"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"size"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"shape"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w">
    </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<ul id="markdown-toc">
  <li><a href="#channels" id="markdown-toc-channels">Encoding Channels</a>    <ul>
      <li><a href="#props-channels" id="markdown-toc-props-channels">Mark Properties Channels</a></li>
      <li><a href="#additional-level-of-detail-channel" id="markdown-toc-additional-level-of-detail-channel">Additional Level of Detail Channel</a>        <ul>
          <li><a href="#examples" id="markdown-toc-examples">Examples</a></li>
        </ul>
      </li>
      <li><a href="#mark-order-channels" id="markdown-toc-mark-order-channels">Mark Order Channels</a>        <ul>
          <li><a href="#ex-order" id="markdown-toc-ex-order">Example: Sorting Layer Order</a></li>
          <li><a href="#example-sorting-stack-order" id="markdown-toc-example-sorting-stack-order">Example: Sorting Stack Order</a></li>
          <li><a href="#ex-path" id="markdown-toc-ex-path">Example: Sorting Line Order</a></li>
        </ul>
      </li>
      <li><a href="#facet" id="markdown-toc-facet">Facet Channels</a></li>
    </ul>
  </li>
  <li><a href="#def" id="markdown-toc-def">Channel Definition</a>    <ul>
      <li><a href="#field" id="markdown-toc-field">Encoded Data</a></li>
      <li><a href="#data-type" id="markdown-toc-data-type">Data Type</a></li>
      <li><a href="#inline" id="markdown-toc-inline">Field Transforms</a></li>
      <li><a href="#value" id="markdown-toc-value">Constant Value</a>        <ul>
          <li><a href="#example" id="markdown-toc-example">Example</a></li>
        </ul>
      </li>
      <li><a href="#scale-and-guide" id="markdown-toc-scale-and-guide">Scale and Guide</a></li>
    </ul>
  </li>
</ul>

<h2 id="channels">Encoding Channels</h2>

<p>The keys in the encoding object are encoding channels. This section lists supported encoding channels in Vega-Lite.</p>

<h3 id="props-channels">Mark Properties Channels</h3>

<p>Mark properties channels map data fields directly to visual properties of the marks. Unlike other channel types, they can be mapped to <a href="#value">constant values</a> as well. Here are the supported mark properties:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">x, y</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">X and Y coordinates for <code class="highlighter-rouge">point</code>, <code class="highlighter-rouge">circle</code>, <code class="highlighter-rouge">square</code>, <code class="highlighter-rouge">line</code>, <code class="highlighter-rouge">text</code>, and <code class="highlighter-rouge">tick</code>. (or to width and height for <code class="highlighter-rouge">bar</code> and <code class="highlighter-rouge">area</code> marks).</td>
    </tr>
    <tr>
      <td style="text-align: left">color</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Color of the marks – either fill or stroke color based on mark type. By default, fill color for <code class="highlighter-rouge">area</code>, <code class="highlighter-rouge">bar</code>, <code class="highlighter-rouge">tick</code>, <code class="highlighter-rouge">text</code>, <code class="highlighter-rouge">circle</code>, and <code class="highlighter-rouge">square</code> /   stroke color for <code class="highlighter-rouge">line</code> and <code class="highlighter-rouge">point</code>.  Supported color values include hex-color (e.g., <code class="highlighter-rouge">#0099ff</code>) and <a href="http://www.w3schools.com/colors/colors_names.asp">standard HTML/CSS color names</a> (e.g., <code class="highlighter-rouge">"goldenrod"</code>).  Please see <a href="scale.html#range">scale range</a> for more detail about color palettes.</td>
    </tr>
    <tr>
      <td style="text-align: left">opacity</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Opacity of the marks – either can be a value or in a range. <span class="note-line"> <strong>Default value:</strong> <code class="highlighter-rouge">[0.3, 0.8]</code> </span>.)</td>
    </tr>
    <tr>
      <td style="text-align: left">shape</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">The symbol’s shape (only for <code class="highlighter-rouge">point</code> marks). The supported values are <code class="highlighter-rouge">"circle"</code> (default), <code class="highlighter-rouge">"square"</code>, <code class="highlighter-rouge">"cross"</code>, <code class="highlighter-rouge">"diamond"</code>, <code class="highlighter-rouge">"triangle-up"</code>, <code class="highlighter-rouge">"triangle-down"</code>, or else a custom SVG path string.</td>
    </tr>
    <tr>
      <td style="text-align: left">size</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Size of the mark. <br />     • For <code class="highlighter-rouge">point</code>, <code class="highlighter-rouge">square</code> and <code class="highlighter-rouge">circle</code> – the symbol size, or pixel area of the mark. <br /> • For <code class="highlighter-rouge">bar</code> and <code class="highlighter-rouge">tick</code> – the bar and tick’s size. <br />      • For <code class="highlighter-rouge">text</code> – the text’s font size. <br />      • Size is currently unsupported for <code class="highlighter-rouge">line</code> and <code class="highlighter-rouge">area</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">text</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Text of the <code class="highlighter-rouge">text</code> mark.</td>
    </tr>
    <tr>
      <td style="text-align: left">column, row</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left"><code class="highlighter-rouge">row</code> and <code class="highlighter-rouge">column</code> are special encoding channels for <a href="#facet">faceting</a>.</td>
    </tr>
  </tbody>
</table>

<h3 id="additional-level-of-detail-channel">Additional Level of Detail Channel</h3>

<p>Grouping data is another important operation in visualizing data. For <a href="aggregate.html">aggregated plots</a>, all encoded fields without <code class="highlighter-rouge">aggregate</code> functions are used as grouping fields in the aggregation (similar to fields in <code class="highlighter-rouge">GROUP BY</code> in SQL). For line and area marks, mapping a data field to color or shape channel will group the lines and stacked areas by the field.</p>

<p><code class="highlighter-rouge">detail</code> channel allows providing an additional grouping field (level) for grouping data in aggregation without mapping data to a specific visual channel.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">detail</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Additional levels of detail for grouping data in aggregate views and in line and area marks without mapping data to a specific visual channel. (<a href="#ex-detail">Example</a>.)</td>
    </tr>
  </tbody>
</table>

<p><strong>Note</strong>: Since <code class="highlighter-rouge">detail</code> represents an actual data field in the aggregation, it cannot encode a constant <code class="highlighter-rouge">value</code>.</p>

<h4 id="examples">Examples</h4>

<p>Here is a scatterplot showing average horsepower and displacement for cars from different origins. We map <code class="highlighter-rouge">Origin</code> to <code class="highlighter-rouge">detail</code> channel to use the field as a group-by field without mapping it to visual properties of the marks.</p>

<div class="vl-example" data-name="scatter_aggregate_detail"></div>

<p>Here is a line chart showing stock prices of 5 tech companies over time.
We map <code class="highlighter-rouge">symbol</code> variable (stock market ticker symbol) to <code class="highlighter-rouge">detail</code> to use them to group lines.</p>

<div class="vl-example" data-name="line_detail"></div>

<!-- TODO Need to decide if we want to keep the two examples above since they look bad with labels / tooltips -->

<h3 id="mark-order-channels">Mark Order Channels</h3>

<p><code class="highlighter-rouge">order</code> channel sorts the layer order or stacking order (for stacked charts) of the marks while <code class="highlighter-rouge">path</code> channel sorts the order of data points in line marks.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">order</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Layer order for non-stacked marks, or stack order for stacked marks.</td>
    </tr>
    <tr>
      <td style="text-align: left">path</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Order of data points in line marks.</td>
    </tr>
  </tbody>
</table>

<p><strong>Note</strong>: Since <code class="highlighter-rouge">order</code> and <code class="highlighter-rouge">path</code> represent actual data fields that are used to sort the data, they cannot encode constant <code class="highlighter-rouge">value</code>. In addition, in aggregate plots, they should have <code class="highlighter-rouge">aggregate</code> function specified.</p>

<h4 id="ex-order">Example: Sorting Layer Order</h4>

<p>Given a colored scatterplot.</p>

<div class="vl-example" data-name="scatter_color"></div>

<p>By default, layer order of the data points are determined by original order of the data.</p>

<p>Mapping the field <code class="highlighter-rouge">Origin</code> to <code class="highlighter-rouge">order</code> channel will sort the layer of data points by the field.</p>

<div class="vl-example" data-name="scatter_color_order"></div>

<p>Here we can see that data points from Origin A appear on the top.</p>

<h4 id="example-sorting-stack-order">Example: Sorting Stack Order</h4>

<p>Given a stacked bar chart:</p>

<div class="vl-example" data-name="stacked_bar_h"></div>

<p>By default, the stacked bar are sorted by the stack grouping fields (<code class="highlighter-rouge">color</code> in this example).</p>

<p>Mapping the sum of yield to <code class="highlighter-rouge">order</code> channel will sort the layer of stacked bar by sum of yield instead.</p>

<div class="vl-example" data-name="stacked_bar_h_order"></div>

<p>Here we can see that site with higher yields for each type of barley are put on the top of the stack (rightmost).</p>

<h4 id="ex-path">Example: Sorting Line Order</h4>

<p>By default, line marks order their points in their paths by the field of channel x or y. However, to show a pattern of data change over time between gasoline price and average miles driven per capita we use <code class="highlighter-rouge">path</code> channel to sort the points in the line by time field (<code class="highlighter-rouge">year</code>).</p>

<div class="vl-example" data-name="scatter_connected"></div>

<h3 id="facet">Facet Channels</h3>

<p><code class="highlighter-rouge">row</code> and <code class="highlighter-rouge">column</code> are special encoding channels that facets single plots into <a href="https://en.wikipedia.org/wiki/Small_multiple">trellis plots (or small multiples)</a>.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">row, column</td>
      <td style="text-align: center"><a href="#def">ChannelDef</a></td>
      <td style="text-align: left">Vertical and horizontal facets for vertical and horizontal <a href="https://en.wikipedia.org/wiki/Small_multiple">trellis plots</a>.</td>
    </tr>
  </tbody>
</table>

<p>For more information, please see <a href="facet.html">facet page</a>.</p>

<p><strong>Note</strong>: Since <code class="highlighter-rouge">row</code> and <code class="highlighter-rouge">column</code> represent actual data fields that are used to partition the data, they cannot encode constant <code class="highlighter-rouge">value</code>. In addition, in aggregate plots, they should not have <code class="highlighter-rouge">aggregate</code> function specified.</p>

<h2 id="def">Channel Definition</h2>

<p>Each channel definition object <strong>must</strong> describe the <a href="#field">data field encoded by the channel</a> and its <a href="#type">data type</a>, or a <a href="#value">constant value directly mapped to the mark properties</a>. In addition, it can describe the mapped field’s <a href="#inline">transformation</a> and <a href="#components">properties for its scale and guide</a>.</p>

<h3 id="field">Encoded Data</h3>

<p>To encode a particular field in the data set with a particular channel, the channel must specify the field’s name with <code class="highlighter-rouge">field</code> property.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">field</td>
      <td style="text-align: center">String</td>
      <td style="text-align: left">Name of the field from which to pull a data value.</td>
    </tr>
  </tbody>
</table>

<h3 id="data-type">Data Type</h3>

<p>If a field is specified, the channel definition <strong>must</strong> describe the encoded data’s <a href="https://en.wikipedia.org/wiki/Level_of_measurement">type of measurement (level of measurement)</a>.
The supported data types are:</p>

<dl>
  <dt>Quantitative</dt>
  <dd>Quantitative data expresses some kind of quantity. Typically this is numerical data. For example <code class="highlighter-rouge">7.3</code>, <code class="highlighter-rouge">42.0</code>, <code class="highlighter-rouge">12.1</code>.</dd>
  <dt>Temporal</dt>
  <dd>Temporal data supports date-times and times. For example <code class="highlighter-rouge">2015-03-07 12:32:17</code>, <code class="highlighter-rouge">17:01</code>, <code class="highlighter-rouge">2015-03-16</code>.</dd>
  <dt>Ordinal</dt>
  <dd>Ordinal data represents ranked order (1st, 2nd, …) by which the data can be sorted. However, as opposed to quantitative data, there is no notion of <em>relative degree of difference</em> between them. For illustration, a “size” variable might have the following values <code class="highlighter-rouge">small</code>, <code class="highlighter-rouge">medium</code>, <code class="highlighter-rouge">large</code>, <code class="highlighter-rouge">extra-large</code>. We know that medium is larger than small and same for extra-large larger than large. However, we cannot claim that compare the magnitude of difference, for example, between (1) small and medium and (2) medium and large.</dd>
  <dt>Nominal</dt>
  <dd>Nominal data, also known as categorical data, differentiates between values based only on their names or categories. For example, gender, nationality, music genre, names are all nominal data. Numbers maybe used to represent the variables but the number do not determine magnitude or ordering. For example, if a nominal variable contains three values 1, 2, and 3. We cannot claim that 1 is less than 2 nor 3.</dd>
</dl>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">type</td>
      <td style="text-align: center">String</td>
      <td style="text-align: left">The encoded field’s type of measurement. This can be either a full type name (<code class="highlighter-rouge">"quantitative"</code>, <code class="highlighter-rouge">"temporal"</code>, <code class="highlighter-rouge">"ordinal"</code>,  and <code class="highlighter-rouge">"nominal"</code>) or an initial character of the type name (<code class="highlighter-rouge">"Q"</code>, <code class="highlighter-rouge">"T"</code>, <code class="highlighter-rouge">"O"</code>, <code class="highlighter-rouge">"N"</code>). This property is case insensitive.</td>
    </tr>
  </tbody>
</table>

<p><strong>Note</strong>:
Data <code class="highlighter-rouge">type</code> here describes semantic of the data rather than primitive data types in programming language sense (<code class="highlighter-rouge">number</code>, <code class="highlighter-rouge">string</code>, etc.). The same primitive data type can have different type of measurement. For example, numeric data can represent quantitative, ordinal, or nominal data.</p>

<h3 id="inline">Field Transforms</h3>

<p>To facilitate data exploration, Vega-Lite provides inline field transforms as a part of the channel definition. If a <code class="highlighter-rouge">field</code> is provided, the channel definition supports the following transformations:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><a href="bin.html">bin</a><sup>1</sup></td>
      <td style="text-align: center">Boolean | Object</td>
      <td style="text-align: left">Boolean flag for binning a <code class="highlighter-rouge">quantitative</code> field, or a bin property object for binning parameters. <span class="note-line"> <strong>Default value:</strong> <code class="highlighter-rouge">false</code></span></td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="timeunit.html">timeUnit</a><sup>1</sup></td>
      <td style="text-align: center">String</td>
      <td style="text-align: left">Time unit for a <code class="highlighter-rouge">temporal</code> field  (e.g., <code class="highlighter-rouge">year</code>, <code class="highlighter-rouge">yearmonth</code>, <code class="highlighter-rouge">month</code>, <code class="highlighter-rouge">hour</code>). <span class="note-line"> <strong>Default value:</strong> <code class="highlighter-rouge">undefined</code> (None) </span></td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="aggregate.html">aggregate</a><sup>1,2</sup></td>
      <td style="text-align: center">String</td>
      <td style="text-align: left">Aggregation function for the field (e.g., <code class="highlighter-rouge">mean</code>, <code class="highlighter-rouge">sum</code>, <code class="highlighter-rouge">median</code>, <code class="highlighter-rouge">min</code>, <code class="highlighter-rouge">max</code>, <code class="highlighter-rouge">count</code>). <span class="note-line"> <strong>Default value:</strong> <code class="highlighter-rouge">undefined</code> (None) </span></td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="sort.html">sort</a><sup>1,2</sup></td>
      <td style="text-align: center">String | Object</td>
      <td style="text-align: left">Sort order for a particular field. <br /> • For quantitative or temporal fields, this can be either <code class="highlighter-rouge">"ascending"</code> or , <code class="highlighter-rouge">"descending"</code> <br /> • For quantitative or temporal fields, this can be <code class="highlighter-rouge">"ascending"</code>, <code class="highlighter-rouge">"descending"</code>, <code class="highlighter-rouge">"none"</code>, or a <a href="sort.html#sort-field">sort field definition object</a> for sorting by an aggregate calculation of a specified sort field. <span class="note-line"> <strong>Default value:</strong> <code class="highlighter-rouge">"ascending"</code> </span></td>
    </tr>
  </tbody>
</table>

<!-- TODO: re-explain sort + make it clear that text does not support sorting -->

<p>For more information about these field transforms, please see the following pages: <a href="bin.html"><code class="highlighter-rouge">bin</code></a>, <a href="timeUnit.html"><code class="highlighter-rouge">timeUnit</code></a>, <a href="aggregate.html"><code class="highlighter-rouge">aggregate</code></a>, and <a href="sort.html"><code class="highlighter-rouge">sort</code></a>.</p>

<p><strong>Notes</strong>:</p>

<p><sup>1</sup>  Inline field transforms are executed after the top-level <code class="highlighter-rouge">transform</code>s are executed, and are executed in this order: <code class="highlighter-rouge">bin</code>, <code class="highlighter-rouge">timeUnit</code>, <code class="highlighter-rouge">aggregate</code>, and <code class="highlighter-rouge">sort</code>.</p>

<p><sup>2</sup> <code class="highlighter-rouge">detail</code> does not support <code class="highlighter-rouge">aggregate</code> and <code class="highlighter-rouge">sort</code>. When using <code class="highlighter-rouge">path</code> and <code class="highlighter-rouge">detail</code>, with non-grouping variables in aggregate plots, they should be aggregated to prevent additional groupings.</p>

<h3 id="value">Constant Value</h3>

<p>For <a href="#props-channels">mark properties channels</a>, if a <code class="highlighter-rouge">field</code> is not specified, constant values for the properties (e.g., color, size) can be also set directly with the channel definition’s <code class="highlighter-rouge">value</code> property.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">value</td>
      <td style="text-align: center">String | Number</td>
      <td style="text-align: left">A constant value in visual domain.</td>
    </tr>
  </tbody>
</table>

<p><strong>Note</strong>: <code class="highlighter-rouge">detail</code>, <code class="highlighter-rouge">path</code>, <code class="highlighter-rouge">order</code>, <code class="highlighter-rouge">row</code>, and <code class="highlighter-rouge">column</code> channels cannot encode constant <code class="highlighter-rouge">value</code>.</p>

<h4 id="example">Example</h4>

<p>For example, you can set <code class="highlighter-rouge">color</code> and <code class="highlighter-rouge">shape</code> of a scatter plot to constant values. Note that as the value is set directly to the color and shape values, there is no need to specify data <code class="highlighter-rouge">type</code>. In fact, the data <code class="highlighter-rouge">type</code> will be ignored if specified.</p>

<p><span class="vl-example" data-name="scatter_color_shape_constant"></span></p>

<p id="ex-bar-size">Similarly, <code class="highlighter-rouge">value</code> for <code class="highlighter-rouge">size</code> channel of bar marks will adjust the bar’s size. By default, there will be 1 pixel offset between bars. The following example sets the size to 10 to add more offset between bars.</p>

<p><span class="vl-example" data-name="bar_aggregate_size"></span></p>

<h3 id="scale-and-guide">Scale and Guide</h3>

<p>For encoding channels that map data directly to visual properties of the marks, they must provide <a href="scale.html">scales</a>, or functions that transform values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes).</p>

<p>In addition, visualizations typically provide guides to aid interpretation of scales. There are two types of guides: <a href="axis.html">axes</a> and <a href="legend.html">legends</a>. Axes produces lines, ticks, and labels to convey how a spatial range represent a data range in position channel (<code class="highlighter-rouge">x</code> and <code class="highlighter-rouge">y</code>).   Meanwhile, legends aid interpretation of <code class="highlighter-rouge">color</code>, <code class="highlighter-rouge">size</code>, and <code class="highlighter-rouge">shape</code>’s scales.</p>

<p>By default, Vega-Lite automatically generates a scale and a guide for each field. If no properties are specified, scale, axis, and legend’s properties are determined based on a set of rules by the compiler. <code class="highlighter-rouge">scale</code>, <code class="highlighter-rouge">axis</code>, <code class="highlighter-rouge">legend</code> properties of the channel definition can be used to customize their properties.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><a href="scale.html">scale</a></td>
      <td style="text-align: center">Object</td>
      <td style="text-align: left">A property object for a scale of a <a href="#props-channels">mark property channel</a>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="axis.html">axis</a></td>
      <td style="text-align: center">Boolean | Object</td>
      <td style="text-align: left">Boolean flag for showing an axis (<code class="highlighter-rouge">true</code> by default), or a property object for an axis of a position channel (<code class="highlighter-rouge">x</code> or <code class="highlighter-rouge">y</code>) or a facet channel (<code class="highlighter-rouge">row</code> or <code class="highlighter-rouge">column</code>).</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="legend.html">legend</a></td>
      <td style="text-align: center">Boolean | Object</td>
      <td style="text-align: left">Boolean flag for showing a legend (<code class="highlighter-rouge">true</code> by default), or a config object for a legend of a non-position mark property channel (<code class="highlighter-rouge">color</code>, <code class="highlighter-rouge">size</code>, or <code class="highlighter-rouge">shape</code>).</td>
    </tr>
  </tbody>
</table>

<p>For more information about <a href="scale.html"><code class="highlighter-rouge">scale</code></a>, <a href="axis.html"><code class="highlighter-rouge">axis</code></a>, and <a href="legend.html"><code class="highlighter-rouge">legend</code></a>, please look at the respective pages.</p>


  </section>
</div>

  </section>
</div>

<footer>
  <div class="page-centered">
    <span>
      <a href="https://github.com/vega/vega-lite/edit/master/site/docs/encoding.md">Edit this page</a> and submit a pull request!
    </span>
    <span class="fill"></span>
    <a href="http://idl.cs.washington.edu" title="UW Interactive Data Lab" class="idl-logo"><img src="/vega-lite/site/static/idl-logo.png"/></a>
  </div>
</footer>

    <script src="/vega-lite/site/static/main.js"></script>
    <script>
      // Google Analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-44428446-6', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
