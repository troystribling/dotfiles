!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.vg||(e.vg={})).scene=t()}}(function(){var t;return function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){},{}],2:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.d3_dsv={})}(this,function(t){"use strict";function e(t){return new a(t)}function n(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function r(t,e){var r=n(t);return function(n,i){return e(r(n),i,t)}}function i(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function a(t){function e(e){return e.map(a).join(t)}function a(t){return o.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var o=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);this.parse=function(t,e){var i,a,o=this.parseRows(t,function(t,o){return i?i(t,o-1):(a=t,void(i=e?r(t,e):n(t)))});return o.columns=a,o},this.parseRows=function(t,e){function n(){if(c>=l)return o;if(i)return i=!1,a;var e,n=c;if(34===t.charCodeAt(n)){for(var r=n;r++<l;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return c=r+2,e=t.charCodeAt(r+1),13===e?(i=!0,10===t.charCodeAt(r+2)&&++c):10===e&&(i=!0),t.slice(n+1,r).replace(/""/g,'"')}for(;l>c;){var s=1;if(e=t.charCodeAt(c++),10===e)i=!0;else if(13===e)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(e!==u)continue;return t.slice(n,c-s)}return t.slice(n)}for(var r,i,a={},o={},s=[],l=t.length,c=0,f=0;(r=n())!==o;){for(var h=[];r!==a&&r!==o;)h.push(r),r=n();e&&null==(h=e(h,f++))||s.push(h)}return s},this.format=function(e,n){return null==n&&(n=i(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")},this.formatRows=function(t){return t.map(e).join("\n")}}e.prototype=a.prototype;var o=e(","),u=e("	"),s="0.1.14";t.version=s,t.dsv=e,t.csv=o,t.tsv=u})},{}],3:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t("d3-format",["exports"],i):i(e.d3_format={})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return t=e(Math.abs(t)),t?t[1]:NaN}function r(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(n.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function i(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],a=r[1],o=a-(m=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=i.length;return o===u?i:o>u?i+new Array(o-u+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+e(t,Math.max(0,n+o-1))[0]}function a(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],a=r[1];return 0>a?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}function o(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,a=-1;r>i;++i)switch(t[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break t;default:a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(n+1):t}function u(t){return new s(t)}function s(t){if(!(e=p.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],u=e[6]&&+e[6],s=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(s=!0,c="g"):g[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=u,this.comma=s,this.precision=l,this.type=c}function l(t){return t}function c(t){function e(t){t=u(t);var e=t.fill,n=t.align,r=t.sign,i=t.symbol,l=t.zero,c=t.width,f=t.comma,h=t.precision,d=t.type,p="$"===i?o[0]:"#"===i&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",y="$"===i?o[1]:/[%p]/.test(d)?"%":"",b=g[d],x=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),function(t){var i=p,o=y;if("c"===d)o=b(t)+o,t="";else{t=+t;var u=(0>t||0>1/t)&&(t*=-1,!0);if(t=b(t,h),u){var g,M=-1,_=t.length;for(u=!1;++M<_;)if(g=t.charCodeAt(M),g>48&&58>g||"x"===d&&g>96&&103>g||"X"===d&&g>64&&71>g){u=!0;break}}if(i=(u?"("===r?r:"-":"-"===r||"("===r?"":r)+i,o=o+("s"===d?v[8+m/3]:"")+(u&&"("===r?")":""),x)for(var g,M=-1,_=t.length;++M<_;)if(g=t.charCodeAt(M),48>g||g>57){o=(46===g?s+t.slice(M+1):t.slice(M))+o,t=t.slice(0,M);break}}f&&!l&&(t=a(t,1/0));var k=i.length+t.length+o.length,w=c>k?new Array(c-k+1).join(e):"";switch(f&&l&&(t=a(w+t,w.length?c-o.length:1/0),w=""),n){case"<":return i+t+o+w;case"=":return i+w+t+o;case"^":return w.slice(0,k=w.length>>1)+i+t+o+w.slice(k)}return w+i+t+o}}function i(t,r){var i=e((t=u(t),t.type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),o=Math.pow(10,-a),s=v[8+a/3];return function(t){return i(o*t)+s}}var a=t.grouping&&t.thousands?r(t.grouping,t.thousands):l,o=t.currency,s=t.decimal;return{format:e,formatPrefix:i}}function f(t){return Math.max(0,-n(Math.abs(t)))}function h(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))}function d(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1}var m,g={"":o,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return a(100*t,e)},r:a,s:i,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),b=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),x=c({decimal:",",thousands:" ",grouping:[3],currency:[""," Kč"]}),M=c({decimal:",",thousands:"'",grouping:[3],currency:[""," CHF"]}),_=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),k=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),w=c({decimal:".",thousands:",",grouping:[3],currency:["£",""]}),T=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),S=c({decimal:",",thousands:" ",grouping:[3],currency:[""," €"]}),D=c({decimal:",",thousands:" ",grouping:[3],currency:["","$"]}),C=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),A=c({decimal:".",thousands:",",grouping:[3],currency:["₪",""]}),j=c({decimal:",",thousands:" ",grouping:[3],currency:[""," Ft"]}),L=c({decimal:",",thousands:".",grouping:[3],currency:["€",""]}),z=c({decimal:".",thousands:",",grouping:[3],currency:["","円"]}),P=c({decimal:".",thousands:",",grouping:[3],currency:["₩",""]}),q=c({decimal:",",thousands:".",grouping:[3],currency:[""," ден."]}),F=c({decimal:",",thousands:".",grouping:[3],currency:["€ ",""]}),E=c({decimal:",",thousands:".",grouping:[3],currency:["","zł"]}),O=c({decimal:",",thousands:".",grouping:[3],currency:["R$",""]}),$=c({decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]}),U=c({decimal:",",thousands:" ",grouping:[3],currency:["","SEK"]}),N=c({decimal:".",thousands:",",grouping:[3],currency:["¥",""]}),H=y.format,I=y.formatPrefix,Y="0.4.2";t.version=Y,t.format=H,t.formatPrefix=I,t.locale=c,t.localeCaEs=b,t.localeCsCz=x,t.localeDeCh=M,t.localeDeDe=_,t.localeEnCa=k,t.localeEnGb=w,t.localeEnUs=y,t.localeEsEs=T,t.localeFiFi=S,t.localeFrCa=D,t.localeFrFr=C,t.localeHeIl=A,t.localeHuHu=j,t.localeItIt=L,t.localeJaJp=z,t.localeKoKr=P,t.localeMkMk=q,t.localeNlNl=F,t.localePlPl=E,t.localePtBr=O,t.localeRuRu=$,t.localeSvSe=U,t.localeZhCn=N,t.formatSpecifier=u,t.precisionFixed=f,t.precisionPrefix=h,t.precisionRound=d})},{}],4:[function(e,n,r){!function(i,a){"object"==typeof r&&"undefined"!=typeof n?a(r,e("d3-time")):"function"==typeof t&&t.amd?t("d3-time-format",["exports","d3-time"],a):a(i.d3_time_format={},i.d3_time)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function a(t){function e(t,e){return function(n){var r,i,a,o=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(o.push(t.slice(s,u)),null!=(i=tt[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),s=u+1);return o.push(t.slice(s,u)),o.join("")}}function a(t,e){return function(n){var a=i(1900),u=o(a,t,n+="",0);if(u!=n.length)return null;if("p"in a&&(a.H=a.H%12+12*a.p),"W"in a||"U"in a){"w"in a||(a.w="W"in a?1:0);var s="Z"in a?r(i(a.y)).getUTCDay():e(i(a.y)).getDay();a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(s+5)%7:a.w+7*a.U-(s+6)%7}return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,r(a)):e(a)}}function o(t,e,n,r){for(var i,a,o=0,u=e.length,s=n.length;u>o;){if(r>=s)return-1;if(i=e.charCodeAt(o++),37===i){if(i=e.charAt(o++),a=Ot[i in tt?e.charAt(o++):i],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function u(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.p=St[r[0].toLowerCase()],n+r[0].length):-1}function Q(t,e,n){var r=At.exec(e.slice(n));return r?(t.w=jt[r[0].toLowerCase()],n+r[0].length):-1}function et(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.w=Ct[r[0].toLowerCase()],n+r[0].length):-1}function nt(t,e,n){var r=Pt.exec(e.slice(n));return r?(t.m=qt[r[0].toLowerCase()],n+r[0].length):-1}function rt(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.m=zt[r[0].toLowerCase()],n+r[0].length):-1}function it(t,e,n){return o(t,vt,e,n)}function at(t,e,n){return o(t,yt,e,n)}function ot(t,e,n){return o(t,bt,e,n)}function ut(t){return _t[t.getDay()]}function st(t){return Mt[t.getDay()]}function lt(t){return wt[t.getMonth()]}function ct(t){return kt[t.getMonth()]}function ft(t){return xt[+(t.getHours()>=12)]}function ht(t){return _t[t.getUTCDay()]}function dt(t){return Mt[t.getUTCDay()]}function mt(t){return wt[t.getUTCMonth()]}function gt(t){return kt[t.getUTCMonth()]}function pt(t){return xt[+(t.getUTCHours()>=12)]}var vt=t.dateTime,yt=t.date,bt=t.time,xt=t.periods,Mt=t.days,_t=t.shortDays,kt=t.months,wt=t.shortMonths,Tt=s(xt),St=l(xt),Dt=s(Mt),Ct=l(Mt),At=s(_t),jt=l(_t),Lt=s(kt),zt=l(kt),Pt=s(wt),qt=l(wt),Ft={a:ut,A:st,b:lt,B:ct,c:null,d:w,e:w,H:T,I:S,j:D,L:C,m:A,M:j,p:ft,S:L,U:z,w:P,W:q,x:null,X:null,y:F,Y:E,Z:O,"%":K},Et={a:ht,A:dt,b:mt,B:gt,c:null,d:$,e:$,H:U,I:N,j:H,L:I,m:Y,M:R,p:pt,S:J,U:B,w:V,W:X,x:null,X:null,y:W,Y:G,Z:Z,"%":K},Ot={a:Q,A:et,b:nt,B:rt,c:it,d:v,e:v,H:b,I:b,j:y,L:_,m:p,M:x,p:u,S:M,U:f,w:c,W:h,x:at,X:ot,y:m,Y:d,Z:g,"%":k};return Ft.x=e(yt,Ft),Ft.X=e(bt,Ft),Ft.c=e(vt,Ft),Et.x=e(yt,Et),Et.X=e(bt,Et),Et.c=e(vt,Et),{format:function(t){var r=e(t+="",Ft);return r.parse=a(t,n),r.toString=function(){return t},r},utcFormat:function(t){var n=e(t+="",Et);return n.parse=a(t,r),n.toString=function(){return t},n}}}function o(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(e)+i:i)}function u(t){return t.replace(rt,"\\$&")}function s(t){return new RegExp("^(?:"+t.map(u).join("|")+")","i")}function l(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function c(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=et.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function h(t,e,n){var r=et.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d(t,e,n){var r=et.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function m(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function g(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function p(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function v(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function y(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function x(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function M(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function k(t,e,n){var r=nt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function w(t,e){return o(t.getDate(),e,2)}function T(t,e){return o(t.getHours(),e,2)}function S(t,e){return o(t.getHours()%12||12,e,2)}function D(t,n){return o(1+e.day.count(e.year(t),t),n,3)}function C(t,e){return o(t.getMilliseconds(),e,3)}function A(t,e){return o(t.getMonth()+1,e,2)}function j(t,e){return o(t.getMinutes(),e,2)}function L(t,e){return o(t.getSeconds(),e,2)}function z(t,n){return o(e.sunday.count(e.year(t),t),n,2)}function P(t){return t.getDay()}function q(t,n){return o(e.monday.count(e.year(t),t),n,2)}function F(t,e){return o(t.getFullYear()%100,e,2)}function E(t,e){return o(t.getFullYear()%1e4,e,4)}function O(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+o(e/60|0,"0",2)+o(e%60,"0",2)}function $(t,e){return o(t.getUTCDate(),e,2)}function U(t,e){return o(t.getUTCHours(),e,2)}function N(t,e){return o(t.getUTCHours()%12||12,e,2)}function H(t,n){return o(1+e.utcDay.count(e.utcYear(t),t),n,3)}function I(t,e){return o(t.getUTCMilliseconds(),e,3)}function Y(t,e){return o(t.getUTCMonth()+1,e,2)}function R(t,e){return o(t.getUTCMinutes(),e,2)}function J(t,e){return o(t.getUTCSeconds(),e,2)}function B(t,n){return o(e.utcSunday.count(e.utcYear(t),t),n,2)}function V(t){return t.getUTCDay()}function X(t,n){return o(e.utcMonday.count(e.utcYear(t),t),n,2)}function W(t,e){return o(t.getUTCFullYear()%100,e,2)}function G(t,e){return o(t.getUTCFullYear()%1e4,e,4)}function Z(){return"+0000"}function K(){return"%"}function Q(t){return t.toISOString()}var tt={"-":"",_:" ",0:"0"},et=/^\s*\d+/,nt=/^%/,rt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,it=a({dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),at=a({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]}),ot=a({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),ut=a({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),st=a({dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),lt=a({dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ct=a({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]}),ft=a({dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]}),ht=a({dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]}),dt=a({dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]}),mt=a({dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]}),gt=a({dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],shortDays:["V","H","K","Sze","Cs","P","Szo"],months:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortMonths:["jan.","feb.","már.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."]}),pt=a({dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}),vt=a({dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["睦月","如月","弥生","卯月","皐月","水無月","文月","葉月","長月","神無月","霜月","師走"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}),yt=a({dateTime:"%Y/%m/%d %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["오전","오후"],days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],shortDays:["일","월","화","수","목","금","토"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],shortMonths:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}),bt=a({dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]}),xt=a({dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]}),Mt=a({dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]}),_t=a({dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),kt=a({dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]}),wt=a({dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"],days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],shortDays:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]}),Tt=a({dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}),St="%Y-%m-%dT%H:%M:%S.%LZ";Q.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Q.toString=function(){return St};var Dt=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Q:it.utcFormat(St),Ct=it.format,At=it.utcFormat,jt="0.2.1";t.version=jt,t.format=Ct,t.utcFormat=At,t.locale=a,t.localeCaEs=at,t.localeDeCh=ot,t.localeDeDe=ut,t.localeEnCa=st,t.localeEnGb=lt,t.localeEnUs=it,t.localeEsEs=ct,t.localeFiFi=ft,t.localeFrCa=ht,t.localeFrFr=dt,t.localeHeIl=mt,t.localeHuHu=gt,t.localeItIt=pt,t.localeJaJp=vt,t.localeKoKr=yt,t.localeMkMk=bt,t.localeNlNl=xt,t.localePlPl=Mt,t.localePtBr=_t,t.localeRuRu=kt,t.localeSvSe=wt,t.localeZhCn=Tt,t.isoFormat=Dt})},{"d3-time":5}],5:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t("d3-time",["exports"],i):i(e.d3_time={})}(this,function(t){"use strict";function e(t,n,r,o){function u(e){return t(e=new Date(+e)),e}return u.floor=u,u.round=function(e){var r=new Date(+e),i=new Date(e-1);return t(r),t(i),n(i,1),i-e>e-r?r:i},u.ceil=function(e){return t(e=new Date(e-1)),n(e,1),e},u.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,r,i){var a=[];if(e=new Date(e-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>e&&i>0))return a;for(n(e,1),t(e),r>e&&a.push(new Date(+e));n(e,i),t(e),r>e;)a.push(new Date(+e));return a},u.filter=function(r){return e(function(e){for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(u.count=function(e,n){return i.setTime(+e),a.setTime(+n),t(i),t(a),Math.floor(r(i,a))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(o?function(e){return o(e)%t===0}:function(e){return u.count(0,e)%t===0}):u:null}),u}function n(t){return e(function(e){e.setHours(0,0,0,0),e.setDate(e.getDate()-(e.getDay()+7-t)%7)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}function r(t){return e(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var i=new Date,a=new Date,o=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):o:null};var u=e(function(t){t.setMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getSeconds()}),s=e(function(t){t.setSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),l=e(function(t){t.setMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),c=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),f=n(0),h=n(1),d=n(2),m=n(3),g=n(4),p=n(5),v=n(6),y=e(function(t){t.setHours(0,0,0,0),t.setDate(1)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),b=e(function(t){t.setHours(0,0,0,0),t.setMonth(0,1)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}),x=e(function(t){t.setUTCMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),M=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),_=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),k=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),w=r(0),T=r(1),S=r(2),D=r(3),C=r(4),A=r(5),j=r(6),L=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(1)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),z=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCMonth(0,1)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}),P=o.range,q=u.range,F=s.range,E=l.range,O=c.range,$=f.range,U=h.range,N=d.range,H=m.range,I=g.range,Y=p.range,R=v.range,J=f.range,B=y.range,V=b.range,X=o,W=P,G=x.range,Z=M.range,K=_.range,Q=k.range,tt=w.range,et=T.range,nt=S.range,rt=D.range,it=C.range,at=A.range,ot=j.range,ut=w.range,st=L.range,lt=z.range,ct="0.1.1";t.version=ct,t.milliseconds=P,t.seconds=q,t.minutes=F,t.hours=E,t.days=O,t.sundays=$,t.mondays=U,t.tuesdays=N,t.wednesdays=H,t.thursdays=I,t.fridays=Y,t.saturdays=R,t.weeks=J,t.months=B,t.years=V,t.utcMillisecond=X,t.utcMilliseconds=W,t.utcSeconds=G,t.utcMinutes=Z,t.utcHours=K,t.utcDays=Q,t.utcSundays=tt,t.utcMondays=et,t.utcTuesdays=nt,t.utcWednesdays=rt,t.utcThursdays=it,t.utcFridays=at,t.utcSaturdays=ot,t.utcWeeks=ut,t.utcMonths=st,t.utcYears=lt,t.millisecond=o,t.second=u,t.minute=s,t.hour=l,t.day=c,t.sunday=f,t.monday=h,t.tuesday=d,t.wednesday=m,t.thursday=g,t.friday=p,t.saturday=v,t.week=f,t.month=y,t.year=b,t.utcSecond=x,t.utcMinute=M,t.utcHour=_,t.utcDay=k,t.utcSunday=w,t.utcMonday=T,t.utcTuesday=S,t.utcWednesday=D,t.utcThursday=C,t.utcFriday=A,t.utcSaturday=j,t.utcWeek=w,t.utcMonth=L,t.utcYear=z,t.interval=e})},{}],6:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.topojson=e.topojson||{})}(this,function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,r,i=t.scale[0],a=t.scale[1],o=t.translate[0],u=t.translate[1];return function(t,e){e||(n=r=0),t[0]=(n+=t[0])*i+o,t[1]=(r+=t[1])*a+u}}function r(t){if(!t)return e;var n,r,i=t.scale[0],a=t.scale[1],o=t.translate[0],u=t.translate[1];return function(t,e){e||(n=r=0);var s=Math.round((t[0]-o)/i),l=Math.round((t[1]-u)/a);t[0]=s-n,t[1]=l-r,n=s,r=l}}function i(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function a(t,e){for(var n=0,r=t.length;r>n;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n}function o(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return u(t,e)})}:u(t,e)}function u(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:s(t,e)};return null==e.id&&delete n.id,n}function s(t,e){function r(t,e){e.length&&e.pop();for(var n,r=f[0>t?~t:t],a=0,o=r.length;o>a;++a)e.push(n=r[a].slice()),c(n,a);0>t&&i(e,o)}function a(t){return t=t.slice(),c(t,0),t}function o(t){for(var e=[],n=0,i=t.length;i>n;++n)r(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function u(t){for(var e=o(t);e.length<4;)e.push(e[0].slice());return e}function s(t){return t.map(u)}function l(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(l)}:e in h?{type:e,coordinates:h[e](t)}:null}var c=n(t.transform),f=t.arcs,h={Point:function(t){return a(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(a)},LineString:function(t){return o(t.arcs)},MultiLineString:function(t){return t.arcs.map(o)},Polygon:function(t){return s(t.arcs)},MultiPolygon:function(t){return t.arcs.map(s)}};return l(e)}function l(t,e){function n(e){
var n,r=t.arcs[0>e?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],0>e?[n,i]:[i,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[0>t?~t:t]=1}),u.push(r)}}var i={},a={},o={},u=[],s=-1;return e.forEach(function(n,r){var i,a=t.arcs[0>n?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=e[++s],e[s]=n,e[r]=i)}),e.forEach(function(t){var e,r,i=n(t),u=i[0],s=i[1];if(e=o[u])if(delete o[e.end],e.push(t),e.end=s,r=a[s]){delete a[r.start];var l=r===e?e:e.concat(r);a[l.start=e.start]=o[l.end=r.end]=l}else a[e.start]=o[e.end]=e;else if(e=a[s])if(delete a[e.start],e.unshift(t),e.start=u,r=o[u]){delete o[r.end];var c=r===e?e:r.concat(e);a[c.start=r.start]=o[c.end=e.end]=c}else a[e.start]=o[e.end]=e;else e=[t],a[e.start=u]=o[e.end=s]=e}),r(o,a),r(a,o),e.forEach(function(t){i[0>t?~t:t]||u.push([t])}),u}function c(t){return s(t,f.apply(this,arguments))}function f(t,e,n){function r(t){var e=0>t?~t:t;(c[e]||(c[e]=[])).push({i:t,g:s})}function i(t){t.forEach(r)}function a(t){t.forEach(i)}function o(t){"GeometryCollection"===t.type?t.geometries.forEach(o):t.type in f&&(s=t,f[t.type](t.arcs))}var u=[];if(arguments.length>1){var s,c=[],f={LineString:i,MultiLineString:a,Polygon:a,MultiPolygon:function(t){t.forEach(a)}};o(e),c.forEach(arguments.length<3?function(t){u.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&u.push(t[0].i)})}else for(var h=0,d=t.arcs.length;d>h;++h)u.push(h);return{type:"MultiLineString",arcs:l(t,u)}}function h(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}function d(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[0]*i[1]-e[1]*i[0];return a/2}function m(t){return s(t,g.apply(this,arguments))}function g(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(i[e=0>e?~e:e]||(i[e]=[])).push(t)})}),a.push(t)}function r(e){return Math.abs(d(s(t,{type:"Polygon",arcs:[e]}).coordinates[0]))}var i={},a=[],o=[];return e.forEach(function(t){"Polygon"===t.type?n(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(n)}),a.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,o.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){i[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),a.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:o.map(function(e){var n,a=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){i[0>t?~t:t].length<2&&a.push(t)})})}),a=l(t,a),(n=a.length)>1)for(var o,u,s=1,c=r(a[0]);n>s;++s)(o=r(a[s]))>c&&(u=a[0],a[0]=a[s],a[s]=u,c=o);return a})}}function p(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=i[t];n?n.push(e):i[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,e)}):t.type in u&&u[t.type](t.arcs,e)}var i={},o=t.map(function(){return[]}),u={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(r);for(var s in i)for(var l=i[s],c=l.length,f=0;c>f;++f)for(var h=f+1;c>h;++h){var d,m=l[f],g=l[h];(d=o[m])[s=a(d,g)]!==g&&d.splice(s,0,g),(d=o[g])[s=a(d,m)]!==m&&d.splice(s,0,m)}return o}function v(t,e){return t[1][2]-e[1][2]}function y(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,i=r[n];if(v(t,i)>=0)break;r[i._=e]=i,r[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,a=n-1,o=e,u=r[o];if(i>a&&v(r[a],u)<0&&(u=r[o=a]),i>n&&v(r[n],u)<0&&(u=r[o=n]),o===e)break;r[u._=e]=u,r[t._=e=o]=t}}var n={},r=[],i=0;return n.push=function(e){return t(r[e._=i]=e,i++),i},n.pop=function(){if(!(0>=i)){var t,n=r[0];return--i>0&&(t=r[i],e(r[t._=0]=t,0)),n}},n.remove=function(n){var a,o=n._;if(r[o]===n)return o!==--i&&(a=r[i],(v(a,n)<0?t:e)(r[a._=o]=a,o)),o},n}function b(t,e){function i(t){u.remove(t),t[1][2]=e(t),u.push(t)}var a=n(t.transform),o=r(t.transform),u=y();return e||(e=h),t.arcs.forEach(function(t){var n,r,s,l,c=[],f=0;for(r=0,s=t.length;s>r;++r)l=t[r],a(t[r]=[l[0],l[1],1/0],r);for(r=1,s=t.length-1;s>r;++r)n=t.slice(r-1,r+2),n[1][2]=e(n),c.push(n),u.push(n);for(r=0,s=c.length;s>r;++r)n=c[r],n.previous=c[r-1],n.next=c[r+1];for(;n=u.pop();){var h=n.previous,d=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],h&&(h.next=d,h[2]=n[2],i(h)),d&&(d.previous=h,d[0]=n[0],i(d))}t.forEach(o)}),t}var x="1.6.26";t.version=x,t.mesh=c,t.meshArcs=f,t.merge=m,t.mergeArcs=g,t.feature=o,t.neighbors=p,t.presimplify=b})},{}],7:[function(t,e,n){var r=t("./util"),i=t("./time"),a=i.utc,o=e.exports;o.$year=r.$func("year",i.year.unit),o.$month=r.$func("month",i.months.unit),o.$date=r.$func("date",i.dates.unit),o.$day=r.$func("day",i.weekdays.unit),o.$hour=r.$func("hour",i.hours.unit),o.$minute=r.$func("minute",i.minutes.unit),o.$second=r.$func("second",i.seconds.unit),o.$utcYear=r.$func("utcYear",a.year.unit),o.$utcMonth=r.$func("utcMonth",a.months.unit),o.$utcDate=r.$func("utcDate",a.dates.unit),o.$utcDay=r.$func("utcDay",a.weekdays.unit),o.$utcHour=r.$func("utcHour",a.hours.unit),o.$utcMinute=r.$func("utcMinute",a.minutes.unit),o.$utcSecond=r.$func("utcSecond",a.seconds.unit)},{"./time":29,"./util":30}],8:[function(t,e,n){function r(){this._cells={},this._aggr=[],this._stream=!1}function i(t){if(a.isArray(t))return t;if(null==t)return[];var e,n,r=[];for(e in t)n=a.array(t[e]),r.push({name:e,ops:n});return r}var a=t("../util"),o=t("./measures"),u=t("./collector"),s=r.Flags={ADD_CELL:1,MOD_CELL:2},l=r.prototype;l.stream=function(t){return null==t?this._stream:(this._stream=!!t,this._aggr=[],this)},l.key=function(t){return null==t?this._key:(this._key=a.$(t),this)},l.groupby=function(t){return this._dims=a.array(t).map(function(t,e){if(t=a.isString(t)?{name:t,get:a.$(t)}:a.isFunction(t)?{name:a.name(t)||t.name||"_"+e,get:t}:t.name&&a.isFunction(t.get)?t:null,null==t)throw"Invalid groupby argument: "+t;return t}),this.clear()},l.summarize=function(t){t=i(t),this._count=!0;var e,n,r,u,s,l,c,f=this._aggr=[];for(r=0;r<t.length;++r){for(u=0,e=[],n=t[r];u<n.ops.length;++u)s=n.ops[u],"count"!==s&&(this._count=!1),l=n.as&&n.as[u]||s+("*"===n.name?"":"_"+n.name),e.push(o[s](l));c=n.get&&a.$(n.get)||("*"===n.name?a.identity:a.$(n.name)),f.push({name:n.name,measures:o.create(e,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(t,e,n){t[e]=n},l.clear=function(){return this._cells={},this},l._cellkey=function(t){var e,n=this._dims,r=n.length,i=String(n[0].get(t));for(e=1;r>e;++e)i+="|"+n[e].get(t);return i},l._cell=function(t){var e=this._dims.length?this._cellkey(t):"";return this._cells[e]||(this._cells[e]=this._newcell(t,e))},l._newcell=function(t,e){var n,r={num:0,tuple:this._newtuple(t,e),flag:s.ADD_CELL,aggs:{}},i=this._aggr;for(n=0;n<i.length;++n)r.aggs[i[n].name]=new i[n].measures(r,r.tuple);return r.collect&&(r.data=new u(this._key)),r},l._newtuple=function(t){var e,n,r=this._dims,i={};for(e=0,n=r.length;n>e;++e)i[r[e].name]=r[e].get(t);return this._ingest(i)},l._ingest=a.identity,l._add=function(t){var e,n=this._cell(t),r=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(t),e=0;e<r.length;++e)n.aggs[r[e].name].add(t);n.flag|=s.MOD_CELL,this._on_add&&this._on_add(t,n)},l._rem=function(t){var e,n=this._cell(t),r=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(t),e=0;e<r.length;++e)n.aggs[r[e].name].rem(t);n.flag|=s.MOD_CELL,this._on_rem&&this._on_rem(t,n)},l._mod=function(t,e){var n,r=this._cell(e),i=this._cell(t),o=this._aggr;for(r!==i?(r.num-=1,i.num+=1,r.collect&&r.data.rem(e),i.collect&&i.data.add(t)):r.collect&&!a.isObject(t)&&(r.data.rem(e),r.data.add(t)),n=0;n<o.length;++n)r.aggs[o[n].name].rem(e),i.aggs[o[n].name].add(t);r.flag|=s.MOD_CELL,i.flag|=s.MOD_CELL,this._on_mod&&this._on_mod(t,e,r,i)},l._markMod=function(t){var e=this._cell(t);e.flag|=s.MOD_CELL},l.result=function(){var t,e,n,r=[],i=this._aggr;for(n in this._cells){if(t=this._cells[n],t.num>0){for(t.collect&&t.data.values(),e=0;e<i.length;++e)t.aggs[i[e].name].set();r.push(t.tuple)}else delete this._cells[n];t.flag=0}return this._rems=!1,r},l.changes=function(t){var e,n,r,i,a=t||{add:[],rem:[],mod:[]},o=this._aggr;for(i in this._cells){for(e=this._cells[i],n=e.flag,e.collect&&e.data.values(),r=0;r<o.length;++r)e.aggs[o[r].name].set();e.num<=0?(a.rem.push(e.tuple),delete this._cells[i],this._on_drop&&this._on_drop(e)):(this._on_keep&&this._on_keep(e),n&s.ADD_CELL?a.add.push(e.tuple):n&s.MOD_CELL&&a.mod.push(e.tuple)),e.flag=0}return this._rems=!1,a},l.execute=function(t){return this.clear().insert(t).result()},l.insert=function(t){this._consolidate();for(var e=0;e<t.length;++e)this._add(t[e]);return this},l.remove=function(t){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var e=0;e<t.length;++e)this._rem(t[e]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var t in this._cells)this._cells[t].collect&&this._cells[t].data.values();this._rems=!1}},e.exports=r},{"../util":30,"./collector":9,"./measures":11}],9:[function(t,e,n){function r(t){this._add=[],this._rem=[],this._key=t||null,this._last=null}var i=t("../util"),a=t("../stats"),o="__dl_rem__",u=r.prototype;u.add=function(t){this._add.push(t)},u.rem=function(t){this._rem.push(t)},u.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,r,u=this._add,s=this._rem,l=this._key,c=Array(u.length-s.length);if(i.isObject(s[0]))if(l)for(r=i.toMap(s,l),t=0,e=0,n=u.length;n>t;++t)r.hasOwnProperty(l(u[t]))||(c[e++]=u[t]);else{for(t=0,n=s.length;n>t;++t)s[t][o]=1;for(t=0,e=0,n=u.length;n>t;++t)u[t][o]||(c[e++]=u[t]);for(t=0,n=s.length;n>t;++t)delete s[t][o]}else for(r=a.count.map(s),t=0,e=0,n=u.length;n>t;++t)r[u[t]]>0?r[u[t]]-=1:c[e++]=u[t];return this._rem=[],this._add=c},u.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=a.extent.index(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},u.argmin=function(t){return this.extent(t)[0]},u.argmax=function(t){return this.extent(t)[1]},u.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):+(1/0)},u.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):-(1/0)},u.quartile=function(t){return this._get===t&&this._q||(this._q=a.quartile(this.values(),t),this._get=t),this._q},u.q1=function(t){return this.quartile(t)[0]},u.q2=function(t){return this.quartile(t)[1]},u.q3=function(t){return this.quartile(t)[2]},e.exports=r},{"../stats":27,"../util":30}],10:[function(t,e,n){var r=t("../util"),i=t("./aggregator");e.exports=function(){var t=[].reduce.call(arguments,function(t,e){return t.concat(r.array(e))},[]);return(new i).groupby(t).summarize({"*":"values"})}},{"../util":30,"./aggregator":8}],11:[function(t,e,n){function r(t){return function(e){var n=o.extend({init:"",add:"",rem:"",idx:0},t);return n.out=e||t.name,n}}function i(t,e){function n(t,r){function i(e){t[e]||n(t,t[e]=u[e]())}return r.req&&r.req.forEach(i),e&&r.str&&r.str.forEach(i),t}var r=t.reduce(n,t.reduce(function(t,e){return t[e.name]=e,t},{}));return o.vals(r).sort(function(t,e){return t.idx-e.idx})}function a(e,n,r,a){var u=i(e,n),s="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return u.forEach(function(t){t.idx<0?(s=t.init+s,l=t.add+l,c=t.rem+c):(s+=t.init,l+=t.add,c+=t.rem)}),e.slice().sort(function(t,e){return t.idx-e.idx}).forEach(function(t){f+="this.assign(t,'"+t.out+"',"+t.set+");"}),f+="return t;",s=Function("cell","t",s),s.prototype.assign=a,s.prototype.add=Function("t","var v = this.get(t);"+l),s.prototype.rem=Function("t","var v = this.get(t);"+c),s.prototype.set=Function(f),s.prototype.get=r,s.prototype.distinct=t("../stats").count.distinct,s.prototype.isValid=o.isValid,s.fields=e.map(o.$("out")),s}var o=t("../util"),u={values:r({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:r({name:"count",set:"cell.num"}),missing:r({name:"missing",set:"this.missing"}),valid:r({name:"valid",set:"this.valid"}),sum:r({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:r({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:r({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:r({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:r({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:r({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:r({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:r({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),median:r({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:r({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:r({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:r({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:r({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:r({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:r({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:r({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:r({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","variance","median"],idx:5})};u.create=a,e.exports=u},{"../stats":27,"../util":30}],12:[function(t,e,n){function r(t){if(!t)throw Error("Missing binning options.");var e,n,r,u,s,l,c,f=t.maxbins||15,h=t.base||10,d=Math.log(h),m=t.div||[5,2],g=t.min,p=t.max,v=p-g;if(t.step)e=t.step;else if(t.steps)e=t.steps[Math.min(t.steps.length-1,i(t.steps,v/f,0,t.steps.length))];else{for(n=Math.ceil(Math.log(f)/d),r=t.minstep||0,e=Math.max(r,Math.pow(h,Math.round(Math.log(v)/d)-n));Math.ceil(v/e)>f;)e*=h;for(l=0;l<m.length;++l)s=e/m[l],s>=r&&f>=v/s&&(e=s)}return s=Math.log(e),u=s>=0?0:~~(-s/d)+1,c=Math.pow(h,-u-1),g=Math.min(g,Math.floor(g/e+c)*e),p=Math.ceil(p/e)*e,{start:g,stop:p,step:e,unit:{precision:u},value:a,index:o}}function i(t,e,n,r){for(;r>n;){var i=n+r>>>1;l.cmp(t[i],e)<0?n=i+1:r=i}return n}function a(t){return this.step*Math.floor(t/this.step+f)}function o(t){return Math.floor((t-this.start)/this.step+f)}function u(t){return this.unit.date(a.call(this,t))}function s(t){return o.call(this,this.unit.unit(t))}var l=t("../util"),c=t("../time"),f=1e-15;r.date=function(t){if(!t)throw Error("Missing date binning options.");var e=t.utc?c.utc:c,n=t.min,i=t.max,a=t.maxbins||20,o=t.minbins||4,l=+i-+n,f=t.unit?e[t.unit]:e.find(l,o,a),h=r({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(i),maxbins:a,minstep:f.minstep,steps:f.step});return h.unit=f,h.index=s,t.raw||(h.value=u),h},e.exports=r},{"../time":29,"../util":30}],13:[function(t,e,n){function r(t,e,n){n=o(t,e,n);var r=a(n);return r?h.$func("bin",r.unit.unit?function(t){return r.value(r.unit.unit(t))}:function(t){return r.value(t)})(n.accessor):n.accessor||h.identity}function i(t,e,n){n=o(t,e,n);var r=a(n);return r?u(t,n.accessor,r):s(t,n.accessor,n&&n.sort)}function a(t){var e=t.type,n=null;return(null==e||m[e])&&("integer"===e&&null==t.minstep&&(t.minstep=1),n="date"===e?l.date(t):l(t)),n}function o(){var t=arguments,e=0,n=h.isArray(t[e])?t[e++]:null,r=h.isFunction(t[e])||h.isString(t[e])?h.$(t[e++]):null,i=h.extend({},t[e]);if(n&&(i.type=i.type||f(n,r),m[i.type])){var a=d.extent(n,r);i=h.extend({min:a[0],max:a[1]},i)}return r&&(i.accessor=r),i}function u(t,e,n){for(var r,i,a=c.range(n.start,n.stop+n.step/2,n.step).map(function(t){return{value:n.value(t),count:0}}),o=0;o<t.length;++o)if(r=e?e(t[o]):t[o],h.isValid(r)){if(i=n.index(r),0>i||i>=a.length||!isFinite(i))continue;a[i].count+=1}return a.bins=n,a}function s(t,e,n){var r=d.unique(t,e),i=d.count.map(t,e);return r.map(function(t){return{value:t,count:i[t]}}).sort(h.comparator(n?"-count":"+value"))}var l=t("./bins"),c=t("../generate"),f=t("../import/type"),h=t("../util"),d=t("../stats"),m={integer:1,number:1,date:1};e.exports={$bin:r,histogram:i}},{"../generate":16,"../import/type":25,"../stats":27,"../util":30,"./bins":12}],14:[function(t,e,n){function r(t,e){e=u.extend({separator:" ",minwidth:8,maxwidth:15},e);var n=e.fields||u.keys(t[0]),r=s.all(t);if(e.start||e.limit){var i=e.start||0,a=e.limit?i+e.limit:t.length;t=t.slice(i,a)}var o=n.map(function(n){var i=f[r[n]]||"",a=c("{{"+n+i+"}}"),o=l.max(t,function(t){return a(t).length});return o=Math.max(Math.min(n.length,e.minwidth),o),e.maxwidth>0?Math.min(o,e.maxwidth):o}),d=n.map(function(t,e){return u.truncate(u.pad(t,o[e],"center"),o[e])}).join(e.separator),m=c(n.map(function(t,e){return"{{"+t+(f[r[t]]||"")+("|pad:"+o[e]+","+(h[r[t]]||"right"))+("|truncate:"+o[e])+"}}"}).join(e.separator));return d+"\n"+t.map(m).join("\n")}function i(t){t=t?t.__summary__?t:l.summary(t):this;var e,n,r=[];for(e=0,n=t.length;n>e;++e)r.push("-- "+t[e].field+" --"),"string"===t[e].type||t[e].distinct<10?r.push(o(t[e])):r.push(a(t[e])),r.push("");return r.join("\n")}function a(t){return["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"min:      "+t.min,"max:      "+t.max,"median:   "+t.median,"mean:     "+t.mean,"stdev:    "+t.stdev,"modeskew: "+t.modeskew].join("\n")}function o(t){var e=["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"top values: "],n=t.unique,r=u.keys(n).sort(function(t,e){return n[e]-n[t]}).slice(0,6).map(function(t){return" '"+t+"' ("+n[t]+")"});return e.concat(r).join("\n")}var u=t("./util"),s=t("./import/type"),l=t("./stats"),c=t("./template");e.exports={table:r,summary:i};var f={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},h={number:"left",integer:"left"}},{"./import/type":25,"./stats":27,"./template":28,"./util":30}],15:[function(t,e,n){function r(t){return t.length>4&&"locale"+(t[0].toUpperCase()+t[1].toLowerCase()+t[3].toUpperCase()+t[4].toLowerCase())}function i(t){var e=x.isString(t)?k[r(t)]:k.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);w=e}function a(t){var e=x.isString(t)?_[r(t)]:_.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);T=e,p=v=y=b=null}function o(t,e){t.length||(t=[0]),null==e&&(e=10);var n=t[0],r=t[t.length-1];n>r&&(o=r,r=n,n=o);var i=r-n||(e=1,n||r||1),a=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=i/e/a;return o>=D?a*=10:o>=C?a*=5:o>=A&&(a*=2),[Math.ceil(n/a)*a,Math.floor(r/a)*a+a/2,a]}function u(t,e){return function(n){var r=t(n),i=r.indexOf(e);if(0>i)return r;for(var a=s(r,i),o=a<r.length?r.slice(a):"";--a>i;)if("0"!==r[a]){++a;break}return r.slice(0,a)+o}}function s(t,e){var n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&57>=n)return r+1}function l(t){var e=w.format(".1f")(1)[1];switch(null==t&&(t=","),t=k.formatSpecifier(t),null==t.precision&&(t.precision=12),t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return u(w.format(t),e)}function c(t,e,n){var r=o(t,e);switch(null==n&&(n=",f"),n=k.formatSpecifier(n),n.type){case"s":var i=Math.max(Math.abs(r[0]),Math.abs(r[1]));return null==n.precision&&(n.precision=k.precisionPrefix(r[2],i)),w.formatPrefix(n,i);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=k.precisionRound(r[2],Math.max(Math.abs(r[0]),Math.abs(r[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=k.precisionFixed(r[2])-2*("%"===n.type))}return w.format(n)}function f(){var t=T.format,e=t(".%L"),n=t(":%S"),r=t("%I:%M"),i=t("%I %p"),a=t("%a %d"),o=t("%b %d"),u=t("%B"),s=t("%Y");return function(t){var l=+t;return(M.second(t)<l?e:M.minute(t)<l?n:M.hour(t)<l?r:M.day(t)<l?i:M.month(t)<l?M.week(t)<l?a:o:M.year(t)<l?u:s)(t)}}function h(){var t=T.utcFormat,e=t(".%L"),n=t(":%S"),r=t("%I:%M"),i=t("%I %p"),a=t("%a %d"),o=t("%b %d"),u=t("%B"),s=t("%Y");return function(t){var l=+t;return(M.utcSecond(t)<l?e:M.utcMinute(t)<l?n:M.utcHour(t)<l?r:M.utcDay(t)<l?i:M.utcMonth(t)<l?M.utcWeek(t)<l?a:o:M.utcYear(t)<l?u:s)(t)}}function d(t,e){var n=e?v||(v=T.format("%b")):p||(p=T.format("%B"));return S.setMonth(t),n(S)}function m(t,e){var n=e?b||(b=T.format("%a")):y||(y=T.format("%A"));return S.setMonth(0),S.setDate(2+t),n(S)}function g(t){return Math.floor(t/3)+1}var p,v,y,b,x=t("./util"),M=t("d3-time"),_=t("d3-time-format"),k=t("d3-format"),w=k,T=_,S=new Date(2e3,0,1);e.exports={numberLocale:i,number:function(t){return w.format(t)},numberPrefix:function(t,e){return w.formatPrefix(t,e)},timeLocale:a,time:function(t){return T.format(t)},utc:function(t){return T.utcFormat(t)},locale:function(t){i(t),a(t)},auto:{number:l,linear:c,time:function(){return f()},utc:function(){return h()}},month:d,day:m,quarter:g};var D=Math.sqrt(50),C=Math.sqrt(10),A=Math.sqrt(2)},{"./util":30,"d3-format":3,"d3-time":5,"d3-time-format":4}],16:[function(t,e,n){var r=t("./util"),i=e.exports;i.repeat=function(t,e){var n,r=Array(e);for(n=0;e>n;++n)r[n]=t;return r},i.zeros=function(t){return i.repeat(0,t)},i.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("Infinite range");var r,i=[],a=-1;if(0>n)for(;(r=t+n*++a)>e;)i.push(r);else for(;(r=t+n*++a)<e;)i.push(r);return i},i.random={},i.random.uniform=function(t,e){void 0===e&&(e=void 0===t?1:t,t=0);var n=e-t,r=function(){return t+n*Math.random()};return r.samples=function(t){return i.zeros(t).map(r)},r.pdf=function(r){return r>=t&&e>=r?1/n:0},r.cdf=function(r){return t>r?0:r>e?1:(r-t)/n},r.icdf=function(e){return e>=0&&1>=e?t+e*n:NaN},r},i.random.integer=function(t,e){void 0===e&&(e=t,t=0);var n=e-t,r=function(){return t+Math.floor(n*Math.random())};return r.samples=function(t){return i.zeros(t).map(r)},r.pdf=function(r){return r===Math.floor(r)&&r>=t&&e>r?1/n:0},r.cdf=function(r){var i=Math.floor(r);return t>i?0:i>=e?1:(i-t+1)/n},r.icdf=function(e){return e>=0&&1>=e?t-1+Math.floor(e*n):NaN},r},i.random.normal=function(t,e){t=t||0,e=e||1;var n,r=function(){var r,i,a=0,o=0;if(void 0!==n)return a=n,n=void 0,a;do a=2*Math.random()-1,o=2*Math.random()-1,r=a*a+o*o;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),n=t+o*i*e,t+a*i*e};return r.samples=function(t){return i.zeros(t).map(r)},r.pdf=function(n){var r=Math.exp(Math.pow(n-t,2)/(-2*Math.pow(e,2)));return 1/(e*Math.sqrt(2*Math.PI))*r},r.cdf=function(n){var r,i=(n-t)/e,a=Math.abs(i);if(a>37)r=0;else{var o,u=Math.exp(-a*a/2);7.07106781186547>a?(o=.0352624965998911*a+.700383064443688,o=o*a+6.37396220353165,o=o*a+33.912866078383,o=o*a+112.079291497871,o=o*a+221.213596169931,o=o*a+220.206867912376,r=u*o,o=.0883883476483184*a+1.75566716318264,o=o*a+16.064177579207,o=o*a+86.7807322029461,o=o*a+296.564248779674,o=o*a+637.333633378831,o=o*a+793.826512519948,o=o*a+440.413735824752,r/=o):(o=a+.65,o=a+4/o,o=a+3/o,o=a+2/o,o=a+1/o,r=u/o/2.506628274631)}return i>0?1-r:r},r.icdf=function(n){if(0>=n||n>=1)return NaN;var r=2*n-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*i)+Math.log(1-Math.pow(r,2))/2,o=Math.log(1-r*r)/i,u=(r>0?1:-1)*Math.sqrt(Math.sqrt(a*a-o)-a);return t+e*Math.SQRT2*u},r},i.random.bootstrap=function(t,e){var n=t.filter(r.isValid),a=n.length,o=e?i.random.normal(0,e):null,u=function(){return n[~~(Math.random()*a)]+(o?o():0)};return u.samples=function(t){return i.zeros(t).map(u)},u}},{"./util":30}],17:[function(t,e,n){function r(t,e){if(t){var n=e.header;t=(n?n.join(e.delimiter)+"\n":"")+t}return a.dsv(e.delimiter).parse(t)}var i=t("../../util"),a=t("d3-dsv");r.delimiter=function(t){var e={delimiter:t};return function(t,n){return r(t,n?i.extend(n,e):e)}},e.exports=r},{"../../util":30,"d3-dsv":2}],18:[function(t,e,n){var r=t("./dsv");e.exports={json:t("./json"),topojson:t("./topojson"),treejson:t("./treejson"),dsv:r,csv:r.delimiter(","),tsv:r.delimiter("	")}},{"./dsv":17,"./json":19,"./topojson":20,"./treejson":21}],19:[function(t,e,n){var r=t("../../util");e.exports=function(t,e){var n=r.isObject(t)&&!r.isBuffer(t)?t:JSON.parse(t);return e&&e.property&&(n=r.accessor(e.property)(n)),n}},{"../../util":30}],20:[function(t,e,n){var r=t("./json"),i=function(t,e){var n=i.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var a,o=r(t,e);if(e&&e.feature){if(a=o.objects[e.feature])return n.feature(o,a).features;throw Error("Invalid TopoJSON object: "+e.feature)}if(e&&e.mesh){if(a=o.objects[e.mesh])return[n.mesh(o,o.objects[e.mesh])];throw Error("Invalid TopoJSON object: "+e.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};i.topojson=t("topojson"),e.exports=i},{"./json":19,topojson:6}],21:[function(t,e,n){function r(t,e){function n(t,e){t[i]=e,a.push(t);var o=t[r];if(o)for(var u=0;u<o.length;++u)n(o[u],t)}var r=e&&e.children||"children",i=e&&e.parent||"parent",a=[];return n(t,null),a.root=t,a}var i=t("./json");e.exports=function(t,e){return r(i(t,e),e)}},{"./json":19}],22:[function(t,e,n){function r(e){var n=e.url;if(!n&&e.file)return d+e.file;if(e.baseURL&&!h.test(n)&&(c(n,"/")||"/"===e.baseURL[e.baseURL.length-1]||(n="/"+n),n=e.baseURL+n),!i.useXHR&&c(n,"//")&&(n=(e.defaultProtocol||"http")+":"+n),e.domainWhiteList){var r,a;if(i.useXHR){var o=document.createElement("a");o.href=n,""===o.host&&(o.href=o.href),r=o.hostname.toLowerCase(),a=window.location.hostname}else{var u=t("url").parse(n);r=u.hostname,a=null}if(a!==r){var s=e.domainWhiteList.some(function(t){var e=r.length-t.length;return t===r||e>1&&"."===r[e-1]&&r.lastIndexOf(t)===e});if(!s)throw"URL is not whitelisted: "+n}}return n}function i(t,e){return i.loader(t,e)}function a(t,e){var n,r=e||function(t){throw t};try{n=i.sanitizeUrl(t)}catch(a){return void r(a)}return n?i.useXHR?i.xhr(n,t,e):c(n,d)?i.file(n.slice(d.length),t,e):n.indexOf("://")<0?i.file(n,t,e):i.http(n,t,e):void r("Invalid URL: "+t.url)}function o(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function u(t,e,n){function r(){var t=u.status;!t&&o(u)||t>=200&&300>t||304===t?n(null,u.responseText):n(u,null)}var a=!!n,u=new XMLHttpRequest;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),a&&("onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()}),u.open("GET",t,a),u.setRequestHeader){var s=f.extend({},i.headers,e.headers);for(var l in s)u.setRequestHeader(l,s[l])}return u.send(),!a&&o(u)?u.responseText:void 0}function s(e,n,r){var i=t("fs");return r?void i.readFile(e,r):i.readFileSync(e,"utf8")}function l(e,n,r){var a=f.extend({},i.headers,n.headers);if(!r)return t("sync-request")("GET",e,{headers:a}).getBody();var o={url:e,encoding:null,gzip:!0,headers:a};t("request")(o,function(t,e,n){t||200!==e.statusCode?(t=t||"Load failed with response code "+e.statusCode+".",r(t,null)):r(null,n)})}function c(t,e){return null==t?!1:0===t.lastIndexOf(e,0)}var f=t("../util"),h=/^([A-Za-z]+:)?\/\//,d="file://";i.loader=a,i.sanitizeUrl=r,i.xhr=u,i.file=s,i.http=l,i.useXHR="undefined"!=typeof XMLHttpRequest,i.headers={},e.exports=i},{"../util":30,fs:1,request:1,"sync-request":1,url:1}],23:[function(t,e,n){function r(t,e){var n=e&&e.type||"json";return t=u[n](t,e),e&&e.parse&&i(t,e.parse),t}function i(t,e){var n,r,i,u,l,c,f=t.length;for(e="auto"===e?o.inferAll(t):a.duplicate(e),n=a.keys(e),r=n.map(function(t){var n=e[t];if(n&&0===n.indexOf("date:")){var r=n.split(/:(.+)?/,2),i=r[1];if(!("'"===i[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1]))throw Error("Format pattern must be quoted: "+i);return i=i.slice(1,-1),i=s(i),function(t){return i.parse(t)}}if(!o.parsers[n])throw Error("Illegal format pattern: "+t+":"+n);return o.parsers[n]}),u=0,c=n.length;f>u;++u)for(i=t[u],l=0;c>l;++l)i[n[l]]=r[l](i[n[l]]);o.annotation(t,e)}var a=t("../util"),o=t("./type"),u=t("./formats"),s=t("../format").time;r.formats=u,e.exports=r},{"../format":15,"../util":30,"./formats":18,"./type":25}],24:[function(t,e,n){var r=t("../util"),i=t("./load"),a=t("./read");e.exports=r.keys(a.formats).reduce(function(t,e){return t[e]=function(t,n,o){r.isString(t)&&(t={url:t}),2===arguments.length&&r.isFunction(n)&&(o=n,n=void 0),n=r.extend({parse:"auto"},n),n.type=e;var u=i(t,o?function(t,e){if(t)return void o(t,null);try{e=a(e,n),o(null,e)}catch(r){o(r,null)}}:void 0);return o?void 0:a(u,n)},t},{})},{"../util":30,"./load":22,"./read":23}],25:[function(t,e,n){function r(t,e){return e?void(t[l]=e):t&&t[l]||null}function i(t,e){t=s.array(t),e=s.$(e);var n,r,i;if(t[l]&&(n=e(t[l]),s.isString(n)))return n;for(r=0,i=t.length;!s.isValid(n)&&i>r;++r)n=e?e(t[r]):t[r];return s.isDate(n)?"date":s.isNumber(n)?"number":s.isBoolean(n)?"boolean":s.isString(n)?"string":null}function a(t,e){return t.length?(e=e||s.keys(t[0]),e.reduce(function(e,n){return e[n]=i(t,n),e},{})):void 0}function o(t,e){t=s.array(t),e=s.$(e);var n,r,i,a=["boolean","integer","number","date"];for(n=0;n<t.length;++n){for(i=e?e(t[n]):t[n],r=0;r<a.length;++r)s.isValid(i)&&!f[a[r]](i)&&(a.splice(r,1),r-=1);if(0===a.length)return"string"}return a[0]}function u(t,e){return e=e||s.keys(t[0]),e.reduce(function(e,n){return e[n]=o(t,n),e},{})}var s=t("../util"),l="__types__",c={"boolean":s["boolean"],integer:s.number,number:s.number,date:s.date,string:function(t){return""===t?null:t}},f={"boolean":function(t){return"true"===t||"false"===t||s.isBoolean(t)},integer:function(t){return f.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!s.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};i.annotation=r,i.all=a,i.infer=o,i.inferAll=u,i.parsers=c,e.exports=i},{"../util":30}],26:[function(t,e,n){var r=t("./util"),i={version:"1.7.0",load:t("./import/load"),read:t("./import/read"),type:t("./import/type"),Aggregator:t("./aggregate/aggregator"),groupby:t("./aggregate/groupby"),bins:t("./bins/bins"),$bin:t("./bins/histogram").$bin,histogram:t("./bins/histogram").histogram,format:t("./format"),template:t("./template"),time:t("./time")};r.extend(i,r),r.extend(i,t("./accessor")),r.extend(i,t("./generate")),r.extend(i,t("./stats")),r.extend(i,t("./import/readers")),r.extend(i.format,t("./format-tables")),i.print={table:i.format.table,summary:i.format.summary},e.exports=i},{"./accessor":7,"./aggregate/aggregator":8,"./aggregate/groupby":10,"./bins/bins":12,"./bins/histogram":13,"./format":15,"./format-tables":14,"./generate":16,"./import/load":22,"./import/read":23,"./import/readers":24,"./import/type":25,"./stats":27,"./template":28,"./time":29,"./util":30}],27:[function(t,e,n){function r(t,e,n){var r=t&&t.nullh||0,i=s.random.normal(0,1),a=l.mean(e,n),o=l.stdev(e,n)/Math.sqrt(l.count.valid(e,n));if(0===o)return a-r===0?1:0;var u=(a-r)/o;return 2*i.cdf(-Math.abs(u))}function i(t,e,n,r){var i,a=r?e.map(o.$(n)):e,u=r?e.map(o.$(r)):n,s=l.count(a),c=l.count(u),f=Array();if(s!==c)throw Error("Array lengths must match.");for(i=0;s>i;++i)o.isValid(a[i])&&o.isValid(u[i])&&f.push(a[i]-u[i]);return l.z.test(f,t&&t.nullh||0)}function a(t,e,n,r){var i=r?e.map(o.$(n)):e,a=r?e.map(o.$(r)):n,u=l.count.valid(i),c=l.count.valid(a),f=s.random.normal(0,1),h=l.mean(i)-l.mean(a)-(t&&t.nullh||0),d=Math.sqrt(l.variance(i)/u+l.variance(a)/c);
if(0===d)return 0===h?1:0;var m=h/d;return 2*f.cdf(-Math.abs(m))}var o=t("./util"),u=t("./import/type"),s=t("./generate"),l=e.exports;l.unique=function(t,e,n){e=o.$(e),n=n||[];var r,i,a,u={};for(i=0,a=t.length;a>i;++i)r=e?e(t[i]):t[i],r in u||(u[r]=1,n.push(r));return n},l.count=function(t){return t&&t.length||0},l.count.valid=function(t,e){e=o.$(e);var n,r,i,a=0;for(r=0,i=t.length;i>r;++r)n=e?e(t[r]):t[r],o.isValid(n)&&(a+=1);return a},l.count.missing=function(t,e){e=o.$(e);var n,r,i,a=0;for(r=0,i=t.length;i>r;++r)n=e?e(t[r]):t[r],null==n&&(a+=1);return a},l.count.distinct=function(t,e){e=o.$(e);var n,r,i,a={},u=0;for(r=0,i=t.length;i>r;++r)n=e?e(t[r]):t[r],n in a||(a[n]=1,u+=1);return u},l.count.map=function(t,e){e=o.$(e);var n,r,i,a={};for(r=0,i=t.length;i>r;++r)n=e?e(t[r]):t[r],a[n]=n in a?a[n]+1:1;return a},l.median=function(t,e){return e&&(t=t.map(o.$(e))),t=t.filter(o.isValid).sort(o.cmp),l.quantile(t,.5)},l.quartile=function(t,e){e&&(t=t.map(o.$(e))),t=t.filter(o.isValid).sort(o.cmp);var n=l.quantile;return[n(t,.25),n(t,.5),n(t,.75)]},l.quantile=function(t,e,n){void 0===n&&(n=e,e=o.identity),e=o.$(e);var r=(t.length-1)*n+1,i=Math.floor(r),a=+e(t[i-1]),u=r-i;return u?a+u*(e(t[i])-a):a},l.sum=function(t,e){e=o.$(e);for(var n,r=0,i=0,a=t.length;a>i;++i)n=e?e(t[i]):t[i],o.isValid(n)&&(r+=n);return r},l.mean=function(t,e){e=o.$(e);var n,r,i,a,u,s=0;for(r=0,a=0,i=t.length;i>r;++r)u=e?e(t[r]):t[r],o.isValid(u)&&(n=u-s,s+=n/++a);return s},l.mean.geometric=function(t,e){e=o.$(e);var n,r,i,a,u=1;for(a=0,n=0,r=t.length;r>a;++a)if(i=e?e(t[a]):t[a],o.isValid(i)){if(0>=i)throw Error("Geometric mean only defined for positive values.");u*=i,++n}return u=n>0?Math.pow(u,1/n):0},l.mean.harmonic=function(t,e){e=o.$(e);var n,r,i,a,u=0;for(a=0,n=0,r=t.length;r>a;++a)i=e?e(t[a]):t[a],o.isValid(i)&&(u+=1/i,++n);return n/u},l.variance=function(t,e){if(e=o.$(e),!o.isArray(t)||t.length<2)return 0;var n,r,i,a,u=0,s=0;for(r=0,i=0;r<t.length;++r)a=e?e(t[r]):t[r],o.isValid(a)&&(n=a-u,u+=n/++i,s+=n*(a-u));return s/=i-1},l.stdev=function(t,e){return Math.sqrt(l.variance(t,e))},l.modeskew=function(t,e){var n=l.mean(t,e),r=l.median(t,e),i=l.stdev(t,e);return 0===i?0:(n-r)/i},l.min=function(t,e){return l.extent(t,e)[0]},l.max=function(t,e){return l.extent(t,e)[1]},l.extent=function(t,e){e=o.$(e);var n,r,i,a,u=t.length;for(a=0;u>a;++a)if(i=e?e(t[a]):t[a],o.isValid(i)){n=r=i;break}for(;u>a;++a)i=e?e(t[a]):t[a],o.isValid(i)&&(n>i&&(n=i),i>r&&(r=i));return[n,r]},l.extent.index=function(t,e){e=o.$(e);var n,r,i,a,u=-1,s=-1,l=t.length;for(a=0;l>a;++a)if(i=e?e(t[a]):t[a],o.isValid(i)){n=r=i,u=s=a;break}for(;l>a;++a)i=e?e(t[a]):t[a],o.isValid(i)&&(n>i&&(n=i,u=a),i>r&&(r=i,s=a));return[u,s]},l.dot=function(t,e,n){var r,i,a=0;if(n)for(e=o.$(e),n=o.$(n),r=0;r<t.length;++r)i=e(t[r])*n(t[r]),i===i&&(a+=i);else{if(t.length!==e.length)throw Error("Array lengths must match.");for(r=0;r<t.length;++r)i=t[r]*e[r],i===i&&(a+=i)}return a},l.dist=function(t,e,n,r){var i,a,u=o.isFunction(n)||o.isString(n),s=t,l=u?t:e,c=u?r:n,f=2===c||null==c,h=t.length,d=0;for(u&&(e=o.$(e),n=o.$(n)),a=0;h>a;++a)i=u?e(s[a])-n(l[a]):s[a]-l[a],d+=f?i*i:Math.pow(Math.abs(i),c);return f?Math.sqrt(d):Math.pow(d,1/c)},l.cohensd=function(t,e,n){var r=n?t.map(o.$(e)):t,i=n?t.map(o.$(n)):e,a=l.mean(r),u=l.mean(i),s=l.count.valid(r),c=l.count.valid(i);if(0>=s+c-2)return 0;var f=l.variance(r),h=l.variance(i),d=Math.sqrt(((s-1)*f+(c-1)*h)/(s+c-2));return 0===d?0:(a-u)/d},l.covariance=function(t,e,n){var r,i,a,u,s,c=n?t.map(o.$(e)):t,f=n?t.map(o.$(n)):e,h=c.length,d=l.mean(c),m=l.mean(f),g=0,p=0;if(h!==f.length)throw Error("Input lengths must match.");for(r=0;h>r;++r)if(i=c[r],u=o.isValid(i),a=f[r],s=o.isValid(a),u&&s)g+=(i-d)*(a-m),++p;else if(u||s)throw Error("Valid values must align.");return g/(p-1)},l.rank=function(t,e){e=o.$(e)||o.identity;var n,r,i,a=t.map(function(t,n){return{idx:n,val:e(t)}}).sort(o.comparator("val")),u=t.length,s=Array(u),l=-1,c={};for(n=0;u>n;++n){if(r=a[n].val,0>l&&c===r)l=n-1;else if(l>-1&&c!==r){for(i=1+(n-1+l)/2;n>l;++l)s[a[l].idx]=i;l=-1}s[a[n].idx]=n+1,c=r}if(l>-1)for(i=1+(u-1+l)/2;u>l;++l)s[a[l].idx]=i;return s},l.cor=function(t,e,n){var r=n;n=r?t.map(o.$(n)):e,e=r?t.map(o.$(e)):t;var i=l.dot(e,n),a=l.mean(e),u=l.mean(n),s=l.stdev(e),c=l.stdev(n),f=t.length;return(i-f*a*u)/((f-1)*s*c)},l.cor.rank=function(t,e,n){var r,i,a,o=n?l.rank(t,e):l.rank(t),u=n?l.rank(t,n):l.rank(e),s=t.length;for(r=0,i=0;s>r;++r)a=o[r]-u[r],i+=a*a;return 1-6*i/(s*(s*s-1))},l.cor.dist=function(t,e,n){var r,i,a,u,s=n?t.map(o.$(e)):t,c=n?t.map(o.$(n)):e,f=l.dist.mat(s),h=l.dist.mat(c),d=f.length;for(r=0,i=0,a=0,u=0;d>r;++r)i+=f[r]*f[r],a+=h[r]*h[r],u+=f[r]*h[r];return Math.sqrt(u/Math.sqrt(i*a))},l.linearRegression=function(t,e,n){var r,i,a=n?t.map(o.$(e)):t,u=n?t.map(o.$(n)):e,s=a.length,c=l.covariance(a,u),f=l.stdev(a),h=l.stdev(u),d=c/(f*f),m=l.mean(u)-d*l.mean(a),g={slope:d,intercept:m,R:c/(f*h),rss:0};for(i=0;s>i;++i)o.isValid(a[i])&&o.isValid(u[i])&&(r=d*a[i]+m-u[i],g.rss+=r*r);return g},l.bootstrap={},l.bootstrap.ci=function(t,e,n,r,i){var a,u,c,f,h,d,m;for(o.isFunction(e)||o.isString(e)?(a=t.map(o.$(e)),u=n,c=r,f=i):(a=t,u=e,c=n,f=r),u=u?+u:1e3,c=c||.05,h=s.random.bootstrap(a,f),m=0,d=Array(u);u>m;++m)d[m]=l.mean(h.samples(a.length));return d.sort(o.numcmp),[l.quantile(d,c/2),l.quantile(d,1-c/2)]},l.z={},l.z.ci=function(t,e,n){var r=t,i=e;(o.isFunction(e)||o.isString(e))&&(r=t.map(o.$(e)),i=n),i=i||.05;var a=.05===i?1.96:s.random.normal(0,1).icdf(1-i/2),u=l.mean(r),c=l.stdev(r)/Math.sqrt(l.count.valid(r));return[u-a*c,u+a*c]},l.z.test=function(t,e,n,u){return o.isFunction(n)||o.isString(n)?(u&&u.paired?i:a)(u,t,e,n):o.isArray(e)?(n&&n.paired?i:a)(n,t,e):o.isFunction(e)||o.isString(e)?r(n,t,e):r(e,t)},l.dist.mat=function(t){var e,n,r,i=t.length,a=i*i,o=Array(a),u=s.zeros(i),l=0;for(n=0;i>n;++n)for(o[n*i+n]=0,r=n+1;i>r;++r)o[n*i+r]=e=Math.abs(t[n]-t[r]),o[r*i+n]=e,u[n]+=e,u[r]+=e;for(n=0;i>n;++n)l+=u[n],u[n]/=i;for(l/=a,n=0;i>n;++n)for(r=n;i>r;++r)o[n*i+r]+=l-u[n]-u[r],o[r*i+n]=o[n*i+r];return o},l.entropy=function(t,e){e=o.$(e);var n,r,i=0,a=0,u=t.length;for(n=0;u>n;++n)i+=e?e(t[n]):t[n];if(0===i)return 0;for(n=0;u>n;++n)r=(e?e(t[n]):t[n])/i,r&&(a+=r*Math.log(r));return-a/Math.LN2},l.mutual=function(t,e,n,r){var i,a,u,s=r?t.map(o.$(e)):t,l=r?t.map(o.$(n)):e,c=r?t.map(o.$(r)):n,f={},h={},d=c.length,m=0,g=0,p=0;for(u=0;d>u;++u)f[s[u]]=0,h[l[u]]=0;for(u=0;d>u;++u)f[s[u]]+=c[u],h[l[u]]+=c[u],m+=c[u];for(a=1/(m*Math.LN2),u=0;d>u;++u)0!==c[u]&&(i=m*c[u]/(f[s[u]]*h[l[u]]),g+=c[u]*a*Math.log(i),p+=c[u]*a*Math.log(c[u]/m));return[g,1+g/p]},l.mutual.info=function(t,e,n,r){return l.mutual(t,e,n,r)[0]},l.mutual.dist=function(t,e,n,r){return l.mutual(t,e,n,r)[1]},l.profile=function(t,e){var n,r,i,a,s,c=0,f=0,h=0,d=0,m=null,g=null,p=0,v=[],y={};for(i=0;i<t.length;++i)a=e?e(t[i]):t[i],y[a]=a in y?y[a]+1:(d+=1,1),null==a?++h:o.isValid(a)&&(s="string"==typeof a?a.length:a,(null===m||m>s)&&(m=s),(null===g||s>g)&&(g=s),n=s-c,c+=n/++f,p+=n*(s-c),v.push(s));return p/=f-1,r=Math.sqrt(p),v.sort(o.cmp),{type:u(t,e),unique:y,count:t.length,valid:f,missing:h,distinct:d,min:m,max:g,mean:c,stdev:r,median:a=l.quantile(v,.5),q1:l.quantile(v,.25),q3:l.quantile(v,.75),modeskew:0===r?0:(c-a)/r}},l.summary=function(t,e){e=e||o.keys(t[0]);var n=e.map(function(e){var n=l.profile(t,o.$(e));return n.field=e,n});return n.__summary__=!0,n}},{"./generate":16,"./import/type":25,"./util":30}],28:[function(t,e,n){function r(t){var e=i(t,"d");return e="var __t; return "+e+";",new Function("d",e).bind(f)}function i(t,e,n){e=e||"obj";var r=0,i="'",u=h;return t.replace(u,function(u,s,l){return i+=t.slice(r,l).replace(p,o),r=l+u.length,s&&(i+="'\n+((__t=("+a(s,e,n)+"))==null?'':__t)+\n'"),u}),i+"'"}function a(t,e,n){function i(t){return t=t||"",f?(f=!1,h="String("+h+")"+t):h+=t,h}function a(){return"(typeof "+h+'==="number"?new Date('+h+"):"+h+")"}function o(t){var e=x[0];if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);e=e.slice(1,-1),v=u(e,t),f=!1;var n="number"===t?h:a();h="this.formats["+v+"]("+n+")"}var s=t.match(d),c=s.shift().trim(),f=!0;n&&(n[c]=1);for(var h=r.property(e,c),g=0;g<s.length;++g){var p,v,y,b=s[g],x=null;switch((p=b.indexOf(":"))>0&&(b=b.slice(0,p),x=s[g].slice(p+1).match(m).map(function(t){return t.trim()})),b=b.trim()){case"length":i(".length");break;case"lower":i(".toLowerCase()");break;case"upper":i(".toUpperCase()");break;case"lower-locale":i(".toLocaleLowerCase()");break;case"upper-locale":i(".toLocaleUpperCase()");break;case"trim":i(".trim()");break;case"left":v=l.number(x[0]),i(".slice(0,"+v+")");break;case"right":v=l.number(x[0]),i(".slice(-"+v+")");break;case"mid":v=l.number(x[0]),y=v+l.number(x[1]),i(".slice(+"+v+","+y+")");break;case"slice":v=l.number(x[0]),i(".slice("+v+(x.length>1?","+l.number(x[1]):"")+")");break;case"truncate":v=l.number(x[0]),y=x[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,h="this.truncate("+i()+","+v+",'"+y+"')";break;case"pad":v=l.number(x[0]),y=x[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,h="this.pad("+i()+","+v+",'"+y+"')";break;case"number":o("number");break;case"time":o("time");break;case"time-utc":o("utc");break;case"month":h="this.month("+h+")";break;case"month-abbrev":h="this.month("+h+",true)";break;case"day":h="this.day("+h+")";break;case"day-abbrev":h="this.day("+h+",true)";break;case"quarter":h="this.quarter("+h+")";break;default:throw Error("Unrecognized template filter: "+b)}}return h}function o(t){return"\\"+g[t]}function u(t,e){var n=e+":"+t;if(null==f.format_map[n]){var r=c[e](t),i=f.formats.length;return f.formats.push(r),f.format_map[n]=i,i}return f.format_map[n]}function s(t,e){return f.formats[u(t,e)]}var l=t("./util"),c=t("./format"),f={formats:[],format_map:{},truncate:l.truncate,pad:l.pad,day:c.day,month:c.month,quarter:c.quarter};r.source=i,r.context=f,r.format=s,e.exports=r,r.clearFormatCache=function(){f.formats=[],f.format_map={}},r.property=function(t,e){var n=l.field(e).map(l.str).join("][");return t+"["+n+"]"};var h=/\{\{(.+?)\}\}|$/g,d=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,m=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,g={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},p=/\\|'|\r|\n|\u2028|\u2029/g},{"./format":15,"./util":30}],29:[function(t,e,n){function r(t){return l.setTime(+t),l}function i(t,e,n,r,i,a){var o={type:t,date:e,unit:n};return r?o.step=r:o.minstep=1,null!=i&&(o.min=i),null!=a&&(o.max=a),o}function a(t,e,n,r,a,o){return i(t,function(t){return e.offset(n,t)},function(t){return e.count(n,t)},r,a,o)}function o(t,e,n,r){var i,a,o,u=m[0];for(i=1,a=m.length;a>i;++i)if(u=m[i],e>u[0]){if(o=e/u[0],o>r)return t[m[i-1][1]];if(o>=n)return t[u[1]]}return t[m[a-1][1]]}function u(t){var e,n,r={};for(e=0,n=t.length;n>e;++e)r[t[e].type]=t[e];return r.find=function(e,n,r){return o(t,e,n,r)},r}var s=t("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),h=[a("second",s.second,c),a("minute",s.minute,c),a("hour",s.hour,c),a("day",s.day,c,[1,7]),a("month",s.month,c,[1,3,6]),a("year",s.year,c),i("seconds",function(t){return new Date(1970,0,1,0,0,t)},function(t){return r(t).getSeconds()},null,0,59),i("minutes",function(t){return new Date(1970,0,1,0,t)},function(t){return r(t).getMinutes()},null,0,59),i("hours",function(t){return new Date(1970,0,1,t)},function(t){return r(t).getHours()},null,0,23),i("weekdays",function(t){return new Date(1970,0,4+t)},function(t){return r(t).getDay()},[1],0,6),i("dates",function(t){return new Date(1970,0,t)},function(t){return r(t).getDate()},[1],1,31),i("months",function(t){return new Date(1970,t%12,1)},function(t){return r(t).getMonth()},[1],0,11)],d=[a("second",s.utcSecond,f),a("minute",s.utcMinute,f),a("hour",s.utcHour,f),a("day",s.utcDay,f,[1,7]),a("month",s.utcMonth,f,[1,3,6]),a("year",s.utcYear,f),i("seconds",function(t){return new Date(Date.UTC(1970,0,1,0,0,t))},function(t){return r(t).getUTCSeconds()},null,0,59),i("minutes",function(t){return new Date(Date.UTC(1970,0,1,0,t))},function(t){return r(t).getUTCMinutes()},null,0,59),i("hours",function(t){return new Date(Date.UTC(1970,0,1,t))},function(t){return r(t).getUTCHours()},null,0,23),i("weekdays",function(t){return new Date(Date.UTC(1970,0,4+t))},function(t){return r(t).getUTCDay()},[1],0,6),i("dates",function(t){return new Date(Date.UTC(1970,0,t))},function(t){return r(t).getUTCDate()},[1],1,31),i("months",function(t){return new Date(Date.UTC(1970,t%12,1))},function(t){return r(t).getUTCMonth()},[1],0,11)],m=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];e.exports=u(h),e.exports.utc=u(d)},{"d3-time":5}],30:[function(t,e,n){(function(t){function n(t,e){var n,r="";for(n=0;t>n;++n)r+=e;return r}function r(t,e,n){var r=0,i=t.split(s);return t=n?(i=i.reverse()).filter(function(t){return r+=t.length,e>=r}).reverse():i.filter(function(t){return r+=t.length,e>=r}),t.length?t.join("").trim():i[0].slice(0,e)}var i=e.exports,a="__name__";i.namedfunc=function(t,e){return e[a]=t,e},i.name=function(t){return null==t?null:t[a]},i.identity=function(t){return t},i["true"]=i.namedfunc("true",function(){return!0}),i["false"]=i.namedfunc("false",function(){return!1}),i.duplicate=function(t){return JSON.parse(JSON.stringify(t))},i.equal=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},i.extend=function(t){for(var e,n,r=1,i=arguments.length;i>r;++r){e=arguments[r];for(n in e)t[n]=e[n]}return t},i.length=function(t){return null!=t&&null!=t.length?t.length:null},i.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},i.vals=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},i.toMap=function(t,e){return(e=i.$(e))?t.reduce(function(t,n){return t[e(n)]=1,t},{}):t.reduce(function(t,e){return t[e]=1,t},{})},i.keystr=function(t){var e=t.length;if(!e)return"";for(var n=String(t[0]),r=1;e>r;++r)n+="|"+String(t[r]);return n};var o=Object.prototype.toString;i.isObject=function(t){return t===Object(t)},i.isFunction=function(t){return"[object Function]"===o.call(t)},i.isString=function(t){return"string"==typeof value||"[object String]"===o.call(t)},i.isArray=Array.isArray||function(t){return"[object Array]"===o.call(t)},i.isNumber=function(t){return"number"==typeof t||"[object Number]"===o.call(t)},i.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==o.call(t)},i.isDate=function(t){return"[object Date]"===o.call(t)},i.isValid=function(t){return null!=t&&t===t},i.isBuffer="function"==typeof t&&t.isBuffer||i["false"],i.number=function(t){return null==t||""===t?null:+t},i["boolean"]=function(t){return null==t||""===t?null:"false"===t?!1:!!t},i.date=function(t,e){var n=e?e:Date;return null==t||""===t?null:n.parse(t)},i.array=function(t){return null!=t?i.isArray(t)?t:[t]:[]},i.str=function(t){return i.isArray(t)?"["+t.map(i.str)+"]":i.isObject(t)||i.isString(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t};var u=/\[(.*?)\]|[^.\[]+/g;i.field=function(t){return String(t).match(u).map(function(t){return"["!==t[0]?t:"'"!==t[1]&&'"'!==t[1]?t.slice(1,-1):t.slice(2,-2).replace(/\\(["'])/g,"$1")})},i.accessor=function(t){return null==t||i.isFunction(t)?t:i.namedfunc(t,Function("x","return x["+i.field(t).map(i.str).join("][")+"];"))},i.$=i.accessor,i.mutator=function(t){var e;return i.isString(t)&&(e=i.field(t)).length>1?function(t,n){for(var r=0;r<e.length-1;++r)t=t[e[r]];t[e[r]]=n}:function(e,n){e[t]=n}},i.$func=function(t,e){return function(n){n=i.$(n)||i.identity;var r=t+(i.name(n)?"_"+i.name(n):"");return i.namedfunc(r,function(t){return e(n(t))})}},i.$valid=i.$func("valid",i.isValid),i.$length=i.$func("length",i.length),i.$in=function(t,e){t=i.$(t);var n=i.isArray(e)?i.toMap(e):e;return function(e){return!!n[t(e)]}},i.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=i.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),i.accessor(t)}),function(n,r){var i,a,o,u,s;for(i=0,a=t.length;a>i;++i){if(o=t[i],u=o(n),s=o(r),s>u)return-1*e[i];if(u>s)return e[i]}return 0}},i.cmp=function(t,e){return e>t?-1:t>e?1:t>=e?0:null===t?-1:null===e?1:NaN},i.numcmp=function(t,e){return t-e},i.stablesort=function(t,e,n){var r=t.reduce(function(t,e,r){return t[n(e)]=r,t},{});return t.sort(function(t,i){var a=e(t),o=e(i);return o>a?-1:a>o?1:r[n(t)]-r[n(i)]}),t},i.permute=function(t){for(var e,n,r=t.length;r;)n=Math.floor(Math.random()*r--),e=t[r],t[r]=t[n],t[n]=e},i.pad=function(t,e,r,i){i=i||" ";var a=e-t.length;if(0>=a)return t;switch(r){case"left":return n(a,i)+t;case"middle":case"center":return n(Math.floor(a/2),i)+t+n(Math.ceil(a/2),i);default:return t+n(a,i)}},i.truncate=function(t,e,n,i,a){var o=t.length;if(e>=o)return t;a=void 0!==a?String(a):"…";var u=Math.max(0,e-a.length);switch(n){case"left":return a+(i?r(t,u,1):t.slice(o-u));case"middle":case"center":var s=Math.ceil(u/2),l=Math.floor(u/2);return(i?r(t,s):t.slice(0,s))+a+(i?r(t,l,1):t.slice(o-l));default:return(i?r(t,u):t.slice(0,u))+a}};var s=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("buffer").Buffer)},{buffer:1}],31:[function(t,e,n){e.exports={path:t("./path"),render:t("./render"),Item:t("./util/Item"),bound:t("./util/bound"),Bounds:t("./util/Bounds"),canvas:t("./util/canvas"),Gradient:t("./util/Gradient"),toJSON:t("./util/scene").toJSON,fromJSON:t("./util/scene").fromJSON}},{"./path":33,"./render":53,"./util/Bounds":59,"./util/Gradient":61,"./util/Item":63,"./util/bound":64,"./util/canvas":65,"./util/scene":67}],32:[function(t,e,n){function r(t,e,n,r,i,o,s,l,c){var f=u.call(arguments);if(a[f])return a[f];var h=s*(Math.PI/180),d=Math.sin(h),m=Math.cos(h);n=Math.abs(n),r=Math.abs(r);var g=m*(l-t)*.5+d*(c-e)*.5,p=m*(c-e)*.5-d*(l-t)*.5,v=g*g/(n*n)+p*p/(r*r);v>1&&(v=Math.sqrt(v),n*=v,r*=v);var y=m/n,b=d/n,x=-d/r,M=m/r,_=y*l+b*c,k=x*l+M*c,w=y*t+b*e,T=x*t+M*e,S=(w-_)*(w-_)+(T-k)*(T-k),D=1/S-.25;0>D&&(D=0);var C=Math.sqrt(D);o==i&&(C=-C);var A=.5*(_+w)-C*(T-k),j=.5*(k+T)+C*(w-_),L=Math.atan2(k-j,_-A),z=Math.atan2(T-j,w-A),P=z-L;0>P&&1===o?P+=2*Math.PI:P>0&&0===o&&(P-=2*Math.PI);for(var q=Math.ceil(Math.abs(P/(.5*Math.PI+.001))),F=[],E=0;q>E;++E){var O=L+E*P/q,$=L+(E+1)*P/q;F[E]=[A,j,O,$,n,r,d,m]}return a[f]=F}function i(t){var e=u.call(t);if(o[e])return o[e];var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],f=t[7],h=f*s,d=-c*l,m=c*s,g=f*l,p=Math.cos(i),v=Math.sin(i),y=Math.cos(a),b=Math.sin(a),x=.5*(a-i),M=Math.sin(.5*x),_=8/3*M*M/Math.sin(x),k=n+p-_*v,w=r+v+_*p,T=n+y,S=r+b,D=T+_*b,C=S-_*y;return o[e]=[h*k+d*w,m*k+g*w,h*D+d*C,m*D+g*C,h*T+d*S,m*T+g*S]}var a={},o={},u=[].join;e.exports={segments:r,bezier:i,cache:{segments:a,bezier:o}}},{}],33:[function(t,e,n){e.exports={parse:t("./parse"),render:t("./render")}},{"./parse":34,"./render":35}],34:[function(t,e,n){var r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];e.exports=function(t){var e,n,a,o,u,s,l,c,f,h,d,m=[];for(e=t.slice().replace(i[0],"###$1").split(i[1]).slice(1),c=0,h=e.length;h>c;++c){for(n=e[c],a=n.slice(1).trim().replace(i[2],"$1###$2").split(i[3]),s=n.charAt(0),o=[s],f=0,d=a.length;d>f;++f)(u=+a[f])===u&&o.push(u);if(l=r[s.toLowerCase()],o.length-1>l)for(f=1,d=o.length;d>f;f+=l)m.push([s].concat(o.slice(f,f+l)));else m.push(o)}return m}},{}],35:[function(t,e,n){function r(t,e,n,r){for(var a=i.segments(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n),o=0;o<a.length;++o){var u=i.bezier(a[o]);t.bezierCurveTo.apply(t,u)}}var i=t("./arc");e.exports=function(t,e,n,i){var a,o,u,s,l,c=null,f=0,h=0,d=0,m=0;null==n&&(n=0),null==i&&(i=0),t.beginPath();for(var g=0,p=e.length;p>g;++g){switch(a=e[g],a[0]){case"l":f+=a[1],h+=a[2],t.lineTo(f+n,h+i);break;case"L":f=a[1],h=a[2],t.lineTo(f+n,h+i);break;case"h":f+=a[1],t.lineTo(f+n,h+i);break;case"H":f=a[1],t.lineTo(f+n,h+i);break;case"v":h+=a[1],t.lineTo(f+n,h+i);break;case"V":h=a[1],t.lineTo(f+n,h+i);break;case"m":f+=a[1],h+=a[2],t.moveTo(f+n,h+i);break;case"M":f=a[1],h=a[2],t.moveTo(f+n,h+i);break;case"c":o=f+a[5],u=h+a[6],d=f+a[3],m=h+a[4],t.bezierCurveTo(f+a[1]+n,h+a[2]+i,d+n,m+i,o+n,u+i),f=o,h=u;break;case"C":f=a[5],h=a[6],d=a[3],m=a[4],t.bezierCurveTo(a[1]+n,a[2]+i,d+n,m+i,f+n,h+i);break;case"s":o=f+a[3],u=h+a[4],d=2*f-d,m=2*h-m,t.bezierCurveTo(d+n,m+i,f+a[1]+n,h+a[2]+i,o+n,u+i),d=f+a[1],m=h+a[2],f=o,h=u;break;case"S":o=a[3],u=a[4],d=2*f-d,m=2*h-m,t.bezierCurveTo(d+n,m+i,a[1]+n,a[2]+i,o+n,u+i),f=o,h=u,d=a[1],m=a[2];break;case"q":o=f+a[3],u=h+a[4],d=f+a[1],m=h+a[2],t.quadraticCurveTo(d+n,m+i,o+n,u+i),f=o,h=u;break;case"Q":o=a[3],u=a[4],t.quadraticCurveTo(a[1]+n,a[2]+i,o+n,u+i),f=o,h=u,d=a[1],m=a[2];break;case"t":o=f+a[1],u=h+a[2],null===c[0].match(/[QqTt]/)?(d=f,m=h):"t"===c[0]?(d=2*f-s,m=2*h-l):"q"===c[0]&&(d=2*f-d,m=2*h-m),s=d,l=m,t.quadraticCurveTo(d+n,m+i,o+n,u+i),f=o,h=u,d=f+a[1],m=h+a[2];break;case"T":o=a[1],u=a[2],d=2*f-d,m=2*h-m,t.quadraticCurveTo(d+n,m+i,o+n,u+i),f=o,h=u;break;case"a":r(t,f+n,h+i,[a[1],a[2],a[3],a[4],a[5],a[6]+f+n,a[7]+h+i]),f+=a[6],h+=a[7];break;case"A":r(t,f+n,h+i,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+i]),f=a[6],h=a[7];break;case"z":case"Z":t.closePath()}c=a}}},{"./arc":32}],36:[function(t,e,n){function r(){this._active=null,this._handlers={}}var i=r.prototype;i.initialize=function(t,e,n){return this._el=t,this._obj=n||null,this.padding(e)},i.element=function(){return this._el},i.padding=function(t){return this._padding=t||{top:0,left:0,bottom:0,right:0},this},i.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},i.on=function(){},i.off=function(){},i.handlers=function(){var t,e=this._handlers,n=[];for(t in e)n.push.apply(n,e[t]);return n},i.eventName=function(t){var e=t.indexOf(".");return 0>e?t:t.slice(0,e)},e.exports=r},{}],37:[function(t,e,n){function r(){this._el=null,this._bgcolor=null}var i=r.prototype;i.initialize=function(t,e,n,r){return this._el=t,this.resize(e,n,r)},i.element=function(){return this._el},i.scene=function(){return this._el&&this._el.firstChild},i.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},i.resize=function(t,e,n){return this._width=t,this._height=e,this._padding=n||{top:0,left:0,bottom:0,right:0},this},i.render=function(){return this},e.exports=r},{}],38:[function(t,e,n){function r(){u.call(this),this._down=null,this._touch=null,this._first=!0}function i(t,e,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(t,r):(this.fire(n,r),this._active=a,this.fire(e,r),this.fire(t,r))}}function a(t){return function(e){this.fire(t,e),this._active=null}}var o=t("../../util/dom"),u=t("../Handler"),s=t("./marks"),l=u.prototype,c=r.prototype=Object.create(l);c.constructor=r,c.initialize=function(t,e,n){var r=this._canvas=o.find(t,"canvas");if(r){var i=this;this.events.forEach(function(t){r.addEventListener(t,function(e){c[t]?c[t].call(i,e):i.fire(t,e)})})}return l.initialize.call(this,t,e,n)},c.canvas=function(){return this._canvas},c.context=function(){return this._canvas.getContext("2d")},c.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],c.DOMMouseScroll=function(t){this.fire("mousewheel",t)},c.mousemove=i("mousemove","mouseover","mouseout"),c.dragover=i("dragover","dragenter","dragleave"),c.mouseout=a("mouseout"),c.dragleave=a("dragleave"),c.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},c.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},c.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},c.touchmove=function(t){this.fire("touchmove",t,!0)},c.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},c.fire=function(t,e,n){var r,i,a=n?this._touch:this._active,o=this._handlers[t];if(o)for(e.vegaType=t,r=0,i=o.length;i>r;++r)o[r].handler.call(this._obj,e,a)},c.on=function(t,e){var n=this.eventName(t),r=this._handlers;return(r[n]||(r[n]=[])).push({type:t,handler:e}),this},c.off=function(t,e){var n,r=this.eventName(t),i=this._handlers[r];if(i){for(n=i.length;--n>=0;)i[n].type===t&&(e&&i[n].handler!==e||i.splice(n,1));return this}},c.pickEvent=function(t){var e,n,r=this._canvas.getBoundingClientRect(),i=this._padding;return this.pick(this._scene,e=t.clientX-r.left,n=t.clientY-r.top,e-i.left,n-i.top)},c.pick=function(t,e,n,r,i){var a=this.context(),o=s[t.marktype];return o.pick.call(this,a,t,e,n,r,i)},e.exports=r},{"../../util/dom":66,"../Handler":36,"./marks":45}],39:[function(t,e,n){function r(t){c.call(this),this._loader=new s(t)}function i(t,e){if(!e)return null;var n,r,i,o,s,l=new u;for(n=0,r=e.length;r>n;++n)i=e[n],o=i.mark,s=o.group,i=f[o.marktype].nested?o:i,l.union(a(i.bounds,s)),i["bounds:prev"]&&l.union(a(i["bounds:prev"],s));return l.round(),t.beginPath(),t.rect(l.x1,l.y1,l.width(),l.height()),t.clip(),l}function a(t,e){if(null==e)return t;for(var n=t.clone();null!=e;e=e.mark.group)n.translate(e.x||0,e.y||0);return n}var o=t("../../util/dom"),u=t("../../util/Bounds"),s=t("../../util/ImageLoader"),l=t("../../util/canvas"),c=t("../Renderer"),f=t("./marks");r.RETINA=!0;var h=c.prototype,d=r.prototype=Object.create(h);d.constructor=r,d.initialize=function(t,e,n,r){return this._canvas=l.instance(e,n),t&&(o.clear(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),h.initialize.call(this,t,e,n,r)},d.resize=function(t,e,n){return h.resize.call(this,t,e,n),l.resize(this._canvas,this._width,this._height,this._padding,r.RETINA),this},d.canvas=function(){return this._canvas},d.context=function(){return this._canvas?this._canvas.getContext("2d"):null},d.pendingImages=function(){return this._loader.pending()},d.render=function(t,e){var n,r=this.context(),a=this._padding,o=this._width+a.left+a.right,u=this._height+a.top+a.bottom;return this._scene=t,r.save(),n=i(r,e),this.clear(-a.left,-a.top,o,u),this.draw(r,t,n),r.restore(),this._scene=null,this},d.draw=function(t,e,n){var r=f[e.marktype];r.draw.call(this,t,e,n)},d.clear=function(t,e,n,r){var i=this.context();i.clearRect(t,e,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(t,e,n,r))},d.loadImage=function(t){var e=this,n=this._scene;return this._loader.loadImage(t,function(){e.renderAsync(n)})},d.renderAsync=function(t){var e=this;e._async_id&&clearTimeout(e._async_id),e._async_id=setTimeout(function(){e.render(t),delete e._async_id},10)},e.exports=r},{"../../util/Bounds":59,"../../util/ImageLoader":62,"../../util/canvas":65,"../../util/dom":66,"../Renderer":37,"./marks":45}],40:[function(t,e,n){e.exports={Handler:t("./CanvasHandler"),Renderer:t("./CanvasRenderer")}},{"./CanvasHandler":38,"./CanvasRenderer":39}],41:[function(t,e,n){function r(t,e){var n=e.x||0,r=e.y||0,i=e.innerRadius||0,o=e.outerRadius||0,u=(e.startAngle||0)-a,s=(e.endAngle||0)-a;t.beginPath(),0===i?t.moveTo(n,r):t.arc(n,r,i,u,s,0),t.arc(n,r,o,s,u,1),t.closePath()}var i=t("./util"),a=Math.PI/2;e.exports={draw:i.drawAll(r),pick:i.pickPath(r)}},{"./util":52}],42:[function(t,e,n){function r(t,e){var n=e[0],r=n.pathCache||(n.pathCache=o(s(e)));u(t,r)}function i(t,e,n,r,i,a){var o=e.items,u=e.bounds;return!o||!o.length||u&&!u.contains(i,a)?null:(null!=t.pixelratio&&1!==t.pixelratio&&(n*=t.pixelratio,r*=t.pixelratio),l(t,o,n,r)?o[0]:null)}var a=t("./util"),o=t("../../../path/parse"),u=t("../../../path/render"),s=t("../../../util/svg").path.area,l=a.testPath(r);e.exports={draw:a.drawOne(r),pick:i,nested:!0}},{"../../../path/parse":34,"../../../path/render":35,"../../../util/svg":68,"./util":52}],43:[function(t,e,n){function r(t,e,n){if(e.items&&e.items.length){var r,i,u,s,l,c,f,h,d,m,g,p,v,y=e.items,b=this;for(m=0,g=y.length;g>m;++m){for(r=y[m],u=r.axisItems||o,i=r.items||o,s=r.legendItems||o,l=r.x||0,c=r.y||0,f=r.width||0,h=r.height||0,(r.stroke||r.fill)&&(d=null==r.opacity?1:r.opacity,d>0&&(r.fill&&a.fill(t,r,d)&&t.fillRect(l,c,f,h),r.stroke&&a.stroke(t,r,d)&&t.strokeRect(l,c,f,h))),t.save(),t.translate(l,c),r.clip&&(t.beginPath(),t.rect(0,0,f,h),t.clip()),n&&n.translate(-l,-c),p=0,v=u.length;v>p;++p)"back"===u[p].layer&&b.draw(t,u[p],n);for(p=0,v=i.length;v>p;++p)b.draw(t,i[p],n);for(p=0,v=u.length;v>p;++p)"back"!==u[p].layer&&b.draw(t,u[p],n);for(p=0,v=s.length;v>p;++p)b.draw(t,s[p],n);n&&n.translate(l,c),t.restore()}}}function i(t,e,n,r,i,a){if(e.bounds&&!e.bounds.contains(i,a))return null;var u,s,l,c,f,h,d,m,g,p,v,y=e.items||o;for(g=y.length;--g>=0;)if(s=y[g],v=s.bounds,!v||v.contains(i,a)){for(l=s.axisItems||o,c=s.items||o,f=s.legendItems||o,d=s.x||0,m=s.y||0,t.save(),t.translate(d,m),d=i-d,m=a-m,p=f.length;--p>=0;)if(u=f[p],u.interactive!==!1&&(h=this.pick(u,n,r,d,m)))return t.restore(),h;for(p=l.length;--p>=0;)if(u=l[p],u.interactive!==!1&&"back"!==u.layer&&(h=this.pick(u,n,r,d,m)))return t.restore(),h;for(p=c.length;--p>=0;)if(u=c[p],u.interactive!==!1&&(h=this.pick(u,n,r,d,m)))return t.restore(),h;for(p=l.length;--p>=0;)if(u=l[p],u.interative!==!1&&"back"===u.layer&&(h=this.pick(u,n,r,d,m)))return t.restore(),h;if(t.restore(),e.interactive!==!1&&(s.fill||s.stroke)&&d>=0&&d<=s.width&&m>=0&&m<=s.height)return s}return null}var a=t("./util"),o=[];e.exports={draw:r,pick:i}},{"./util":52}],44:[function(t,e,n){function r(t,e,n){if(e.items&&e.items.length)for(var r,i=this,a=e.items,o=0,u=a.length;u>o;++o)if(r=a[o],!n||n.intersects(r.bounds)){r.image&&r.image.url===r.url||(r.image=i.loadImage(r.url),r.image.url=r.url);var s,l=r.x||0,c=r.y||0,f=r.width||r.image&&r.image.width||0,h=r.height||r.image&&r.image.height||0;l-="center"===r.align?f/2:"right"===r.align?f:0,c-="middle"===r.baseline?h/2:"bottom"===r.baseline?h:0,r.image.loaded&&(t.globalAlpha=null!=(s=r.opacity)?s:1,t.drawImage(r.image,l,c,f,h))}}var i=t("./util");e.exports={draw:r,pick:i.pick()}},{"./util":52}],45:[function(t,e,n){e.exports={arc:t("./arc"),area:t("./area"),group:t("./group"),image:t("./image"),line:t("./line"),path:t("./path"),rect:t("./rect"),rule:t("./rule"),symbol:t("./symbol"),text:t("./text")}},{"./arc":41,"./area":42,"./group":43,"./image":44,"./line":46,"./path":47,"./rect":48,"./rule":49,"./symbol":50,"./text":51}],46:[function(t,e,n){function r(t,e){var n=e[0],r=n.pathCache||(n.pathCache=o(s(e)));u(t,r)}function i(t,e,n,r,i,a){var o=e.items,u=e.bounds;return!o||!o.length||u&&!u.contains(i,a)?null:(null!=t.pixelratio&&1!==t.pixelratio&&(n*=t.pixelratio,r*=t.pixelratio),l(t,o,n,r)?o[0]:null)}var a=t("./util"),o=t("../../../path/parse"),u=t("../../../path/render"),s=t("../../../util/svg").path.line,l=a.testPath(r,!1);e.exports={draw:a.drawOne(r),pick:i,nested:!0}},{"../../../path/parse":34,"../../../path/render":35,"../../../util/svg":68,"./util":52}],47:[function(t,e,n){function r(t,e){if(null==e.path)return!0;var n=e.pathCache||(e.pathCache=a(e.path));o(t,n,e.x,e.y)}var i=t("./util"),a=t("../../../path/parse"),o=t("../../../path/render");e.exports={draw:i.drawAll(r),pick:i.pickPath(r)}},{"../../../path/parse":34,"../../../path/render":35,"./util":52}],48:[function(t,e,n){function r(t,e,n){if(e.items&&e.items.length)for(var r,a,o,u,s,l,c=e.items,f=0,h=c.length;h>f;++f)r=c[f],n&&!n.intersects(r.bounds)||(a=null==r.opacity?1:r.opacity,0!==a&&(o=r.x||0,u=r.y||0,s=r.width||0,l=r.height||0,r.fill&&i.fill(t,r,a)&&t.fillRect(o,u,s,l),r.stroke&&i.stroke(t,r,a)&&t.strokeRect(o,u,s,l)))}var i=t("./util");e.exports={draw:r,pick:i.pick()}},{"./util":52}],49:[function(t,e,n){function r(t,e,n){if(e.items&&e.items.length)for(var r,i,a,u,s,l,c=e.items,f=0,h=c.length;h>f;++f)r=c[f],n&&!n.intersects(r.bounds)||(i=null==r.opacity?1:r.opacity,0!==i&&(a=r.x||0,u=r.y||0,s=null!=r.x2?r.x2:a,l=null!=r.y2?r.y2:u,r.stroke&&o.stroke(t,r,i)&&(t.beginPath(),t.moveTo(a,u),t.lineTo(s,l),
t.stroke())))}function i(t,e){var n=e.x||0,r=e.y||0,i=null!=e.x2?e.x2:n,a=null!=e.y2?e.y2:r,o=e.strokeWidth,u=e.strokeCap;t.lineWidth=null!=o?o:1,t.lineCap=null!=u?u:"butt",t.beginPath(),t.moveTo(n,r),t.lineTo(i,a)}function a(t,e,n,r){return t.isPointInStroke?(i(t,e),t.isPointInStroke(n,r)):!1}var o=t("./util");e.exports={draw:r,pick:o.pick(a)}},{"./util":52}],50:[function(t,e,n){function r(t,e){var n,r,a,c,f=null!=e.size?e.size:100,h=e.x,d=e.y;if(t.beginPath(),null==e.shape||"circle"===e.shape)return n=Math.sqrt(f/Math.PI),t.arc(h,d,n,0,2*Math.PI,0),void t.closePath();switch(e.shape){case"cross":n=Math.sqrt(f/5)/2,r=3*n,t.moveTo(h-r,d-n),t.lineTo(h-n,d-n),t.lineTo(h-n,d-r),t.lineTo(h+n,d-r),t.lineTo(h+n,d-n),t.lineTo(h+r,d-n),t.lineTo(h+r,d+n),t.lineTo(h+n,d+n),t.lineTo(h+n,d+r),t.lineTo(h-n,d+r),t.lineTo(h-n,d+n),t.lineTo(h-r,d+n);break;case"diamond":c=Math.sqrt(f/(2*l)),a=c*l,t.moveTo(h,d-c),t.lineTo(h+a,d),t.lineTo(h,d+c),t.lineTo(h-a,d);break;case"square":r=Math.sqrt(f),n=r/2,t.rect(h-n,d-n,r,r);break;case"triangle-down":a=Math.sqrt(f/s),c=a*s/2,t.moveTo(h,d+c),t.lineTo(h+a,d-c),t.lineTo(h-a,d-c);break;case"triangle-up":a=Math.sqrt(f/s),c=a*s/2,t.moveTo(h,d-c),t.lineTo(h+a,d+c),t.lineTo(h-a,d+c);break;default:var m=i(o(e.shape),f);u(t,m,h,d)}t.closePath()}function i(t,e){var n,r,i,a,o,u=Math.sqrt(e);for(n=0,r=t.length;r>n;++n)for(o=t[n],i=1,a=o.length;a>i;++i)o[i]*=u;return t}var a=t("./util"),o=t("../../../path/parse"),u=t("../../../path/render"),s=Math.sqrt(3),l=Math.tan(30*Math.PI/180);e.exports={draw:a.drawAll(r),pick:a.pickPath(r)}},{"../../../path/parse":34,"../../../path/render":35,"./util":52}],51:[function(t,e,n){function r(t,e,n){if(e.items&&e.items.length)for(var r,i,a,o,l,c,f,h=e.items,d=0,m=h.length;m>d;++d)r=h[d],n&&!n.intersects(r.bounds)||(f=u.value(r.text),f&&(i=null==r.opacity?1:r.opacity,0!==i&&(t.font=u.font(r),t.textAlign=r.align||"left",a=r.x||0,o=r.y||0,(l=r.radius)&&(c=(r.theta||0)-Math.PI/2,a+=l*Math.cos(c),o+=l*Math.sin(c)),r.angle&&(t.save(),t.translate(a,o),t.rotate(r.angle*Math.PI/180),a=o=0),a+=r.dx||0,o+=(r.dy||0)+u.offset(r),r.fill&&s.fill(t,r,i)&&t.fillText(f,a,o),r.stroke&&s.stroke(t,r,i)&&t.strokeText(f,a,o),r.angle&&t.restore())))}function i(t,e,n,r,i,a){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var u=o(e,l,!0),s=-e.angle*Math.PI/180,c=Math.cos(s),f=Math.sin(s),h=e.x,d=e.y,m=c*i-f*a+(h-h*c+d*f),g=f*i+c*a+(d-h*f-d*c);return u.contains(m,g)}var a=t("../../../util/Bounds"),o=t("../../../util/bound").text,u=t("../../../util/text"),s=t("./util"),l=new a;e.exports={draw:r,pick:s.pick(i)}},{"../../../util/Bounds":59,"../../../util/bound":64,"../../../util/text":69,"./util":52}],52:[function(t,e,n){function r(t,e,n,r){if(!t(e,r)){var i=null==n.opacity?1:n.opacity;0!==i&&(n.fill&&c(e,n,i)&&e.fill(),n.stroke&&f(e,n,i)&&e.stroke())}}function i(t,e,n,i){var a,o,u;for(a=0,o=n.items.length;o>a;++a)u=n.items[a],i&&!i.intersects(u.bounds)||r(t,e,u,u)}function a(t){return function(e,n,r){i(t,e,n,r)}}function o(t){return function(e,n,i){n.items.length&&(i&&!i.intersects(n.bounds)||r(t,e,n.items[0],n.items))}}function u(t){return t||(t=m),function(e,n,r,i,a,o){if(!n.items.length)return null;var u,s,l;for(null!=e.pixelratio&&1!==e.pixelratio&&(r*=e.pixelratio,i*=e.pixelratio),l=n.items.length;--l>=0;)if(u=n.items[l],s=u.bounds,(!s||s.contains(a,o))&&s&&t(e,u,r,i,a,o))return u;return null}}function s(t,e){return function(n,r,i,a){var o,u,s=Array.isArray(r)?r[0]:r,l=null==e?s.fill:e,c=s.stroke&&n.isPointInStroke;return c&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),t(n,r)?!1:l&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a)}}function l(t){return u(s(t))}function c(t,e,n){return n*=null==e.fillOpacity?1:e.fillOpacity,n>0?(t.globalAlpha=n,t.fillStyle=h(t,e,e.fill),!0):!1}function f(t,e,n){var r,i=null!=(i=e.strokeWidth)?i:1;return 0>=i?!1:(n*=null==e.strokeOpacity?1:e.strokeOpacity,n>0?(t.globalAlpha=n,t.strokeStyle=h(t,e,e.stroke),t.lineWidth=i,t.lineCap=null!=(r=e.strokeCap)?r:"butt",t.vgLineDash(e.strokeDash||null),t.vgLineDashOffset(e.strokeDashOffset||0),!0):!1)}function h(t,e,n){return n.id?d(t,n,e.bounds):n}function d(t,e,n){var r,i,a=n.width(),o=n.height(),u=n.x1+e.x1*a,s=n.y1+e.y1*o,l=n.x1+e.x2*a,c=n.y1+e.y2*o,f=t.createLinearGradient(u,s,l,c),h=e.stops;for(r=0,i=h.length;i>r;++r)f.addColorStop(h[r].offset,h[r].color);return f}var m=function(){return!0};e.exports={drawOne:o,drawAll:a,pick:u,pickPath:l,testPath:s,stroke:f,fill:c,color:h,gradient:d}},{}],53:[function(t,e,n){e.exports={canvas:t("./canvas"),svg:t("./svg")}},{"./canvas":40,"./svg":57}],54:[function(t,e,n){function r(){a.call(this)}var i=t("../../util/dom"),a=t("../Handler"),o=a.prototype,u=r.prototype=Object.create(o);u.constructor=r,u.initialize=function(t,e,n){return this._svg=i.find(t,"svg"),o.initialize.call(this,t,e,n)},u.svg=function(){return this._svg},u.listener=function(t){var e=this;return function(n){var r=n.target,i=r.__data__;n.vegaType=n.type,i=Array.isArray(i)?i[0]:i,t.call(e._obj,n,i)}},u.on=function(t,e){var n=this.eventName(t),r=this._svg,i=this._handlers,a={type:t,handler:e,listener:this.listener(e)};return(i[n]||(i[n]=[])).push(a),r.addEventListener(n,a.listener),this},u.off=function(t,e){var n,r=this.eventName(t),i=this._svg,a=this._handlers[r];if(a){for(n=a.length;--n>=0;)(a[n].type===t&&!e||a[n].handler===e)&&(i.removeEventListener(r,a[n].listener),a.splice(n,1));return this}},e.exports=r},{"../../util/dom":66,"../Handler":36}],55:[function(t,e,n){function r(t){f.call(this),this._loader=new c(t),this._dirtyID=0}function i(t,e,n){var r,i,a;for(t=d.child(t,n,"linearGradient",g),t.setAttribute("id",e.id),t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),r=0,i=e.stops.length;i>r;++r)a=d.child(t,r,"stop",g),a.setAttribute("offset",e.stops[r].offset),a.setAttribute("stop-color",e.stops[r].color);d.clear(t,r)}function a(t,e,n){var r;t=d.child(t,n,"clipPath",g),t.setAttribute("id",e.id),r=d.child(t,0,"rect",g),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",e.width),r.setAttribute("height",e.height)}function o(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function u(t,e,n,r,i){var a=d.child(t,r,e.tag,g,null,i);if(a.__data__=n,a.__values__={fill:"default"},"g"===e.tag){var o=d.child(a,0,"rect",g,"background");o.__data__=n}return n._svg=a}function s(t,e,n){e!==x[t]&&(null!=e?n?b.setAttributeNS(n,t,e):b.setAttribute(t,e):n?b.removeAttributeNS(n,t):b.removeAttribute(t),x[t]=e)}function l(){return"undefined"!=typeof window?window.location.href:""}var c=t("../../util/ImageLoader"),f=t("../Renderer"),h=t("../../util/text"),d=t("../../util/dom"),m=t("../../util/svg"),g=m.metadata.xmlns,p=t("./marks"),v=f.prototype,y=r.prototype=Object.create(v);y.constructor=r,y.initialize=function(t,e,n,r){return t&&(this._svg=d.child(t,0,"svg",g,"marks"),d.clear(t,1),this._root=d.child(this._svg,0,"g",g),d.clear(this._svg,1)),this._defs={clip_id:1,gradient:{},clipping:{}},this.background(this._bgcolor),v.initialize.call(this,t,e,n,r)},y.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),v.background.apply(this,arguments)},y.resize=function(t,e,n){if(v.resize.call(this,t,e,n),this._svg){var r=this._width,i=this._height,a=this._padding;this._svg.setAttribute("width",r+a.left+a.right),this._svg.setAttribute("height",i+a.top+a.bottom),this._root.setAttribute("transform","translate("+a.left+","+a.top+")")}return this},y.svg=function(){if(!this._svg)return null;var t={"class":"marks",width:this._width+this._padding.left+this._padding.right,height:this._height+this._padding.top+this._padding.bottom};for(var e in m.metadata)t[e]=m.metadata[e];return d.openTag("svg",t)+this._svg.innerHTML+d.closeTag("svg")},y.imageURL=function(t){return this._loader.imageURL(t)},y.render=function(t,e){return this._dirtyCheck(e)&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t,-1),d.clear(this._root,1)),this.updateDefs(),this},y.draw=function(t,e,n){this.drawMark(t,e,n,p[e.marktype])},y.updateDefs=function(){var t,e=this._svg,n=this._defs,r=n.el,o=0;for(t in n.gradient)r||(r=n.el=d.child(e,0,"defs",g)),i(r,n.gradient[t],o++);for(t in n.clipping)r||(r=n.el=d.child(e,0,"defs",g)),a(r,n.clipping[t],o++);r&&(0===o?(e.removeChild(r),n.el=null):d.clear(r,o))},y._resetDefs=function(){var t=this._defs;t.clip_id=1,t.gradient={},t.clipping={}},y.isDirty=function(t){return this._dirtyAll||t.dirty===this._dirtyID},y._dirtyCheck=function(t){if(this._dirtyAll=!0,!t)return!0;var e,n,r,i,a,u,s,l=++this._dirtyID;for(a=0,u=t.length;u>a;++a)e=t[a],n=e.mark,n.marktype!==r&&(r=n.marktype,i=p[r]),"exit"!==e.status?(e=i.nest?n.items[0]:e,e._update!==l&&(e._svg?this._update(i,e._svg,e):(this._dirtyAll=!1,o(e,l)),e._update=l)):e._svg&&(i.nest&&e.mark.items.length?(this._update(i,e._svg,e.mark.items[0]),s=e.mark.items[0],s._svg=e._svg,s._update=l):d.remove(e._svg),e._svg=null);return!this._dirtyAll},y.drawMark=function(t,e,n,r){if(this.isDirty(e)){var i,a,o,s,l,c,f=r.nest?e.items&&e.items.length?[e.items[0]]:[]:e.items||[],h=e.interactive===!1?"none":null,m="g"===r.tag,p=d.cssClass(e);for(i=d.child(t,n+1,"g",g,p),i.setAttribute("class",p),e._svg=i,!m&&h&&i.style.setProperty("pointer-events",h),a=0,o=f.length;o>a;++a)this.isDirty(l=f[a])&&(c=!(this._dirtyAll||l._svg),s=u(i,r,l,a,c),this._update(r,s,l),m&&(c&&(this._dirtyAll=!0),this._recurse(s,l),c&&(this._dirtyAll=!1)));return d.clear(i,a),i}},y._recurse=function(t,e){var n,r,i=e.items||[],a=e.legendItems||[],o=e.axisItems||[],u=0;for(n=0,r=o.length;r>n;++n)"back"===o[n].layer&&this.drawMark(t,o[n],u++,p.group);for(n=0,r=i.length;r>n;++n)this.draw(t,i[n],u++);for(n=0,r=o.length;r>n;++n)"back"!==o[n].layer&&this.drawMark(t,o[n],u++,p.group);for(n=0,r=a.length;r>n;++n)this.drawMark(t,a[n],u++,p.group);d.clear(t,1+u)};var b=null,x=null,M={group:function(t,e,n){b=e.childNodes[0],x=e.__values__,t.background(s,n,this);var r=n.mark.interactive===!1?"none":null;r!==x.events&&(b.style.setProperty("pointer-events",r),x.events=r)},text:function(t,e,n){var r=h.value(n.text);r!==x.text&&(e.textContent=r,x.text=r),r=h.font(n),r!==x.font&&(e.style.setProperty("font",r),x.font=r)}};y._update=function(t,e,n){b=e,x=e.__values__,t.attr(s,n,this);var r=M[t.type];r&&r(t,e,n),this.style(b,n)},y.style=function(t,e){if(null!=e){var n,r,i,a,o;for(n=0,r=m.styleProperties.length;r>n;++n)i=m.styleProperties[n],o=e[i],o!==x[i]&&(a=m.styles[i],null==o?"fill"===a?t.style.setProperty(a,"none"):t.style.removeProperty(a):(o.id&&(this._defs.gradient[o.id]=o,o="url("+l()+"#"+o.id+")"),t.style.setProperty(a,o+"")),x[i]=o)}},e.exports=r},{"../../util/ImageLoader":62,"../../util/dom":66,"../../util/svg":68,"../../util/text":69,"../Renderer":37,"./marks":58}],56:[function(t,e,n){function r(t){u.call(this),this._loader=new s(t),this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={clip_id:1,gradient:{},clipping:{}}}function i(t,e,n,r){v[r||t]=e}function a(t,e,n,r){if(null==t)return"";var i,a,o,u,s,f="";for("bgrect"===n&&e.interactive===!1&&(f+="pointer-events: none;"),"text"===n&&(f+="font: "+c.font(t)+";"),i=0,a=l.styleProperties.length;a>i;++i)o=l.styleProperties[i],u=l.styles[o],s=t[o],null==s?"fill"===u&&(f+=(f.length?" ":"")+"fill: none;"):(s.id&&(r.gradient[s.id]=s,s="url(#"+s.id+")"),f+=(f.length?" ":"")+u+": "+s+";");return f?'style="'+f+'"':null}function o(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var u=t("../Renderer"),s=t("../../util/ImageLoader"),l=t("../../util/svg"),c=t("../../util/text"),f=t("../../util/dom"),h=f.openTag,d=f.closeTag,m=t("./marks"),g=u.prototype,p=r.prototype=Object.create(g);p.constructor=r,p.resize=function(t,e,n){g.resize.call(this,t,e,n);var r=this._padding,i=this._text,a={"class":"marks",width:this._width+r.left+r.right,height:this._height+r.top+r.bottom};for(var o in l.metadata)a[o]=l.metadata[o];return i.head=h("svg",a),i.root=h("g",{transform:"translate("+r.left+","+r.top+")"}),i.foot=d("g")+d("svg"),this},p.svg=function(){var t=this._text;return t.head+t.defs+t.root+t.body+t.foot},p.render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},p.reset=function(){return this._defs.clip_id=0,this},p.buildDefs=function(){var t,e,n,r,i=this._defs,a="";for(e in i.gradient){for(n=i.gradient[e],r=n.stops,a+=h("linearGradient",{id:e,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),t=0;t<r.length;++t)a+=h("stop",{offset:r[t].offset,"stop-color":r[t].color})+d("stop");a+=d("linearGradient")}for(e in i.clipping)n=i.clipping[e],a+=h("clipPath",{id:e}),a+=h("rect",{x:0,y:0,width:n.width,height:n.height})+d("rect"),a+=d("clipPath");return a.length>0?h("defs")+a+d("defs"):""},p.imageURL=function(t){return this._loader.imageURL(t)};var v;p.attributes=function(t,e){return v={},t(i,e,this),v},p.mark=function(t){var e,n,r,i=m[t.marktype],u=i.tag,s=i.attr,l=i.nest||!1,g=l?t.items&&t.items.length?[t.items[0]]:[]:t.items||[],p=this._defs,v="";for("g"!==u&&t.interactive===!1&&(e='style="pointer-events: none;"'),v+=h("g",{"class":f.cssClass(t)},e),n=0;n<g.length;++n)r=g[n],e="g"!==u?a(r,t,u,p):null,v+=h(u,this.attributes(s,r),e),"text"===u?v+=o(c.value(r.text)):"g"===u&&(v+=h("rect",this.attributes(i.background,r),a(r,t,"bgrect",p))+d("rect"),v+=this.markGroup(r)),v+=d(u);return v+d("g")},p.markGroup=function(t){var e,n,r="",i=t.axisItems||[],a=t.items||[],o=t.legendItems||[];for(e=0,n=i.length;n>e;++e)"back"===i[e].layer&&(r+=this.mark(i[e]));for(e=0,n=a.length;n>e;++e)r+=this.mark(a[e]);for(e=0,n=i.length;n>e;++e)"back"!==i[e].layer&&(r+=this.mark(i[e]));for(e=0,n=o.length;n>e;++e)r+=this.mark(o[e]);return r},e.exports=r},{"../../util/ImageLoader":62,"../../util/dom":66,"../../util/svg":68,"../../util/text":69,"../Renderer":37,"./marks":58}],57:[function(t,e,n){e.exports={Handler:t("./SVGHandler"),Renderer:t("./SVGRenderer"),string:{Renderer:t("./SVGStringRenderer")}}},{"./SVGHandler":54,"./SVGRenderer":55,"./SVGStringRenderer":56}],58:[function(t,e,n){function r(t){return i(t.x||0,t.y||0)}function i(t,e){return"translate("+t+","+e+")"}var a=t("../../util/text"),o=t("../../util/svg"),u=o.symbolTypes,s=o.textAlign,l=o.path;e.exports={arc:{tag:"path",type:"arc",attr:function(t,e){t("transform",r(e)),t("d",l.arc(e))}},area:{tag:"path",type:"area",nest:!0,attr:function(t,e){var n=e.mark.items;n.length&&t("d",l.area(n))}},group:{tag:"g",type:"group",attr:function(t,e,n){var i,a,o=null;t("transform",r(e)),e.clip&&(i=n._defs,o=e.clip_id||(e.clip_id="clip"+i.clip_id++),a=i.clipping[o]||(i.clipping[o]={id:o}),a.width=e.width||0,a.height=e.height||0),t("clip-path",o?"url(#"+o+")":null)},background:function(t,e){t("class","background"),t("width",e.width||0),t("height",e.height||0)}},image:{tag:"image",type:"image",attr:function(t,e,n){var r=e.x||0,a=e.y||0,o=e.width||0,u=e.height||0,s=n.imageURL(e.url);r-="center"===e.align?o/2:"right"===e.align?o:0,a-="middle"===e.baseline?u/2:"bottom"===e.baseline?u:0,t("href",s,"http://www.w3.org/1999/xlink","xlink:href"),t("transform",i(r,a)),t("width",o),t("height",u)}},line:{tag:"path",type:"line",nest:!0,attr:function(t,e){var n=e.mark.items;n.length&&t("d",l.line(n))}},path:{tag:"path",type:"path",attr:function(t,e){t("transform",r(e)),t("d",e.path)}},rect:{tag:"rect",type:"rect",nest:!1,attr:function(t,e){t("transform",r(e)),t("width",e.width||0),t("height",e.height||0)}},rule:{tag:"line",type:"rule",attr:function(t,e){t("transform",r(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)}},symbol:{tag:"path",type:"symbol",attr:function(t,e){var n=!e.shape||u[e.shape]?l.symbol(e):l.resize(e.shape,e.size);t("transform",r(e)),t("d",n)}},text:{tag:"text",type:"text",nest:!1,attr:function(t,e){var n,r=e.dx||0,o=(e.dy||0)+a.offset(e),u=e.x||0,l=e.y||0,c=e.angle||0,f=e.radius||0;f&&(n=(e.theta||0)-Math.PI/2,u+=f*Math.cos(n),l+=f*Math.sin(n)),t("text-anchor",s[e.align]||"start"),c?(n=i(u,l)+" rotate("+c+")",(r||o)&&(n+=" "+i(r,o))):n=i(u+r,l+o),t("transform",n)}}}},{"../../util/svg":68,"../../util/text":69}],59:[function(t,e,n){function r(t){this.clear(),t&&this.union(t)}var i=r.prototype;i.clone=function(){return new r(this)},i.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},i.set=function(t,e,n,r){return this.x1=t,this.y1=e,this.x2=n,this.y2=r,this},i.add=function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},i.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},i.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},i.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},i.rotate=function(t,e,n){var r=Math.cos(t),i=Math.sin(t),a=e-e*r+n*i,o=n-e*i-n*r,u=this.x1,s=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*u-i*l+a,i*u+r*l+o).add(r*u-i*c+a,i*u+r*c+o).add(r*s-i*l+a,i*s+r*l+o).add(r*s-i*c+a,i*s+r*c+o)},i.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},i.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},i.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},i.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},i.contains=function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},i.width=function(){return this.x2-this.x1},i.height=function(){return this.y2-this.y1},e.exports=r},{}],60:[function(t,e,n){e.exports=function(t){function e(){}function n(e,n){t.add(e,n)}return{bounds:function(e){return arguments.length?(t=e,this):t},beginPath:e,closePath:e,moveTo:n,lineTo:n,quadraticCurveTo:function(e,n,r,i){t.add(e,n),t.add(r,i)},bezierCurveTo:function(e,n,r,i,a,o){t.add(e,n),t.add(r,i),t.add(a,o)}}}},{}],61:[function(t,e,n){function r(t){this.id="gradient_"+i++,this.type=t||"linear",this.stops=[],this.x1=0,this.x2=1,this.y1=0,this.y2=0}var i=0,a=r.prototype;a.stop=function(t,e){return this.stops.push({offset:t,color:e}),this},e.exports=r},{}],62:[function(t,e,n){(function(n){function r(t){this._pending=0,this._config=t||r.Config}function i(t,e){var n=o.sanitizeUrl(this.params(t));if(!n)return e&&e(t,null),null;var r=this,i=new Image;return r._pending+=1,i.onload=function(){r._pending-=1,i.loaded=!0,e&&e(null,i)},i.src=n,i}function a(t,e){var r=this,i=new("undefined"!=typeof window?window.canvas:"undefined"!=typeof n?n.canvas:null).Image;return r._pending+=1,o(this.params(t),function(t,n){return r._pending-=1,t?(e&&e(t,null),null):(i.src=n,i.loaded=!0,void(e&&e(null,i)))}),i}var o=t("datalib/src/import/load");r.Config=null;var u=r.prototype;u.pending=function(){return this._pending},u.params=function(t){var e,n={url:t};for(e in this._config)n[e]=this._config[e];return n},u.imageURL=function(t){return o.sanitizeUrl(this.params(t))},u.loadImage=function(t,e){return o.useXHR?i.call(this,t,e):a.call(this,t,e)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"datalib/src/import/load":22}],63:[function(t,e,n){function r(t){this.mark=t}var i=r.prototype;i.hasPropertySet=function(t){var e=this.mark.def.properties;return e&&null!=e[t]},i.cousin=function(t,e){if(0===t)return this;t=t||-1;var n=this.mark,r=n.group,i=null==e?n.items.indexOf(this):e,a=r.items.indexOf(n)+t;return r.items[a].items[i]},i.sibling=function(t){if(0===t)return this;t=t||-1;var e=this.mark,n=e.items.indexOf(this)+t;return e.items[n]},i.remove=function(){var t=this,e=t.mark.items,n=e.indexOf(t);return n>=0&&(n===e.length-1?e.pop():e.splice(n,1)),t},i.touch=function(){this.pathCache&&(this.pathCache=null)},e.exports=r},{}],64:[function(t,e,n){function r(){return L||(L=x.instance(1,1).getContext("2d"))}function i(t,e){return t.stroke&&0!==t.opacity&&0!==t.stokeOpacity&&e.expand(null!=t.strokeWidth?t.strokeWidth:1),e}function a(t,e,n,r,a){return null==e?n.set(0,0,0,0):(T(z.bounds(n),e,r,a),i(t,n)),n}function o(t,e){var n=t.path?t.pathCache||(t.pathCache=w(t.path)):null;return a(t,n,e,t.x,t.y)}function u(t,e){if(0===t.items.length)return e;var n=t.items,r=n[0],i=r.pathCache||(r.pathCache=w(S(n)));return a(r,i,e)}function s(t,e){if(0===t.items.length)return e;var n=t.items,r=n[0],i=r.pathCache||(r.pathCache=w(D(n)));return a(r,i,e)}function l(t,e){var n,r;return i(t,e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0))}function c(t,e){var n=t.x||0,r=t.y||0,i=t.width||0,a=t.height||0;return n-="center"===t.align?i/2:"right"===t.align?i:0,r-="middle"===t.baseline?a/2:"bottom"===t.baseline?a:0,e.set(n,r,n+i,r+a)}function f(t,e){var n,r;return i(t,e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r))}function h(t,e){var n,r,a,o,u,s,l,c,f,h=t.x||0,d=t.y||0,m=t.innerRadius||0,g=t.outerRadius||0,p=(t.startAngle||0)-C,v=(t.endAngle||0)-C,y=1/0,b=-(1/0),x=1/0,M=-(1/0),_=[p,v],k=p-p%C;for(r=0;4>r&&v>k;++r,k+=C)_.push(k);for(r=0,a=_.length;a>r;++r)n=_[r],o=Math.cos(n),s=m*o,c=g*o,u=Math.sin(n),l=m*u,f=g*u,y=Math.min(y,s,c),b=Math.max(b,s,c),x=Math.min(x,l,f),M=Math.max(M,l,f);return i(t,e.set(h+y,d+x,h+b,d+M))}function d(t,e){var n,r,a,o,u=null!=t.size?t.size:100,s=t.x||0,l=t.y||0;switch(t.shape){case"cross":r=3*Math.sqrt(u/5)/2,e.set(s-r,l-r,s+r,l+r);break;case"diamond":o=Math.sqrt(u/(2*j)),a=o*j,e.set(s-a,l-o,s+a,l+o);break;case"square":r=Math.sqrt(u),n=r/2,e.set(s-n,l-n,s+n,l+n);break;case"triangle-down":a=Math.sqrt(u/A),o=a*A/2,e.set(s-a,l-o,s+a,l+o);break;case"triangle-up":a=Math.sqrt(u/A),o=a*A/2,e.set(s-a,l-o,s+a,l+o);break;default:n=Math.sqrt(u/Math.PI),e.set(s-n,l-n,s+n,l+n)}return i(t,e)}function m(t,e,n){var i,a,o=r(),u=_.size(t),s=t.align,l=t.radius||0,c=t.x||0,f=t.y||0,h=t.dx||0,d=(t.dy||0)+_.offset(t)-Math.round(.8*u);return l&&(a=(t.theta||0)-Math.PI/2,c+=l*Math.cos(a),f+=l*Math.sin(a)),o.font=_.font(t),i=o.measureText(_.value(t.text)).width,"center"===s?h-=i/2:"right"===s&&(h-=i),e.set(h+=c,d+=f,h+i,d+u),t.angle&&!n&&e.rotate(t.angle*Math.PI/180,c,f),e.expand(n?0:1)}function g(t,e,n){var r,a,o=t.axisItems||[],u=t.items||[],s=t.legendItems||[];if(!t.clip){for(r=0,a=o.length;a>r;++r)e.union(o[r].bounds);for(r=0,a=u.length;a>r;++r)u[r].bounds&&e.union(u[r].bounds);if(n)for(r=0,a=s.length;a>r;++r)e.union(s[r].bounds)}return(t.clip||t.width||t.height)&&i(t,e.add(0,0).add(t.width||0,t.height||0)),e.translate(t.x||0,t.y||0)}function p(t,e,n){var r=t.mark.marktype;e=e||P[r],e.nest&&(t=t.mark);var i=t.bounds,a=t["bounds:prev"]||(t["bounds:prev"]=new b);return i?(a.clear().union(i),i.clear()):t.bounds=new b,e(t,t.bounds,n),i||a.clear().union(t.bounds),t.bounds}function v(t,e,n){var r,i,a,o,u=t.marktype,s=P[u],l=t.items,c=l&&l.length;if(s.nest)return a=c?l[0]:(q.mark=t,q),o=p(a,s,n),e=e&&e.union(o)||o;if(e=e||t.bounds&&t.bounds.clear()||new b,c)for(r=0,i=l.length;i>r;++r)e.union(p(l[r],s,n));return t.bounds=e}var y=t("./BoundsContext"),b=t("./Bounds"),x=t("./canvas"),M=t("./svg"),_=t("./text"),k=t("../path"),w=k.parse,T=k.render,S=M.path.area,D=M.path.line,C=Math.PI/2,A=Math.sqrt(3),j=Math.tan(30*Math.PI/180),L=null,z=y(),P={group:g,symbol:d,image:c,rect:l,rule:f,arc:h,text:m,path:o,area:u,line:s};P.area.nest=!0,P.line.nest=!0;var q={mark:null};e.exports={mark:v,item:p,text:m,group:g}},{"../path":33,"./Bounds":59,"./BoundsContext":60,"./canvas":65,"./svg":68,"./text":69}],65:[function(t,e,n){(function(t){function n(e,n){e=e||1,n=n||1;var r;if("undefined"!=typeof document&&document.createElement)r=document.createElement("canvas"),r.width=e,r.height=n;else{var i="undefined"!=typeof window?window.canvas:"undefined"!=typeof t?t.canvas:null;if(!i.prototype)return null;r=new i(e,n)}return a(r)}function r(t,e,n,r,a){var o=this._ctx=t.getContext("2d"),u=1;return t.width=e+r.left+r.right,t.height=n+r.top+r.bottom,a&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&(o.pixelratio=u=i(t)||1),o.setTransform(u,0,0,u,u*r.left,u*r.top),t}function i(t){var e=t.getContext("2d"),n=window&&window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=n/r;if(n!==r){var a=t.width,o=t.height;t.width=a*i,t.height=o*i,t.style.width=a+"px",t.style.height=o+"px"}return i}function a(t){var e=t.getContext("2d");if(!e.vgLineDash){var n=function(){},r=[];return e.setLineDash?(e.vgLineDash=function(t){this.setLineDash(t||r)},e.vgLineDashOffset=function(t){this.lineDashOffset=t}):void 0!==e.webkitLineDash?(e.vgLineDash=function(t){this.webkitLineDash=t||r},e.vgLineDashOffset=function(t){this.webkitLineDashOffset=t}):void 0!==e.mozDash?(e.vgLineDash=function(t){this.mozDash=t},e.vgLineDashOffset=n):(e.vgLineDash=n,e.vgLineDashOffset=n),t}}e.exports={instance:n,resize:r,lineDash:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(t,e,n){function r(t,e,n){return n?t.createElementNS(n,e):t.createElement(e)}function i(t){if(t){var e=t.parentNode;e&&(e.removeChild(t),e.childNodes&&e.childNodes.length||i(e))}}e.exports={find:function(t,e){e=e.toLowerCase();for(var n=0,r=t.childNodes.length;r>n;++n)if(t.childNodes[n].tagName.toLowerCase()===e)return t.childNodes[n]},child:function(t,e,n,i,a,o){var u,s;return u=s=t.childNodes[e],(!u||o||u.tagName.toLowerCase()!==n.toLowerCase()||a&&u.getAttribute("class")!=a)&&(u=r(t.ownerDocument,n,i),t.insertBefore(u,s||null),a&&u.setAttribute("class",a)),u},clear:function(t,e){for(var n=t.childNodes.length;n>e;)t.removeChild(t.childNodes[--n]);return t},remove:i,cssClass:function(t){return"mark-"+t.marktype+(t.name?" "+t.name:"")},openTag:function(t,e,n){var r,i,a="<"+t;if(e)for(r in e)i=e[r],null!=i&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"},closeTag:function(t){return"</"+t+">"}}},{}],67:[function(t,e,n){function r(t,e){return JSON.stringify(t,s,e)}function i(t){var e="string"==typeof t?JSON.parse(t):t;return a(e)}function a(t){var e,n,r,i,s,l=t.marktype;for(r=0,i=u.length;i>r;++r)if(s=t[u[r]])for(e=0,n=s.length;n>e;++e)s[e][l?"mark":"group"]=t,l&&"group"!==l||a(s[e]);return l&&o.mark(t),t}var o=t("../util/bound"),u=["items","axisItems","legendItems"],s=["marktype","name","interactive","clip","items","axisItems","legendItems","layer","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","interpolate","tension","orient","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];e.exports={toJSON:r,fromJSON:i}},{"../util/bound":64}],68:[function(t,e,n){(function(n){function r(t){return t.x||0}function i(t){return t.y||0}function a(t){return(t.x||0)+(t.width||0)}function o(t){return(t.y||0)+(t.height||0)}function u(t){return null==t.size?100:t.size}function s(t){return t.shape||"circle"}var l=t("datalib"),c=("undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null).svg,f=t("../path/parse"),h=c.area().x(r).y1(i).y0(o),d=c.area().y(i).x1(r).x0(a),m=c.line().x(r).y(i);e.exports={metadata:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},path:{arc:c.arc(),symbol:c.symbol().type(s).size(u),area:function(t){var e=t[0];return("horizontal"===e.orient?d:h).interpolate(e.interpolate||"linear").tension(e.tension||.7)(t)},line:function(t){var e=t[0];return m.interpolate(e.interpolate||"linear").tension(e.tension||.7)(t)},resize:function(t,e){var n,r,i,a,o,u,s,l=f(t),c="";for(e=Math.sqrt(e),a=0,o=l.length;o>a;++a)for(n=l[a],u=0,s=n.length;s>u&&"Z"!==n[u];++u)(r=+n[u])===r&&(i=t.indexOf(r),c+=t.substring(0,i)+r*e,t=t.substring(i+(r+"").length));return c+"Z"}},symbolTypes:l.toMap(c.symbolTypes),textAlign:{left:"start",center:"middle",right:"end"},textBaseline:{top:"before-edge",bottom:"after-edge",middle:"central"},styles:{fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},styleProperties:["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","strokeCap","strokeDash","strokeDashOffset","opacity"]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../path/parse":34,datalib:26}],69:[function(t,e,n){function r(t){return null!=t.fontSize?t.fontSize:11}e.exports={size:r,value:function(t){return null!=t?String(t):""},font:function(t,e){var n=t.font;return e&&n&&(n=String(n).replace(/\"/g,"'")),""+(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+r(t)+"px "+(n||"sans-serif")},offset:function(t){var e=t.baseline,n=r(t);return Math.round("top"===e?.93*n:"middle"===e?.3*n:"bottom"===e?-.21*n:0)}}},{}]},{},[31])(31)});
