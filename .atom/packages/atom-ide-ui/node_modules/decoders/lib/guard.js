'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.guard = guard;

var _debrief = require('debrief');

function guard(decoder) {
    return function (blob) {
        return decoder(blob).mapError(function (annotation) {
            var err = new Error('\n' + (0, _debrief.serialize)(annotation));
            err.name = 'Decoding error';
            return err;
        }).unwrap();
    };
}