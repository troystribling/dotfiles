"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getFragmentGrammar;

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

/**
 * Some grammars should use a specialized grammar for code fragments
 * (namely PHP, since it's wildly different depending on the presence of a <?php opening).
 */
const FRAGMENT_GRAMMARS = Object.freeze({
  'text.html.hack': 'source.hackfragment',
  'text.html.php': 'source.hackfragment'
});

function getFragmentGrammar(grammar) {
  if (FRAGMENT_GRAMMARS.hasOwnProperty(grammar.scopeName)) {
    const fragmentGrammar = FRAGMENT_GRAMMARS[grammar.scopeName];
    return atom.grammars.grammarForScopeName(fragmentGrammar) || grammar;
  }

  return grammar;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zLWF0b20vZ2V0RnJhZ21lbnRHcmFtbWFyLmpzIl0sIm5hbWVzIjpbIkZSQUdNRU5UX0dSQU1NQVJTIiwiT2JqZWN0IiwiZnJlZXplIiwiZ2V0RnJhZ21lbnRHcmFtbWFyIiwiZ3JhbW1hciIsImhhc093blByb3BlcnR5Iiwic2NvcGVOYW1lIiwiZnJhZ21lbnRHcmFtbWFyIiwiYXRvbSIsImdyYW1tYXJzIiwiZ3JhbW1hckZvclNjb3BlTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxpQkFBaUIsR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDdEMsb0JBQWtCLHFCQURvQjtBQUV0QyxtQkFBaUI7QUFGcUIsQ0FBZCxDQUExQjs7QUFLZSxTQUFTQyxrQkFBVCxDQUNiQyxPQURhLEVBRUM7QUFDZCxNQUFJSixpQkFBaUIsQ0FBQ0ssY0FBbEIsQ0FBaUNELE9BQU8sQ0FBQ0UsU0FBekMsQ0FBSixFQUF5RDtBQUN2RCxVQUFNQyxlQUFlLEdBQUdQLGlCQUFpQixDQUFDSSxPQUFPLENBQUNFLFNBQVQsQ0FBekM7QUFDQSxXQUFPRSxJQUFJLENBQUNDLFFBQUwsQ0FBY0MsbUJBQWQsQ0FBa0NILGVBQWxDLEtBQXNESCxPQUE3RDtBQUNEOztBQUNELFNBQU9BLE9BQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxyXG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cclxuICpcclxuICogQGZsb3cgc3RyaWN0XHJcbiAqIEBmb3JtYXRcclxuICovXHJcblxyXG4vKipcclxuICogU29tZSBncmFtbWFycyBzaG91bGQgdXNlIGEgc3BlY2lhbGl6ZWQgZ3JhbW1hciBmb3IgY29kZSBmcmFnbWVudHNcclxuICogKG5hbWVseSBQSFAsIHNpbmNlIGl0J3Mgd2lsZGx5IGRpZmZlcmVudCBkZXBlbmRpbmcgb24gdGhlIHByZXNlbmNlIG9mIGEgPD9waHAgb3BlbmluZykuXHJcbiAqL1xyXG5cclxuY29uc3QgRlJBR01FTlRfR1JBTU1BUlMgPSBPYmplY3QuZnJlZXplKHtcclxuICAndGV4dC5odG1sLmhhY2snOiAnc291cmNlLmhhY2tmcmFnbWVudCcsXHJcbiAgJ3RleHQuaHRtbC5waHAnOiAnc291cmNlLmhhY2tmcmFnbWVudCcsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RnJhZ21lbnRHcmFtbWFyKFxyXG4gIGdyYW1tYXI6IGF0b20kR3JhbW1hcixcclxuKTogYXRvbSRHcmFtbWFyIHtcclxuICBpZiAoRlJBR01FTlRfR1JBTU1BUlMuaGFzT3duUHJvcGVydHkoZ3JhbW1hci5zY29wZU5hbWUpKSB7XHJcbiAgICBjb25zdCBmcmFnbWVudEdyYW1tYXIgPSBGUkFHTUVOVF9HUkFNTUFSU1tncmFtbWFyLnNjb3BlTmFtZV07XHJcbiAgICByZXR1cm4gYXRvbS5ncmFtbWFycy5ncmFtbWFyRm9yU2NvcGVOYW1lKGZyYWdtZW50R3JhbW1hcikgfHwgZ3JhbW1hcjtcclxuICB9XHJcbiAgcmV0dXJuIGdyYW1tYXI7XHJcbn1cclxuIl19