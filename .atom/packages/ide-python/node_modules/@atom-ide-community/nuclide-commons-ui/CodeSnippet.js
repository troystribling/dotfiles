"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CodeSnippet = void 0;

var _AtomInput = require("./AtomInput");

var _assert = _interopRequireDefault(require("assert"));

var React = _interopRequireWildcard(require("react"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */
class CodeSnippet extends React.Component {
  constructor(...args) {
    super(...args);
    this._editor = void 0;
    this._ongoingSelection = void 0;
  }

  componentDidMount() {
    (0, _assert.default)(this._editor != null);

    const editor = this._editor.getTextEditor();

    const {
      grammar,
      highlights,
      startLine
    } = this.props;

    if (grammar) {
      editor.setGrammar(grammar);
    }

    if (highlights != null) {
      (0, _assert.default)(startLine != null);
      highlights.forEach(range => {
        const marker = editor.markBufferRange([[range.start.row - startLine, range.start.column], [range.end.row - startLine, range.end.column]]);
        editor.decorateMarker(marker, {
          type: 'highlight',
          class: 'code-snippet-highlight'
        });
      }); // Make sure at least one highlight is visible.

      if (highlights.length > 0) {
        editor.scrollToBufferPosition([highlights[0].end.row - startLine + 1, highlights[0].end.column]);
      }
    }
  }

  render() {
    const lineNumbers = [];
    let lineNumberColumn;

    if (this.props.startLine != null && this.props.endLine != null) {
      for (let i = this.props.startLine; i <= this.props.endLine; i++) {
        lineNumbers.push( /*#__PURE__*/React.createElement("div", {
          key: i,
          className: "nuclide-ui-code-snippet-line-number",
          onClick: evt => this.props.onLineClick(evt, i)
        }, i + 1));
      }

      lineNumberColumn = /*#__PURE__*/React.createElement("div", {
        className: "nuclide-ui-code-snippet-line-number-column"
      }, lineNumbers);
    }

    return /*#__PURE__*/React.createElement("div", {
      className: "nuclide-ui-code-snippet"
    }, lineNumberColumn, /*#__PURE__*/React.createElement(_AtomInput.AtomInput, {
      ref: input => {
        this._editor = input;
      },
      initialValue: this.props.text,
      onMouseDown: e => {
        this._ongoingSelection = null;
      },
      onDidChangeSelectionRange: e => {
        this._ongoingSelection = e.selection;
      },
      onDidChange: this.props.onDidChange,
      onClick: e => {
        // If the user selected a range, cancel the `onClick` behavior
        // to enable copying the selection.
        let shouldCancel = false;

        if (this._ongoingSelection != null) {
          const {
            start,
            end
          } = this._ongoingSelection.getBufferRange();

          shouldCancel = start.compare(end) !== 0;
        }

        if (!shouldCancel) {
          this.props.onClick(e);
        }

        this._ongoingSelection = null;
      }
    }));
  }

}

exports.CodeSnippet = CodeSnippet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zLXVpL0NvZGVTbmlwcGV0LmpzIl0sIm5hbWVzIjpbIkNvZGVTbmlwcGV0IiwiUmVhY3QiLCJDb21wb25lbnQiLCJfZWRpdG9yIiwiX29uZ29pbmdTZWxlY3Rpb24iLCJjb21wb25lbnREaWRNb3VudCIsImVkaXRvciIsImdldFRleHRFZGl0b3IiLCJncmFtbWFyIiwiaGlnaGxpZ2h0cyIsInN0YXJ0TGluZSIsInByb3BzIiwic2V0R3JhbW1hciIsImZvckVhY2giLCJyYW5nZSIsIm1hcmtlciIsIm1hcmtCdWZmZXJSYW5nZSIsInN0YXJ0Iiwicm93IiwiY29sdW1uIiwiZW5kIiwiZGVjb3JhdGVNYXJrZXIiLCJ0eXBlIiwiY2xhc3MiLCJsZW5ndGgiLCJzY3JvbGxUb0J1ZmZlclBvc2l0aW9uIiwicmVuZGVyIiwibGluZU51bWJlcnMiLCJsaW5lTnVtYmVyQ29sdW1uIiwiZW5kTGluZSIsImkiLCJwdXNoIiwiZXZ0Iiwib25MaW5lQ2xpY2siLCJpbnB1dCIsInRleHQiLCJlIiwic2VsZWN0aW9uIiwib25EaWRDaGFuZ2UiLCJzaG91bGRDYW5jZWwiLCJnZXRCdWZmZXJSYW5nZSIsImNvbXBhcmUiLCJvbkNsaWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBWUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlCTyxNQUFNQSxXQUFOLFNBQTBCQyxLQUFLLENBQUNDLFNBQWhDLENBQWlEO0FBQUE7QUFBQTtBQUFBLFNBQ3REQyxPQURzRDtBQUFBLFNBRXREQyxpQkFGc0Q7QUFBQTs7QUFJdERDLEVBQUFBLGlCQUFpQixHQUFHO0FBQ2xCLHlCQUFVLEtBQUtGLE9BQUwsSUFBZ0IsSUFBMUI7O0FBQ0EsVUFBTUcsTUFBTSxHQUFHLEtBQUtILE9BQUwsQ0FBYUksYUFBYixFQUFmOztBQUNBLFVBQU07QUFBQ0MsTUFBQUEs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RUYsQ0FBQyxJQUFJO0FBQ1o7QUFDQTtBQUNBLFlBQUlHLFlBQVksR0FBRyxLQUFuQjs7QUFDQSxZQUFJLEtBQUtuQyxpQkFBTCxJQUEwQixJQUE5QixFQUFvQztBQUNsQyxnQkFBTTtBQUFDYSxZQUFBQSxLQUFEO0FBQVFHLFlBQUFBO0FBQVIsY0FBZSxLQUFLaEIsaUJBQUwsQ0FBdUJvQyxjQUF2QixFQUFyQjs7QUFDQUQsVUFBQUEsWUFBWSxHQUFHdEIsS0FBSyxDQUFDd0IsT0FBTixDQUFjckIsR0FBZCxNQUF1QixDQUF0QztBQUNEOztBQUNELFlBQUksQ0FBQ21CLFlBQUwsRUFBbUI7QUFDakIsZUFBSzVCLEtBQUwsQ0FBVytCLE9BQVgsQ0FBbUJOLENBQW5CO0FBQ0Q7O0FBQ0QsYUFBS2hDLGlCQUFMLEdBQXlCLElBQXpCO0FBQ0Q7QUF4QkgsTUFGRixDQURGO0FBK0JEOztBQTNGcUQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcclxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXHJcbiAqXHJcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxyXG4gKiBAZm9ybWF0XHJcbiAqL1xyXG5cclxuaW1wb3J0IHtBdG9tSW5wdXR9IGZyb20gJy4vQXRvbUlucHV0JztcclxuaW1wb3J0IGludmFyaWFudCBmcm9tICdhc3NlcnQnO1xyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG50eXBlIFByb3BzID0ge1xyXG4gIHRleHQ6IHN0cmluZyxcclxuICBncmFtbWFyPzogYXRvbSRHcmFtbWFyLFxyXG4gIGhpZ2hsaWdodHM/OiBBcnJheTxhdG9tJFJhbmdlPiwgLy8gTkI6IEhpZ2hsaWdodHMgcmVxdWlyZSBhIHN0YXJ0L2VuZCBsaW5lXHJcbiAgc3RhcnRMaW5lOiA/bnVtYmVyLFxyXG4gIGVuZExpbmU6ID9udW1iZXIsXHJcbiAgb25DbGljazogKGV2ZW50OiBTeW50aGV0aWNNb3VzZUV2ZW50PD4pID0+IG1peGVkLFxyXG4gIG9uTGluZUNsaWNrOiAoZXZlbnQ6IFN5bnRoZXRpY01vdXNlRXZlbnQ8PiwgbGluZTogbnVtYmVyKSA9PiBtaXhlZCxcclxuICBvbkRpZENoYW5nZT86IHN0cmluZyA9PiBtaXhlZCxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2RlU25pcHBldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcz4ge1xyXG4gIF9lZGl0b3I6ID9BdG9tSW5wdXQ7XHJcbiAgX29uZ29pbmdTZWxlY3Rpb246ID9hdG9tJFNlbGVjdGlvbjtcclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICBpbnZhcmlhbnQodGhpcy5fZWRpdG9yICE9IG51bGwpO1xyXG4gICAgY29uc3QgZWRpdG9yID0gdGhpcy5fZWRpdG9yLmdldFRleHRFZGl0b3IoKTtcclxuICAgIGNvbnN0IHtncmFtbWFyLCBoaWdobGlnaHRzLCBzdGFydExpbmV9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBpZiAoZ3JhbW1hcikge1xyXG4gICAgICBlZGl0b3Iuc2V0R3JhbW1hcihncmFtbWFyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaGlnaGxpZ2h0cyAhPSBudWxsKSB7XHJcbiAgICAgIGludmFyaWFudChzdGFydExpbmUgIT0gbnVsbCk7XHJcblxyXG4gICAgICBoaWdobGlnaHRzLmZvckVhY2gocmFuZ2UgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hcmtlciA9IGVkaXRvci5tYXJrQnVmZmVyUmFuZ2UoW1xyXG4gICAgICAgICAgW3JhbmdlLnN0YXJ0LnJvdyAtIHN0YXJ0TGluZSwgcmFuZ2Uuc3RhcnQuY29sdW1uXSxcclxuICAgICAgICAgIFtyYW5nZS5lbmQucm93IC0gc3RhcnRMaW5lLCByYW5nZS5lbmQuY29sdW1uXSxcclxuICAgICAgICBdKTtcclxuICAgICAgICBlZGl0b3IuZGVjb3JhdGVNYXJrZXIobWFya2VyLCB7XHJcbiAgICAgICAgICB0eXBlOiAnaGlnaGxpZ2h0JyxcclxuICAgICAgICAgIGNsYXNzOiAnY29kZS1zbmlwcGV0LWhpZ2hsaWdodCcsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gTWFrZSBzdXJlIGF0IGxlYXN0IG9uZSBoaWdobGlnaHQgaXMgdmlzaWJsZS5cclxuICAgICAgaWYgKGhpZ2hsaWdodHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGVkaXRvci5zY3JvbGxUb0J1ZmZlclBvc2l0aW9uKFtcclxuICAgICAgICAgIGhpZ2hsaWdodHNbMF0uZW5kLnJvdyAtIHN0YXJ0TGluZSArIDEsXHJcbiAgICAgICAgICBoaWdobGlnaHRzWzBdLmVuZC5jb2x1bW4sXHJcbiAgICAgICAgXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcclxuICAgIGNvbnN0IGxpbmVOdW1iZXJzID0gW107XHJcbiAgICBsZXQgbGluZU51bWJlckNvbHVtbjogP1JlYWN0Lk5vZGU7XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuc3RhcnRMaW5lICE9IG51bGwgJiYgdGhpcy5wcm9wcy5lbmRMaW5lICE9IG51bGwpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IHRoaXMucHJvcHMuc3RhcnRMaW5lOyBpIDw9IHRoaXMucHJvcHMuZW5kTGluZTsgaSsrKSB7XHJcbiAgICAgICAgbGluZU51bWJlcnMucHVzaChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAga2V5PXtpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJudWNsaWRlLXVpLWNvZGUtc25pcHBldC1saW5lLW51bWJlclwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2V2dCA9PiB0aGlzLnByb3BzLm9uTGluZUNsaWNrKGV2dCwgaSl9PlxyXG4gICAgICAgICAgICB7aSArIDF9XHJcbiAgICAgICAgICA8L2Rpdj4sXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGluZU51bWJlckNvbHVtbiA9IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm51Y2xpZGUtdWktY29kZS1zbmlwcGV0LWxpbmUtbnVtYmVyLWNvbHVtblwiPlxyXG4gICAgICAgICAge2xpbmVOdW1iZXJzfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVjbGlkZS11aS1jb2RlLXNuaXBwZXRcIj5cclxuICAgICAgICB7bGluZU51bWJlckNvbHVtbn1cclxuICAgICAgICA8QXRvbUlucHV0XHJcbiAgICAgICAgICByZWY9e2lucHV0ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fZWRpdG9yID0gaW5wdXQ7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgaW5pdGlhbFZhbHVlPXt0aGlzLnByb3BzLnRleHR9XHJcbiAgICAgICAgICBvbk1vdXNlRG93bj17ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uZ29pbmdTZWxlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uRGlkQ2hhbmdlU2VsZWN0aW9uUmFuZ2U9e2UgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9vbmdvaW5nU2VsZWN0aW9uID0gZS5zZWxlY3Rpb247XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgb25EaWRDaGFuZ2U9e3RoaXMucHJvcHMub25EaWRDaGFuZ2V9XHJcbiAgICAgICAgICBvbkNsaWNrPXtlID0+IHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgc2VsZWN0ZWQgYSByYW5nZSwgY2FuY2VsIHRoZSBgb25DbGlja2AgYmVoYXZpb3JcclxuICAgICAgICAgICAgLy8gdG8gZW5hYmxlIGNvcHlpbmcgdGhlIHNlbGVjdGlvbi5cclxuICAgICAgICAgICAgbGV0IHNob3VsZENhbmNlbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25nb2luZ1NlbGVjdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qge3N0YXJ0LCBlbmR9ID0gdGhpcy5fb25nb2luZ1NlbGVjdGlvbi5nZXRCdWZmZXJSYW5nZSgpO1xyXG4gICAgICAgICAgICAgIHNob3VsZENhbmNlbCA9IHN0YXJ0LmNvbXBhcmUoZW5kKSAhPT0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXNob3VsZENhbmNlbCkge1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMub25DbGljayhlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9vbmdvaW5nU2VsZWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXX0=