"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DragResizeContainer = void 0;

var React = _interopRequireWildcard(require("react"));

var _rxjsCompatUmdMin = require("rxjs-compat/bundles/rxjs-compat.umd.min.js");

var _nullthrows = _interopRequireDefault(require("nullthrows"));

var _UniversalDisposable = _interopRequireDefault(require("@atom-ide-community/nuclide-commons/UniversalDisposable"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */
class DragResizeContainer extends React.Component {
  constructor(props) {
    super(props);
    this._disposables = void 0;
    this._resizeStarts = void 0;
    this._node = void 0;
    this._resizeStarts = new _rxjsCompatUmdMin.Subject();
    this.state = {
      height: null,
      isDragging: false,
      lastMouseDown: 0
    };
  }

  componentDidMount() {
    const el = (0, _nullthrows.default)(this._node);
    this._disposables = new _UniversalDisposable.default(this._resizeStarts.switchMap(startEvent => {
      // Only fire on primary mouse button
      if (startEvent.button !== 0) {
        return _rxjsCompatUmdMin.Observable.empty();
      } // Abort everything if double click


      const now = Date.now();

      if (now - this.state.lastMouseDown < 500) {
        this.setState({
          height: null,
          isDragging: false,
          lastMouseDown: now
        });
        return _rxjsCompatUmdMin.Observable.empty();
      }

      this.setState({
        isDragging: true,
        lastMouseDown: now
      });
      const startY = startEvent.pageY;
      const startHeight = el.getBoundingClientRect().height;
      return _rxjsCompatUmdMin.Observable.fromEvent(document, 'mousemove').takeUntil(_rxjsCompatUmdMin.Observable.fromEvent(document, 'mouseup')).map(event => {
        const change = event.pageY - startY;
        return startHeight + change;
      }).do({
        complete: () => this.setState({
          isDragging: false
        })
      });
    }).subscribe(height => this.setState({
      height
    })), atom.commands.add(el, 'resize-container:reset-height', () => this.setState({
      height: null
    })), atom.contextMenu.add({
      '.nuclide-ui-drag-resize-container': [{
        label: 'Reset Height',
        command: 'resize-container:reset-height'
      }]
    }));
  }

  componentWillUnmount() {
    this._disposables.dispose();
  }

  render() {
    const {
      height,
      isDragging
    } = this.state;
    const style = {};

    if (height == null) {
      style.maxHeight = '20vh';
    } else {
      style.height = height;
    }

    return /*#__PURE__*/React.createElement("div", {
      className: "nuclide-ui-drag-resize-container",
      style: style,
      ref: node => this._node = node
    }, this.props.children, /*#__PURE__*/React.createElement("div", {
      className: "nuclide-ui-drag-resize-container-handle",
      onMouseDown: event => this._resizeStarts.next(event)
    }, /*#__PURE__*/React.createElement("div", {
      className: "nuclide-ui-drag-resize-container-handle-line"
    }), isDragging ? /*#__PURE__*/React.createElement("div", {
      className: "nuclide-ui-drag-resize-container-handle-overlay"
    }) : null));
  }

}

exports.DragResizeContainer = DragResizeContainer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zLXVpL0RyYWdSZXNpemVDb250YWluZXIuanMiXSwibmFtZXMiOlsiRHJhZ1Jlc2l6ZUNvbnRhaW5lciIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsIl9kaXNwb3NhYmxlcyIsIl9yZXNpemVTdGFydHMiLCJfbm9kZSIsIlN1YmplY3QiLCJzdGF0ZSIsImhlaWdodCIsImlzRHJhZ2dpbmciLCJsYXN0TW91c2VEb3duIiwiY29tcG9uZW50RGlkTW91bnQiLCJlbCIsIlVuaXZlcnNhbERpc3Bvc2FibGUiLCJzd2l0Y2hNYXAiLCJzdGFydEV2ZW50IiwiYnV0dG9uIiwiT2JzZXJ2YWJsZSIsImVtcHR5Iiwibm93IiwiRGF0ZSIsInNldFN0YXRlIiwic3RhcnRZIiwicGFnZVkiLCJzdGFydEhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZyb21FdmVudCIsImRvY3VtZW50IiwidGFrZVVudGlsIiwibWFwIiwiZXZlbnQiLCJjaGFuZ2UiLCJkbyIsImNvbXBsZXRlIiwic3Vic2NyaWJlIiwiYXRvbSIsImNvbW1hbmRzIiwiYWRkIiwiY29udGV4dE1lbnUiLCJsYWJlbCIsImNvbW1hbmQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRpc3Bvc2UiLCJyZW5kZXIiLCJzdHlsZSIsIm1heEhlaWdodCIsIm5vZGUiLCJjaGlsZHJlbiIsIm5leHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFZQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUJPLE1BQU1BLG1CQUFOLFNBQWtDQyxLQUFLLENBQUNDLFNBQXhDLENBQWdFO0FBS3JFQyxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBZTtBQUN4QixVQUFNQSxLQUFOO0FBRHdCLFNBSjFCQyxZQUkwQjtBQUFBLFNBSDFCQyxhQUcw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LE1BQWxCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xELE1BQUFBLEtBQUssQ0FBQ3BDLE1BQU4sR0FBZUEsTUFBZjtBQUNEOztBQUVELHdCQUNFO0FBQ0UsTUFBQSxTQUFTLEVBQUMsa0NBRFo7QUFFRSxNQUFBLEtBQUssRUFBRW9DLEtBRlQ7QUFHRSxNQUFBLEdBQUcsRUFBRUUsSUFBSSxJQUFLLEtBQUt6QyxLQUFMLEdBQWF5QztBQUg3QixPQUlHLEtBQUs1QyxLQUFMLENBQVc2QyxRQUpkLGVBS0U7QUFDRSxNQUFBLFNBQVMsRUFBQyx5Q0FEWjtBQUVFLE1BQUEsV0FBVyxFQUFFakIsS0FBSyxJQUFJLEtBQUsxQixhQUFMLENBQW1CNEMsSUFBbkIsQ0FBd0JsQixLQUF4QjtBQUZ4QixvQkFHRTtBQUFLLE1BQUEsU0FBUyxFQUFDO0FBQWYsTUFIRixFQUlHckIsVUFBVSxnQkFDVDtBQUFLLE1BQUEsU0FBUyxFQUFDO0FBQWYsTUFEUyxHQUVQLElBTk4sQ0FMRixDQURGO0FBZ0JEOztBQTlGb0UiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcclxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXHJcbiAqXHJcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxyXG4gKiBAZm9ybWF0XHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge09ic2VydmFibGUsIFN1YmplY3R9IGZyb20gJ3J4anMtY29tcGF0L2J1bmRsZXMvcnhqcy1jb21wYXQudW1kLm1pbi5qcyc7XHJcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xyXG5pbXBvcnQgVW5pdmVyc2FsRGlzcG9zYWJsZSBmcm9tICdAYXRvbS1pZGUtY29tbXVuaXR5L251Y2xpZGUtY29tbW9ucy9Vbml2ZXJzYWxEaXNwb3NhYmxlJztcclxuXHJcbnR5cGUgUHJvcHMgPSB7XHJcbiAgY2hpbGRyZW4/OiBSZWFjdC5Ob2RlLFxyXG59O1xyXG5cclxudHlwZSBTdGF0ZSA9IHtcclxuICBoZWlnaHQ6ID9udW1iZXIsXHJcbiAgaXNEcmFnZ2luZzogYm9vbGVhbixcclxuICBsYXN0TW91c2VEb3duOiBudW1iZXIsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhZ1Jlc2l6ZUNvbnRhaW5lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICBfZGlzcG9zYWJsZXM6IFVuaXZlcnNhbERpc3Bvc2FibGU7XHJcbiAgX3Jlc2l6ZVN0YXJ0czogU3ViamVjdDxTeW50aGV0aWNNb3VzZUV2ZW50PD4+O1xyXG4gIF9ub2RlOiA/SFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5fcmVzaXplU3RhcnRzID0gbmV3IFN1YmplY3QoKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGhlaWdodDogbnVsbCxcclxuICAgICAgaXNEcmFnZ2luZzogZmFsc2UsXHJcbiAgICAgIGxhc3RNb3VzZURvd246IDAsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBlbCA9IG51bGx0aHJvd3ModGhpcy5fbm9kZSk7XHJcblxyXG4gICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBuZXcgVW5pdmVyc2FsRGlzcG9zYWJsZShcclxuICAgICAgdGhpcy5fcmVzaXplU3RhcnRzXHJcbiAgICAgICAgLnN3aXRjaE1hcChzdGFydEV2ZW50ID0+IHtcclxuICAgICAgICAgIC8vIE9ubHkgZmlyZSBvbiBwcmltYXJ5IG1vdXNlIGJ1dHRvblxyXG4gICAgICAgICAgaWYgKHN0YXJ0RXZlbnQuYnV0dG9uICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBPYnNlcnZhYmxlLmVtcHR5KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQWJvcnQgZXZlcnl0aGluZyBpZiBkb3VibGUgY2xpY2tcclxuICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICBpZiAobm93IC0gdGhpcy5zdGF0ZS5sYXN0TW91c2VEb3duIDwgNTAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIGhlaWdodDogbnVsbCxcclxuICAgICAgICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICBsYXN0TW91c2VEb3duOiBub3csXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5lbXB0eSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzRHJhZ2dpbmc6IHRydWUsIGxhc3RNb3VzZURvd246IG5vd30pO1xyXG4gICAgICAgICAgY29uc3Qgc3RhcnRZID0gc3RhcnRFdmVudC5wYWdlWTtcclxuICAgICAgICAgIGNvbnN0IHN0YXJ0SGVpZ2h0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUuZnJvbUV2ZW50KGRvY3VtZW50LCAnbW91c2Vtb3ZlJylcclxuICAgICAgICAgICAgLnRha2VVbnRpbChPYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgJ21vdXNldXAnKSlcclxuICAgICAgICAgICAgLm1hcChldmVudCA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2hhbmdlID0gZXZlbnQucGFnZVkgLSBzdGFydFk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0SGVpZ2h0ICsgY2hhbmdlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZG8oe1xyXG4gICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB0aGlzLnNldFN0YXRlKHtpc0RyYWdnaW5nOiBmYWxzZX0pLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdWJzY3JpYmUoaGVpZ2h0ID0+IHRoaXMuc2V0U3RhdGUoe2hlaWdodH0pKSxcclxuICAgICAgYXRvbS5jb21tYW5kcy5hZGQoZWwsICdyZXNpemUtY29udGFpbmVyOnJlc2V0LWhlaWdodCcsICgpID0+XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aGVpZ2h0OiBudWxsfSksXHJcbiAgICAgICksXHJcbiAgICAgIGF0b20uY29udGV4dE1lbnUuYWRkKHtcclxuICAgICAgICAnLm51Y2xpZGUtdWktZHJhZy1yZXNpemUtY29udGFpbmVyJzogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogJ1Jlc2V0IEhlaWdodCcsXHJcbiAgICAgICAgICAgIGNvbW1hbmQ6ICdyZXNpemUtY29udGFpbmVyOnJlc2V0LWhlaWdodCcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0pLFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6IHZvaWQge1xyXG4gICAgdGhpcy5fZGlzcG9zYWJsZXMuZGlzcG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xyXG4gICAgY29uc3Qge2hlaWdodCwgaXNEcmFnZ2luZ30gPSB0aGlzLnN0YXRlO1xyXG4gICAgY29uc3Qgc3R5bGUgPSB7fTtcclxuICAgIGlmIChoZWlnaHQgPT0gbnVsbCkge1xyXG4gICAgICBzdHlsZS5tYXhIZWlnaHQgPSAnMjB2aCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzTmFtZT1cIm51Y2xpZGUtdWktZHJhZy1yZXNpemUtY29udGFpbmVyXCJcclxuICAgICAgICBzdHlsZT17c3R5bGV9XHJcbiAgICAgICAgcmVmPXtub2RlID0+ICh0aGlzLl9ub2RlID0gbm9kZSl9PlxyXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT1cIm51Y2xpZGUtdWktZHJhZy1yZXNpemUtY29udGFpbmVyLWhhbmRsZVwiXHJcbiAgICAgICAgICBvbk1vdXNlRG93bj17ZXZlbnQgPT4gdGhpcy5fcmVzaXplU3RhcnRzLm5leHQoZXZlbnQpfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVjbGlkZS11aS1kcmFnLXJlc2l6ZS1jb250YWluZXItaGFuZGxlLWxpbmVcIiAvPlxyXG4gICAgICAgICAge2lzRHJhZ2dpbmcgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVjbGlkZS11aS1kcmFnLXJlc2l6ZS1jb250YWluZXItaGFuZGxlLW92ZXJsYXlcIiAvPlxyXG4gICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl19