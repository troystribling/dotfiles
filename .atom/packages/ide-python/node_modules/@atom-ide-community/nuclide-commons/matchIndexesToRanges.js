"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = matchIndexesToRanges;

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */
function matchIndexesToRanges(matchIndexes) {
  let streakOngoing = false;
  let start = 0;
  const ranges = []; // Collapse consecutive values for consecutive indexes into range pairs.
  // Do this in O(n) where n is the number of matchIndexes (ie. less than the length of the path).

  matchIndexes.forEach((i, n) => {
    if (matchIndexes[n + 1] === i + 1) {
      if (!streakOngoing) {
        start = i;
        streakOngoing = true;
      }
    } else {
      if (streakOngoing) {
        ranges.push([start, i + 1]);
        streakOngoing = false;
      } else {
        ranges.push([i, i + 1]);
      }

      start = i + 1;
    }
  });
  return ranges;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1jb21tb25zL21hdGNoSW5kZXhlc1RvUmFuZ2VzLmpzIl0sIm5hbWVzIjpbIm1hdGNoSW5kZXhlc1RvUmFuZ2VzIiwibWF0Y2hJbmRleGVzIiwic3RyZWFrT25nb2luZyIsInN0YXJ0IiwicmFuZ2VzIiwiZm9yRWFjaCIsImkiLCJuIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJZSxTQUFTQSxvQkFBVCxDQUNiQyxZQURhLEVBRU07QUFDbkIsTUFBSUMsYUFBYSxHQUFHLEtBQXBCO0FBQ0EsTUFBSUMsS0FBSyxHQUFHLENBQVo7QUFDQSxRQUFNQyxNQUFNLEdBQUcsRUFBZixDQUhtQixDQUtuQjtBQUNBOztBQUNBSCxFQUFBQSxZQUFZLENBQUNJLE9BQWIsQ0FBcUIsQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEtBQVU7QUFDN0IsUUFBSU4sWUFBWSxDQUFDTSxDQUFDLEdBQUcsQ0FBTCxDQUFaLEtBQXdCRCxDQUFDLEdBQUcsQ0FBaEMsRUFBbUM7QUFDakMsVUFBSSxDQUFDSixhQUFMLEVBQW9CO0FBQ2xCQyxRQUFBQSxLQUFLLEdBQUdHLENBQVI7QUFDQUosUUFBQUEsYUFBYSxHQUFHLElBQWhCO0FBQ0Q7QUFDRixLQUxELE1BS087QUFDTCxVQUFJQSxhQUFKLEVBQW1CO0FBQ2pCRSxRQUFBQSxNQUFNLENBQUNJLElBQVAsQ0FBWSxDQUFDTCxLQUFELEVBQVFHLENBQUMsR0FBRyxDQUFaLENBQVo7QUFDQUosUUFBQUEsYUFBYSxHQUFHLEtBQWhCO0FBQ0QsT0FIRCxNQUdPO0FBQ0xFLFFBQUFBLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLENBQUNGLENBQUQsRUFBSUEsQ0FBQyxHQUFHLENBQVIsQ0FBWjtBQUNEOztBQUNESCxNQUFBQSxLQUFLLEdBQUdHLENBQUMsR0FBRyxDQUFaO0FBQ0Q7QUFDRixHQWZEO0FBZ0JBLFNBQU9GLE1BQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxyXG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cclxuICpcclxuICogQGZsb3cgc3RyaWN0XHJcbiAqIEBmb3JtYXRcclxuICovXHJcblxyXG50eXBlIE1hdGNoUmFuZ2UgPSBbLyogc3RhcnQgKi8gbnVtYmVyLCAvKiBlbmQgKi8gbnVtYmVyXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1hdGNoSW5kZXhlc1RvUmFuZ2VzKFxyXG4gIG1hdGNoSW5kZXhlczogQXJyYXk8bnVtYmVyPixcclxuKTogQXJyYXk8TWF0Y2hSYW5nZT4ge1xyXG4gIGxldCBzdHJlYWtPbmdvaW5nID0gZmFsc2U7XHJcbiAgbGV0IHN0YXJ0ID0gMDtcclxuICBjb25zdCByYW5nZXMgPSBbXTtcclxuXHJcbiAgLy8gQ29sbGFwc2UgY29uc2VjdXRpdmUgdmFsdWVzIGZvciBjb25zZWN1dGl2ZSBpbmRleGVzIGludG8gcmFuZ2UgcGFpcnMuXHJcbiAgLy8gRG8gdGhpcyBpbiBPKG4pIHdoZXJlIG4gaXMgdGhlIG51bWJlciBvZiBtYXRjaEluZGV4ZXMgKGllLiBsZXNzIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgcGF0aCkuXHJcbiAgbWF0Y2hJbmRleGVzLmZvckVhY2goKGksIG4pID0+IHtcclxuICAgIGlmIChtYXRjaEluZGV4ZXNbbiArIDFdID09PSBpICsgMSkge1xyXG4gICAgICBpZiAoIXN0cmVha09uZ29pbmcpIHtcclxuICAgICAgICBzdGFydCA9IGk7XHJcbiAgICAgICAgc3RyZWFrT25nb2luZyA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChzdHJlYWtPbmdvaW5nKSB7XHJcbiAgICAgICAgcmFuZ2VzLnB1c2goW3N0YXJ0LCBpICsgMV0pO1xyXG4gICAgICAgIHN0cmVha09uZ29pbmcgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByYW5nZXMucHVzaChbaSwgaSArIDFdKTtcclxuICAgICAgfVxyXG4gICAgICBzdGFydCA9IGkgKyAxO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiByYW5nZXM7XHJcbn1cclxuIl19