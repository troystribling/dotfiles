"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _idx = _interopRequireDefault(require("idx"));

var _nullthrows = _interopRequireDefault(require("nullthrows"));

var _Checkbox = require("@atom-ide-community/nuclide-commons-ui/Checkbox");

var _Dropdown = require("@atom-ide-community/nuclide-commons-ui/Dropdown");

var _AtomInput = require("@atom-ide-community/nuclide-commons-ui/AtomInput");

var _nuclideUri = _interopRequireDefault(require("@atom-ide-community/nuclide-commons/nuclideUri"));

var _string = require("@atom-ide-community/nuclide-commons/string");

var _UniversalDisposable = _interopRequireDefault(require("@atom-ide-community/nuclide-commons/UniversalDisposable"));

var _debugger = require("@atom-ide-community/nuclide-commons-atom/debugger");

var _DebuggerConfigSerializer = require("./DebuggerConfigSerializer");

var _DeviceAndPackage = require("./DeviceAndPackage");

var _DeviceAndProcess = require("./DeviceAndProcess");

var _SelectableFilterableProcessTable = _interopRequireDefault(require("./SelectableFilterableProcessTable"));

var _SourceSelector = require("./SourceSelector");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */
// extension must be a string starting with a '.' like '.js' or '.py'
function getActiveScriptPath(extension) {
  const center = atom.workspace.getCenter ? atom.workspace.getCenter() : atom.workspace;
  const activeEditor = center.getActiveTextEditor();

  if (activeEditor == null || !activeEditor.getPath() || !(0, _nullthrows.default)(activeEditor.getPath()).endsWith(extension)) {
    return '';
  }

  return _nuclideUri.default.getPath((0, _nullthrows.default)(activeEditor.getPath()));
}

class AutoGenLaunchAttachUiComponent extends React.Component {
  constructor(props) {
    super(props);
    this._disposables = void 0;

    this._handleDebugButtonClick = async () => {
      const {
        targetUri,
        config
      } = this.props;
      const {
        atomInputValues,
        booleanValues,
        enumValues,
        processTableValues,
        deviceAndPackageValues,
        deviceAndProcessValues,
        selectSourcesValues
      } = this.state;
      const {
        launch,
        vsAdapterType,
        getProcessName,
        adapterExecutable
      } = config;
      const stringValues = new Map();
      const stringArrayValues = new Map();
      const objectValues = new Map();
      const numberValues = new Map();
      const jsonValues = new Map();
      await Promise.all(Array.from(this._getConfigurationProperties().filter(property => property.visible && atomInputValues.has(property.name)).map(async property => {
        const {
          name,
          type
        } = property;
        const itemType = (0, _idx.default)(property, _ => _.itemType);
        const value = atomInputValues.get(name) || '';

        if (type === 'path') {
          try {
            const trimmedValue = value.trim();
            const resolvedPath = this.props.pathResolver == null ? trimmedValue : await this.props.pathResolver(targetUri, trimmedValue);
            stringValues.set(name, resolvedPath);
          } catch (_) {
            stringValues.set(name, value);
          }
        } else if (type === 'string') {
          stringValues.set(name, value);
        } else if (type === 'array' && itemType === 'string') {
          stringArrayValues.set(name, (0, _string.shellParseWithGlobs)(value));
        } else if (type === 'object') {
          const objectValue = {};
          (0, _string.shellParseWithGlobs)(value).forEach(variable => {
            const [lhs, rhs] = variable.split('=');
            objectValue[lhs] = rhs;
          });
          objectValues.set(name, objectValue);
        } else if (type === 'number') {
          numberValues.set(name, Number(value));
        } else if (type === 'json') {
          jsonValues.set(name, JSON.parse(value));
        }

        return value;
      })));
      const packageValues = new Map();

      this._getConfigurationProperties().filter(property => property.visible && deviceAndPackageValues.has(property.name)).forEach(property => {
        const deviceAndPackage = deviceAndPackageValues.get(property.name);

        if (deviceAndPackage != null) {
          packageValues.set(property.name, deviceAndPackage.selectedPackage);
        }
      });

      const processValues = new Map();

      this._getConfigurationProperties().filter(property => property.visible && deviceAndProcessValues.has(property.name)).forEach(property => {
        const deviceAndProcess = deviceAndProcessValues.get(property.name);
        const processName = (0, _idx.default)(deviceAndProcess, _ => _.selectedProcess.name);

        if (deviceAndProcess != null && processName != null) {
          processValues.set(property.name, processName);
        }
      });

      const values = {};
      [booleanValues, enumValues, stringValues, stringArrayValues, objectValues, numberValues, processTableValues, jsonValues, deviceAndPackageValues, deviceAndProcessValues, selectSourcesValues].forEach(map => {
        map.forEach((value, key) => {
          values[key] = value;
        });
      });

      this._getConfigurationProperties().filter(property => !property.visible && !atomInputValues.has(property.name)).forEach(property => {
        const {
          name
        } = property;
        values[name] = (0, _idx.default)(property, _ => _.defaultValue);
      });

      const debuggerService = await (0, _debugger.getDebuggerService)();
      debuggerService.startVspDebugging({
        targetUri,
        debugMode: launch ? 'launch' : 'attach',
        adapterType: vsAdapterType,
        adapterExecutable,
        config: values,
        customControlButtons: [],
        processName: getProcessName(values),
        isRestartable: true
      });
      (0, _DebuggerConfigSerializer.serializeDebuggerConfig)(...this._getSerializationArgs(this.props), {
        atomInputValues: Array.from(atomInputValues),
        booleanValues: Array.from(booleanValues),
        enumValues: Array.from(enumValues),
        packageValues: Array.from(packageValues),
        processValues: Array.from(processValues),
        selectSourcesValues: Array.from(selectSourcesValues)
      });
    };

    this._disposables = new _UniversalDisposable.default();
    this.state = {
      atomInputValues: new Map(),
      booleanValues: new Map(),
      enumValues: new Map(),
      processTableValues: new Map(),
      deviceAndPackageValues: new Map(),
      deviceAndProcessValues: new Map(),
      selectSourcesValues: new Map()
    };
  }

  _atomInputType(type, itemType) {
    return type === 'string' || type === 'path' || type === 'array' && itemType === 'string' || type === 'object' || type === 'number' || type === 'json';
  }

  _getConfigurationProperties() {
    const {
      config
    } = this.props;
    return config.properties;
  }

  _populateDefaultValues(config, atomInputValues, booleanValues, enumValues) {
    const ignorePreviousParams = config.ignorePreviousParams !== undefined ? config.ignorePreviousParams : false;
    config.properties.filter(property => property.visible).map(property => {
      const {
        name,
        type
      } = property;
      const itemType = (0, _idx.default)(property, _ => _.itemType);

      if (this._atomInputType(type, itemType)) {
        const existingValue = atomInputValues.get(name);

        if ((ignorePreviousParams || existingValue == null) && typeof property.defaultValue !== 'undefined') {
          // String(propertyDescription.default) deals with both strings and numbers and arrays
          // JSON.stringify for JSON
          // empty string otherwise
          const defaultValue = type === 'string' || type === 'number' || type === 'array' ? String(property.defaultValue) : type === 'json' ? JSON.stringify(property.defaultValue) : '';
          atomInputValues.set(name, defaultValue);
        }
      } else if (type === 'boolean') {
        const existingValue = booleanValues.get(name);

        if ((ignorePreviousParams || existingValue == null) && typeof property.defaultValue !== 'undefined' && property.defaultValue != null && typeof property.defaultValue === 'boolean') {
          booleanValues.set(name, property.defaultValue);
        } else {
          booleanValues.set(name, false);
        }
      } else if (type === 'enum' && property.enums != null) {
        const existingValue = enumValues.get(name);

        if ((ignorePreviousParams || existingValue == null) && typeof property.defaultValue !== 'undefined' && property.defaultValue != null && typeof property.defaultValue === 'string') {
          enumValues.set(name, property.defaultValue);
        }
      }
    });
  }

  _getSerializationArgs(props) {
    const {
      targetUri,
      config,
      debuggerTypeName
    } = props;
    const args = [_nuclideUri.default.isRemote(targetUri) ? _nuclideUri.default.getHostname(targetUri) : 'local', config.launch ? 'launch' : 'attach', debuggerTypeName];
    return args;
  }

  _deserializeDebuggerConfig(props) {
    (0, _DebuggerConfigSerializer.deserializeDebuggerConfig)(...this._getSerializationArgs(props), (transientSettings, savedSettings) => {
      const {
        config
      } = props;
      const {
        cwdPropertyName,
        scriptPropertyName,
        launch,
        scriptExtension
      } = config;
      const atomInputValues = new Map(savedSettings.atomInputValues || []);
      const scriptPath = scriptPropertyName != null && atomInputValues.get(scriptPropertyName) || scriptExtension != null && getActiveScriptPath(scriptExtension) || '';

      if (cwdPropertyName != null) {
        const cwd = atomInputValues.get(cwdPropertyName) || (scriptPath !== '' ? _nuclideUri.default.dirname(scriptPath) : '');

        if (cwd !== '') {
          atomInputValues.set(cwdPropertyName, cwd);
        }
      }

      if (launch) {
        if (scriptPath !== '' && scriptPropertyName != null) {
          atomInputValues.set(scriptPropertyName, scriptPath);
        }
      }

      const booleanValues = new Map(savedSettings.booleanValues || []);
      const enumValues = new Map(savedSettings.enumValues || []);

      this._populateDefaultValues(config, atomInputValues, booleanValues, enumValues); // do not serialize and deserialize these values:


      const processTableValues = new Map();
      const deviceAndPackageValues = new Map();
      const deviceAndProcessValues = new Map();
      this.setState({
        atomInputValues,
        booleanValues,
        enumValues,
        processTableValues,
        deviceAndPackageValues,
        deviceAndProcessValues
      });
    });
  }

  setState(newState) {
    super.setState(newState, () => this.props.configIsValidChanged(this._debugButtonShouldEnable()));
  }

  UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.debuggerTypeName !== this.props.debuggerTypeName) {
      this._deserializeDebuggerConfig(nextProps);
    }
  }

  UNSAFE_componentWillMount() {
    this._deserializeDebuggerConfig(this.props);
  }

  componentDidMount() {
    this._disposables.add(atom.commands.add('atom-workspace', {
      'core:confirm': async () => {
        if (this._debugButtonShouldEnable()) {
          await this._handleDebugButtonClick();
        }
      }
    }));
  }

  componentWillUnmount() {
    this._disposables.dispose();
  }

  _valueExists(property) {
    const {
      name,
      type
    } = property;

    if (type === 'string' || type === 'path' || type === 'array' && property.itemType === 'string') {
      const value = this.state.atomInputValues.get(name);
      return value != null && value !== '';
    } else if (type === 'number') {
      const value = this.state.atomInputValues.get(name);
      return value != null && !isNaN(value);
    } else if (type === 'boolean') {
      const value = this.state.booleanValues.get(name);
      return value != null;
    } else if (type === 'enum') {
      const value = this.state.enumValues.get(name);
      return value != null;
    } else if (type === 'process') {
      const value = this.state.processTableValues.get(name);
      return value != null;
    } else if (type === 'deviceAndPackage') {
      const deviceAndPackageValue = this.state.deviceAndPackageValues.get(name);
      return deviceAndPackageValue != null;
    } else if (type === 'deviceAndProcess') {
      const deviceAndProcessValue = this.state.deviceAndProcessValues.get(name);
      return deviceAndProcessValue != null;
    } else if (type === 'selectSources') {
      const selectSourcesValue = this.state.selectSourcesValues.get(name);
      return selectSourcesValue != null;
    }

    return false;
  }

  _debugButtonShouldEnable() {
    return this._getConfigurationProperties().filter(p => p.required).every(p => this._valueExists(p));
  }

  _getComponentForProperty(property) {
    const {
      name,
      type,
      description,
      required
    } = property;
    const formattedName = (0, _string.capitalize)(name.replace(/([A-Z])/g, ' $1')) + (required ? ' (Required)' : '');
    const nameLabel = type === 'boolean' ? formattedName : formattedName + ':';
    const itemType = (0, _idx.default)(property, _ => _.itemType);

    if (this._atomInputType(type, itemType)) {
      const value = this.state.atomInputValues.get(name) || '';
      return /*#__PURE__*/React.createElement("div", null, nameLabel, /*#__PURE__*/React.createElement(_AtomInput.AtomInput, {
        key: this.props.debuggerTypeName + ':' + name,
        placeholderText: description,
        value: value,
        onDidChange: newValue => {
          this.state.atomInputValues.set(name, newValue);
          this.props.configIsValidChanged(this._debugButtonShouldEnable());
        }
      }));
    } else if (type === 'boolean') {
      const checked = this.state.booleanValues.get(name) || false;
      return /*#__PURE__*/React.createElement("div", {
        className: "inline-block"
      }, /*#__PURE__*/React.createElement(_Checkbox.Checkbox, {
        checked: checked,
        label: nameLabel,
        title: description,
        onChange: newValue => {
          this.state.booleanValues.set(name, newValue);
          this.props.configIsValidChanged(this._debugButtonShouldEnable());
        }
      }));
    } else if (type === 'enum' && property.enums != null) {
      const enums = property.enums;
      const selectedValue = this.state.enumValues.get(name) || null;
      return /*#__PURE__*/React.createElement("div", null, nameLabel, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", null, description)), /*#__PURE__*/React.createElement(_Dropdown.Dropdown, {
        options: enums.map(enumValue => ({
          value: enumValue,
          label: (0, _string.capitalize)(enumValue.replace(/([A-Z])/g, ' $1'))
        })),
        onChange: enumValue => {
          this.state.enumValues.set(name, enumValue);
          this.props.configIsValidChanged(this._debugButtonShouldEnable());
        },
        value: selectedValue
      }));
    } else if (type === 'process') {
      return /*#__PURE__*/React.createElement("div", null, nameLabel, /*#__PURE__*/React.createElement(_SelectableFilterableProcessTable.default, {
        targetUri: this.props.targetUri,
        onSelect: selectedProcess => {
          if (selectedProcess != null) {
            this.state.processTableValues.set(name, selectedProcess.pid);
          } else {
            this.state.processTableValues.delete(name);
          }

          this.props.configIsValidChanged(this._debugButtonShouldEnable());
        }
      }));
    } else if (type === 'deviceAndPackage') {
      return /*#__PURE__*/React.createElement(_DeviceAndPackage.DeviceAndPackage, {
        targetUri: this.props.targetUri,
        deserialize: () => {
          let packageValuesArray = [];
          (0, _DebuggerConfigSerializer.deserializeDebuggerConfig)(...this._getSerializationArgs(this.props), (transientSettings, savedSettings) => {
            packageValuesArray = savedSettings.packageValues || [];
          });
          const packageValues = new Map(packageValuesArray);
          return packageValues.get(name) || null;
        },
        onSelect: (deviceSerial, javaPackage) => {
          if (deviceSerial != null) {
            this.state.deviceAndPackageValues.set(name, {
              deviceSerial,
              selectedPackage: javaPackage
            });
          } else {
            this.state.deviceAndPackageValues.delete(name);
          }

          this.props.configIsValidChanged(this._debugButtonShouldEnable());
        }
      });
    } else if (type === 'deviceAndProcess') {
      return /*#__PURE__*/React.createElement(_DeviceAndProcess.DeviceAndProcess, {
        targetUri: this.props.targetUri,
        deserialize: () => {
          let processValuesArray = [];
          (0, _DebuggerConfigSerializer.deserializeDebuggerConfig)(...this._getSerializationArgs(this.props), (transientSettings, savedSettings) => {
            processValuesArray = savedSettings.processValues || [];
          });
          const processValues = new Map(processValuesArray);
          return processValues.get(name) || null;
        },
        onSelect: (deviceSerial, javaProcess) => {
          if (deviceSerial != null && javaProcess != null) {
            this.state.deviceAndProcessValues.set(name, {
              deviceSerial,
              selectedProcess: javaProcess
            });
          } else {
            this.state.deviceAndProcessValues.delete(name);
          }

          this.props.configIsValidChanged(this._debugButtonShouldEnable());
        }
      });
    } else if (type === 'selectSources') {
      return /*#__PURE__*/React.createElement("div", null, nameLabel, /*#__PURE__*/React.createElement(_SourceSelector.SourceSelector, {
        deserialize: () => {
          let selectSourcesValuesArray = [];
          (0, _DebuggerConfigSerializer.deserializeDebuggerConfig)(...this._getSerializationArgs(this.props), (transientSettings, savedSettings) => {
            selectSourcesValuesArray = savedSettings.selectSourcesValues || [];
          });
          const selectSourcesValues = new Map(selectSourcesValuesArray);
          return selectSourcesValues.get(name) || null;
        },
        onSelect: selectedSource => {
          this.state.selectSourcesValues.set(name, selectedSource);
          this.props.configIsValidChanged(this._debugButtonShouldEnable());
        }
      }));
    }

    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", null, "NO TRANSLATION YET FOR: ", (0, _string.capitalize)(name)), /*#__PURE__*/React.createElement("hr", null));
  }

  render() {
    const {
      debuggerTypeName,
      config
    } = this.props;
    return /*#__PURE__*/React.createElement("div", {
      className: "block"
    }, config.header, this._getConfigurationProperties().filter(property => property.visible).map(property => /*#__PURE__*/React.createElement("div", {
      key: debuggerTypeName + ':' + property.name
    }, this._getComponentForProperty(property))));
  }

}

exports.default = AutoGenLaunchAttachUiComponent;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL251Y2xpZGUvbnVjbGlkZS1kZWJ1Z2dlci1jb21tb24vQXV0b0dlbkxhdW5jaEF0dGFjaFVpQ29tcG9uZW50LmpzIl0sIm5hbWVzIjpbImdldEFjdGl2ZVNjcmlwdFBhdGgiLCJleHRlbnNpb24iLCJjZW50ZXIiLCJhdG9tIiwid29ya3NwYWNlIiwiZ2V0Q2VudGVyIiwiYWN0aXZlRWRpdG9yIiwiZ2V0QWN0aXZlVGV4dEVkaXRvciIsImdldFBhdGgiLCJlbmRzV2l0aCIsIm51Y2xpZGVVcmkiLCJBdXRvR2VuTGF1bmNoQXR0YWNoVWlDb21wb25lbnQiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJfZGlzcG9zYWJsZXMiLCJfaGFuZGxlRGVidWdCdXR0b25DbGljayIsInRhcmdldFVyaSIsImNvbmZpZyIsImF0b21JbnB1dFZhbHVlcyIsImJvb2xlYW5WYWx1ZXMiLCJlbnVtVmFsdWVzIiwicHJvY2Vzc1RhYmxlVmFsdWVzIiwiZGV2aWNlQW5kUGFja2FnZVZhbHVlcyIsImRldmljZUFuZFByb2Nlc3NWYWx1ZXMiLCJzZWxlY3RTb3VyY2VzVmFsdWVzIiwic3RhdGUiLCJsYXVuY2giLCJ2c0FkYXB0ZXJUeXBlIiwiZ2V0UHJvY2Vzc05hbWUiLCJhZGFwdGVyRXhlY3V0YWJsZSIsInN0cmluZ1ZhbHVlcyIsIk1hcCIsInN0cmluZ0FycmF5VmFsdWVzIiwib2JqZWN0VmFsdWVzIiwibnVtYmVyVmFsdWVzIiwianNvblZhbHVlcyIsIlByb21pc2UiLCJhbGwiLCJBcnJheSIsImZyb20iLCJfZ2V0Q29uZmlndXJhdGlvblByb3BlcnRpZXMiLCJmaWx0ZXIiLCJwcm9wZXJ0eSIsInZpc2libGUiLCJoYXMiLCJuYW1lIiwibWFwIiwidHlwZSIsIml0ZW1UeXBlIiwiXyIsInZhbHVlIiwiZ2V0IiwidHJpbW1lZFZhbHVlIiwidHJpbSIsInJlc29sdmVkUGF0aCIsInBhdGhSZXNvbHZlciIsInNldCIsIm9iamVjdFZhbHVlIiwiZm9yRWFjaCIsInZhcmlhYmxlIiwibGhzIiwicmhzIiwic3BsaXQiLCJOdW1iZXIiLCJKU09OIiwicGFyc2UiLCJwYWNrYWdlVmFsdWVzIiwiZGV2aWNlQW5kUGFja2FnZSIsInNlbGVjdGVkUGFja2FnZSIsInByb2Nlc3NWYWx1ZXMiLCJkZXZpY2VBbmRQcm9jZXNzIiwicHJvY2Vzc05hbWUiLCJzZWxlY3RlZFByb2Nlc3MiLCJ2YWx1ZXMiLCJrZXkiLCJkZWZhdWx0VmFsdWUiLCJkZWJ1Z2dlclNlcnZpY2UiLCJzdGFydFZzcERlYnVnZ2luZyIsImRlYnVnTW9kZSIsImFkYXB0ZXJUeXBlIiwiY3VzdG9tQ29udHJvbEJ1dHRvbnMiLCJpc1Jlc3RhcnRhYmxlIiwiX2dldFNlcmlhbGl6YXRpb25BcmdzIiwiVW5pdmVyc2FsRGlzcG9zYWJsZSIsIl9hdG9tSW5wdXRUeXBlIiwicHJvcGVydGllcyIsIl9wb3B1bGF0ZURlZmF1bHRWYWx1ZXMiLCJpZ25vcmVQcmV2aW91c1BhcmFtcyIsInVuZGVmaW5lZCIsImV4aXN0aW5nVmFsdWUiLCJTdHJpbmciLCJzdHJpbmdpZnkiLCJlbnVtcyIsImRlYnVnZ2VyVHlwZU5hbWUiLCJhcmdzIiwiaXNSZW1vdGUiLCJnZXRIb3N0bmFtZSIsIl9kZXNlcmlhbGl6ZURlYnVnZ2VyQ29uZmlnIiwidHJhbnNpZW50U2V0dGluZ3MiLCJzYXZlZFNldHRpbmdzIiwiY3dkUHJvcGVydHlOYW1lIiwic2NyaXB0UHJvcGVydHlOYW1lIiwic2NyaXB0RXh0ZW5zaW9uIiwic2NyaXB0UGF0aCIsImN3ZCIsImRpcm5hbWUiLCJzZXRTdGF0ZSIsIm5ld1N0YXRlIiwiY29uZmlnSXNWYWxpZENoYW5nZWQiLCJfZGVidWdCdXR0b25TaG91bGRFbmFibGUiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsImFkZCIsImNvbW1hbmRzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkaXNwb3NlIiwiX3ZhbHVlRXhpc3RzIiwiaXNOYU4iLCJkZXZpY2VBbmRQYWNrYWdlVmFsdWUiLCJkZXZpY2VBbmRQcm9jZXNzVmFsdWUiLCJzZWxlY3RTb3VyY2VzVmFsdWUiLCJwIiwicmVxdWlyZWQiLCJldmVyeSIsIl9nZXRDb21wb25lbnRGb3JQcm9wZXJ0eSIsImRlc2NyaXB0aW9uIiwiZm9ybWF0dGVkTmFtZSIsInJlcGxhY2UiLCJuYW1lTGFiZWwiLCJuZXdWYWx1ZSIsImNoZWNrZWQiLCJzZWxlY3RlZFZhbHVlIiwiZW51bVZhbHVlIiwibGFiZWwiLCJwaWQiLCJkZWxldGUiLCJwYWNrYWdlVmFsdWVzQXJyYXkiLCJkZXZpY2VTZXJpYWwiLCJqYXZhUGFja2FnZSIsInByb2Nlc3NWYWx1ZXNBcnJheSIsImphdmFQcm9jZXNzIiwic2VsZWN0U291cmNlc1ZhbHVlc0FycmF5Iiwic2VsZWN0ZWRTb3VyY2UiLCJyZW5kZXIiLCJoZWFkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFvQkE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBSUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE0REE7QUFDQSxTQUFTQSxtQkFBVCxDQUE2QkMsU0FBN0IsRUFBd0Q7QUFDdEQsUUFBTUMsTUFBTSxHQUFHQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUMsU0FBZixHQUNYRixJQUFJLENBQUNDLFNBQUwsQ0FBZUMsU0FBZixFQURXLEdBRVhGLElBQUksQ0FBQ0MsU0FGVDtBQUdBLFFBQU1FLFlBQThCLEdBQUdKLE1BQU0sQ0FBQ0ssbUJBQVAsRUFBdkM7O0FBQ0EsTUFDRUQsWUFBWSxJQUFJLElBQWhCLElBQ0EsQ0FBQ0EsWUFBWSxDQUFDRSxPQUFiLEVBREQsSUFFQSxDQUFDLHlCQUFXRixZQUFZLENBQUNFLE9BQWIsRUFB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QixHQUNyQjVDLGFBQWEsQ0FBQzNFLG1CQUFmLElBQ0EsRUFGRjtBQUdELFdBTkg7QUFRQSxnQkFBTUEsbUJBQW1CLEdBQUcsSUFBSU8sR0FBSixDQUFRZ0gsd0JBQVIsQ0FBNUI7QUFDQSxpQkFBT3ZILG1CQUFtQixDQUFDMkIsR0FBcEIsQ0FBd0JOLElBQXhCLEtBQWlDLElBQXhDO0FBQ0QsU0FiSDtBQWNFLFFBQUEsUUFBUSxFQUFFbUcsY0FBYyxJQUFJO0FBQzFCLGVBQUt2SCxLQUFMLENBQVdELG1CQUFYLENBQStCZ0MsR0FBL0IsQ0FBbUNYLElBQW5DLEVBQXlDbUcsY0FBekM7QUFDQSxlQUFLbkksS0FBTCxDQUFXK0Ysb0JBQVgsQ0FBZ0MsS0FBS0Msd0JBQUwsRUFBaEM7QUFDRDtBQWpCSCxRQUZGLENBREY7QUF3QkQ7O0FBQ0Qsd0JBQ0UsOENBQ0UsK0RBQWdDLHdCQUFXaEUsSUFBWCxDQUFoQyxDQURGLGVBRUUsK0JBRkYsQ0FERjtBQU1EOztBQUVEb0csRUFBQUEsTUFBTSxHQUFlO0FBQ25CLFVBQU07QUFBQ3BELE1BQUFBLGdCQUFEO0FBQW1CNUUsTUFBQUE7QUFBbkIsUUFBNkIsS0FBS0osS0FBeEM7QUFDQSx3QkFDRTtBQUFLLE1BQUEsU0FBUyxFQUFDO0FBQWYsT0FDR0ksTUFBTSxDQUFDaUksTUFEVixFQUVHLEtBQUsxRywyQkFBTCxHQUNFQyxNQURGLENBQ1NDLFFBQVEsSUFBSUEsUUFBUSxDQUFDQyxPQUQ5QixFQUVFRyxHQUZGLENBRU1KLFFBQVEsaUJBQ1g7QUFBSyxNQUFBLEdBQUcsRUFBRW1ELGdCQUFnQixHQUFHLEdBQW5CLEdBQXlCbkQsUUFBUSxDQUFDRztBQUE1QyxPQUNHLEtBQUtpRix3QkFBTCxDQUE4QnBGLFFBQTlCLENBREgsQ0FISCxDQUZILENBREY7QUFZRDs7QUEvWkQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxyXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcclxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXHJcbiAqXHJcbiAqIEBmbG93XHJcbiAqIEBmb3JtYXRcclxuICovXHJcblxyXG5pbXBvcnQgdHlwZSB7QW5kcm9pZEphdmFQcm9jZXNzfSBmcm9tICdAYXRvbS1pZGUtY29tbXVuaXR5L251Y2xpZGUtYWRiL2xpYi90eXBlcyc7XHJcbmltcG9ydCB0eXBlIHtOdWNsaWRlVXJpfSBmcm9tICdAYXRvbS1pZGUtY29tbXVuaXR5L251Y2xpZGUtY29tbW9ucy9udWNsaWRlVXJpJztcclxuaW1wb3J0IHR5cGUge1xyXG4gIEF1dG9HZW5Qcm9wZXJ0eSxcclxuICBBdXRvR2VuTGF1bmNoT3JBdHRhY2hDb25maWcsXHJcbiAgQXV0b0dlblByb3BlcnR5VHlwZSxcclxuICBBdXRvR2VuUHJvcGVydHlQcmltaXRpdmVUeXBlLFxyXG59IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgaWR4IGZyb20gJ2lkeCc7XHJcbmltcG9ydCBudWxsdGhyb3dzIGZyb20gJ251bGx0aHJvd3MnO1xyXG5pbXBvcnQge0NoZWNrYm94fSBmcm9tICdAYXRvbS1pZGUtY29tbXVuaXR5L251Y2xpZGUtY29tbW9ucy11aS9DaGVja2JveCc7XHJcbmltcG9ydCB7RHJvcGRvd259IGZyb20gJ0BhdG9tLWlkZS1jb21tdW5pdHkvbnVjbGlkZS1jb21tb25zLXVpL0Ryb3Bkb3duJztcclxuaW1wb3J0IHtBdG9tSW5wdXR9IGZyb20gJ0BhdG9tLWlkZS1jb21tdW5pdHkvbnVjbGlkZS1jb21tb25zLXVpL0F0b21JbnB1dCc7XHJcbmltcG9ydCBudWNsaWRlVXJpIGZyb20gJ0BhdG9tLWlkZS1jb21tdW5pdHkvbnVjbGlkZS1jb21tb25zL251Y2xpZGVVcmknO1xyXG5pbXBvcnQge2NhcGl0YWxpemUsIHNoZWxsUGFyc2VXaXRoR2xvYnN9IGZyb20gJ0BhdG9tLWlkZS1jb21tdW5pdHkvbnVjbGlkZS1jb21tb25zL3N0cmluZyc7XHJcbmltcG9ydCBVbml2ZXJzYWxEaXNwb3NhYmxlIGZyb20gJ0BhdG9tLWlkZS1jb21tdW5pdHkvbnVjbGlkZS1jb21tb25zL1VuaXZlcnNhbERpc3Bvc2FibGUnO1xyXG5pbXBvcnQge2dldERlYnVnZ2VyU2VydmljZX0gZnJvbSAnQGF0b20taWRlLWNvbW11bml0eS9udWNsaWRlLWNvbW1vbnMtYXRvbS9kZWJ1Z2dlcic7XHJcbmltcG9ydCB7XHJcbiAgc2VyaWFsaXplRGVidWdnZXJDb25maWcsXHJcbiAgZGVzZXJpYWxpemVEZWJ1Z2dlckNvbmZpZyxcclxufSBmcm9tICcuL0RlYnVnZ2VyQ29uZmlnU2VyaWFsaXplcic7XHJcbmltcG9ydCB7RGV2aWNlQW5kUGFja2FnZX0gZnJvbSAnLi9EZXZpY2VBbmRQYWNrYWdlJztcclxuaW1wb3J0IHtEZXZpY2VBbmRQcm9jZXNzfSBmcm9tICcuL0RldmljZUFuZFByb2Nlc3MnO1xyXG5pbXBvcnQgU2VsZWN0YWJsZUZpbHRlcmFibGVQcm9jZXNzVGFibGUgZnJvbSAnLi9TZWxlY3RhYmxlRmlsdGVyYWJsZVByb2Nlc3NUYWJsZSc7XHJcbmltcG9ydCB7U291cmNlU2VsZWN0b3J9IGZyb20gJy4vU291cmNlU2VsZWN0b3InO1xyXG5cclxudHlwZSBTdHJpbmdQYWlyID0gW3N0cmluZywgc3RyaW5nXTtcclxuXHJcbnR5cGUgUHJvcHMgPSB7fFxyXG4gICt0YXJnZXRVcmk6IE51Y2xpZGVVcmksXHJcbiAgK2NvbmZpZ0lzVmFsaWRDaGFuZ2VkOiAodmFsaWQ6IGJvb2xlYW4pID0+IHZvaWQsXHJcbiAgK2NvbmZpZzogQXV0b0dlbkxhdW5jaE9yQXR0YWNoQ29uZmlnLFxyXG4gICtkZWJ1Z2dlclR5cGVOYW1lOiBzdHJpbmcsXHJcbiAgK3BhdGhSZXNvbHZlcjogKHByb2plY3Q6IE51Y2xpZGVVcmksIGZpbGVQYXRoOiBzdHJpbmcpID0+IFByb21pc2U8c3RyaW5nPixcclxufH07XHJcblxyXG50eXBlIERldmljZUFuZFBhY2thZ2VUeXBlID0ge3xcclxuICArZGV2aWNlU2VyaWFsOiBzdHJpbmcsXHJcbiAgK3NlbGVjdGVkUGFja2FnZTogc3RyaW5nLFxyXG58fTtcclxuXHJcbnR5cGUgRGV2aWNlQW5kUHJvY2Vzc1R5cGUgPSB7fFxyXG4gICtkZXZpY2VTZXJpYWw6IHN0cmluZyxcclxuICArc2VsZWN0ZWRQcm9jZXNzOiBBbmRyb2lkSmF2YVByb2Nlc3MsXHJcbnx9O1xyXG5cclxudHlwZSBTdGF0ZSA9IHtcclxuICBlbnVtVmFsdWVzOiBNYXA8c3RyaW5nLCBzdHJpbmc+LFxyXG4gIGJvb2xlYW5WYWx1ZXM6IE1hcDxzdHJpbmcsIGJvb2xlYW4+LFxyXG4gIGF0b21JbnB1dFZhbHVlczogTWFwPHN0cmluZywgc3RyaW5nPixcclxuICBwcm9jZXNzVGFibGVWYWx1ZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4sXHJcbiAgZGV2aWNlQW5kUGFja2FnZVZhbHVlczogTWFwPHN0cmluZywgRGV2aWNlQW5kUGFja2FnZVR5cGU+LFxyXG4gIGRldmljZUFuZFByb2Nlc3NWYWx1ZXM6IE1hcDxzdHJpbmcsIERldmljZUFuZFByb2Nlc3NUeXBlPixcclxuICBzZWxlY3RTb3VyY2VzVmFsdWVzOiBNYXA8c3RyaW5nLCA/TnVjbGlkZVVyaT4sXHJcbn07XHJcblxyXG4vLyBleHRlbnNpb24gbXVzdCBiZSBhIHN0cmluZyBzdGFydGluZyB3aXRoIGEgJy4nIGxpa2UgJy5qcycgb3IgJy5weSdcclxuZnVuY3Rpb24gZ2V0QWN0aXZlU2NyaXB0UGF0aChleHRlbnNpb246IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgY2VudGVyID0gYXRvbS53b3Jrc3BhY2UuZ2V0Q2VudGVyXHJcbiAgICA/IGF0b20ud29ya3NwYWNlLmdldENlbnRlcigpXHJcbiAgICA6IGF0b20ud29ya3NwYWNlO1xyXG4gIGNvbnN0IGFjdGl2ZUVkaXRvcjogP2F0b20kVGV4dEVkaXRvciA9IGNlbnRlci5nZXRBY3RpdmVUZXh0RWRpdG9yKCk7XHJcbiAgaWYgKFxyXG4gICAgYWN0aXZlRWRpdG9yID09IG51bGwgfHxcclxuICAgICFhY3RpdmVFZGl0b3IuZ2V0UGF0aCgpIHx8XHJcbiAgICAhbnVsbHRocm93cyhhY3RpdmVFZGl0b3IuZ2V0UGF0aCgpKS5lbmRzV2l0aChleHRlbnNpb24pXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG4gIHJldHVybiBudWNsaWRlVXJpLmdldFBhdGgobnVsbHRocm93cyhhY3RpdmVFZGl0b3IuZ2V0UGF0aCgpKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dG9HZW5MYXVuY2hBdHRhY2hVaUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcclxuICBQcm9wcyxcclxuICBTdGF0ZSxcclxuPiB7XHJcbiAgX2Rpc3Bvc2FibGVzOiBVbml2ZXJzYWxEaXNwb3NhYmxlO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuX2Rpc3Bvc2FibGVzID0gbmV3IFVuaXZlcnNhbERpc3Bvc2FibGUoKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGF0b21JbnB1dFZhbHVlczogbmV3IE1hcCgpLFxyXG4gICAgICBib29sZWFuVmFsdWVzOiBuZXcgTWFwKCksXHJcbiAgICAgIGVudW1WYWx1ZXM6IG5ldyBNYXAoKSxcclxuICAgICAgcHJvY2Vzc1RhYmxlVmFsdWVzOiBuZXcgTWFwKCksXHJcbiAgICAgIGRldmljZUFuZFBhY2thZ2VWYWx1ZXM6IG5ldyBNYXAoKSxcclxuICAgICAgZGV2aWNlQW5kUHJvY2Vzc1ZhbHVlczogbmV3IE1hcCgpLFxyXG4gICAgICBzZWxlY3RTb3VyY2VzVmFsdWVzOiBuZXcgTWFwKCksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2F0b21JbnB1dFR5cGUoXHJcbiAgICB0eXBlOiBBdXRvR2VuUHJvcGVydHlUeXBlLFxyXG4gICAgaXRlbVR5cGU6ID9BdXRvR2VuUHJvcGVydHlQcmltaXRpdmVUeXBlLFxyXG4gICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgdHlwZSA9PT0gJ3N0cmluZycgfHxcclxuICAgICAgdHlwZSA9PT0gJ3BhdGgnIHx8XHJcbiAgICAgICh0eXBlID09PSAnYXJyYXknICYmIGl0ZW1UeXBlID09PSAnc3RyaW5nJykgfHxcclxuICAgICAgdHlwZSA9PT0gJ29iamVjdCcgfHxcclxuICAgICAgdHlwZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgdHlwZSA9PT0gJ2pzb24nXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2dldENvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzKCk6IEF1dG9HZW5Qcm9wZXJ0eVtdIHtcclxuICAgIGNvbnN0IHtjb25maWd9ID0gdGhpcy5wcm9wcztcclxuICAgIHJldHVybiBjb25maWcucHJvcGVydGllcztcclxuICB9XHJcblxyXG4gIF9wb3B1bGF0ZURlZmF1bHRWYWx1ZXMoXHJcbiAgICBjb25maWc6IEF1dG9HZW5MYXVuY2hPckF0dGFjaENvbmZpZyxcclxuICAgIGF0b21JbnB1dFZhbHVlczogTWFwPHN0cmluZywgc3RyaW5nPixcclxuICAgIGJvb2xlYW5WYWx1ZXM6IE1hcDxzdHJpbmcsIGJvb2xlYW4+LFxyXG4gICAgZW51bVZhbHVlczogTWFwPHN0cmluZywgc3RyaW5nPixcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IGlnbm9yZVByZXZpb3VzUGFyYW1zID1cclxuICAgICAgY29uZmlnLmlnbm9yZVByZXZpb3VzUGFyYW1zICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IGNvbmZpZy5pZ25vcmVQcmV2aW91c1BhcmFtc1xyXG4gICAgICAgIDogZmFsc2U7XHJcbiAgICBjb25maWcucHJvcGVydGllcy5maWx0ZXIocHJvcGVydHkgPT4gcHJvcGVydHkudmlzaWJsZSkubWFwKHByb3BlcnR5ID0+IHtcclxuICAgICAgY29uc3Qge25hbWUsIHR5cGV9ID0gcHJvcGVydHk7XHJcbiAgICAgIGNvbnN0IGl0ZW1UeXBlID0gaWR4KHByb3BlcnR5LCBfID0+IF8uaXRlbVR5cGUpO1xyXG4gICAgICBpZiAodGhpcy5fYXRvbUlucHV0VHlwZSh0eXBlLCBpdGVtVHlwZSkpIHtcclxuICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gYXRvbUlucHV0VmFsdWVzLmdldChuYW1lKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAoaWdub3JlUHJldmlvdXNQYXJhbXMgfHwgZXhpc3RpbmdWYWx1ZSA9PSBudWxsKSAmJlxyXG4gICAgICAgICAgdHlwZW9mIHByb3BlcnR5LmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vIFN0cmluZyhwcm9wZXJ0eURlc2NyaXB0aW9uLmRlZmF1bHQpIGRlYWxzIHdpdGggYm90aCBzdHJpbmdzIGFuZCBudW1iZXJzIGFuZCBhcnJheXNcclxuICAgICAgICAgIC8vIEpTT04uc3RyaW5naWZ5IGZvciBKU09OXHJcbiAgICAgICAgICAvLyBlbXB0eSBzdHJpbmcgb3RoZXJ3aXNlXHJcbiAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPVxyXG4gICAgICAgICAgICB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJyB8fCB0eXBlID09PSAnYXJyYXknXHJcbiAgICAgICAgICAgICAgPyBTdHJpbmcocHJvcGVydHkuZGVmYXVsdFZhbHVlKVxyXG4gICAgICAgICAgICAgIDogdHlwZSA9PT0gJ2pzb24nXHJcbiAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHByb3BlcnR5LmRlZmF1bHRWYWx1ZSlcclxuICAgICAgICAgICAgICAgIDogJyc7XHJcbiAgICAgICAgICBhdG9tSW5wdXRWYWx1ZXMuc2V0KG5hbWUsIGRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVmFsdWUgPSBib29sZWFuVmFsdWVzLmdldChuYW1lKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAoaWdub3JlUHJldmlvdXNQYXJhbXMgfHwgZXhpc3RpbmdWYWx1ZSA9PSBudWxsKSAmJlxyXG4gICAgICAgICAgdHlwZW9mIHByb3BlcnR5LmRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgIHByb3BlcnR5LmRlZmF1bHRWYWx1ZSAhPSBudWxsICYmXHJcbiAgICAgICAgICB0eXBlb2YgcHJvcGVydHkuZGVmYXVsdFZhbHVlID09PSAnYm9vbGVhbidcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGJvb2xlYW5WYWx1ZXMuc2V0KG5hbWUsIHByb3BlcnR5LmRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJvb2xlYW5WYWx1ZXMuc2V0KG5hbWUsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2VudW0nICYmIHByb3BlcnR5LmVudW1zICE9IG51bGwpIHtcclxuICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gZW51bVZhbHVlcy5nZXQobmFtZSk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgKGlnbm9yZVByZXZpb3VzUGFyYW1zIHx8IGV4aXN0aW5nVmFsdWUgPT0gbnVsbCkgJiZcclxuICAgICAgICAgIHR5cGVvZiBwcm9wZXJ0eS5kZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICBwcm9wZXJ0eS5kZWZhdWx0VmFsdWUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgdHlwZW9mIHByb3BlcnR5LmRlZmF1bHRWYWx1ZSA9PT0gJ3N0cmluZydcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGVudW1WYWx1ZXMuc2V0KG5hbWUsIHByb3BlcnR5LmRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9nZXRTZXJpYWxpemF0aW9uQXJncyhwcm9wczogUHJvcHMpIHtcclxuICAgIGNvbnN0IHt0YXJnZXRVcmksIGNvbmZpZywgZGVidWdnZXJUeXBlTmFtZX0gPSBwcm9wcztcclxuICAgIGNvbnN0IGFyZ3MgPSBbXHJcbiAgICAgIG51Y2xpZGVVcmkuaXNSZW1vdGUodGFyZ2V0VXJpKVxyXG4gICAgICAgID8gbnVjbGlkZVVyaS5nZXRIb3N0bmFtZSh0YXJnZXRVcmkpXHJcbiAgICAgICAgOiAnbG9jYWwnLFxyXG4gICAgICBjb25maWcubGF1bmNoID8gJ2xhdW5jaCcgOiAnYXR0YWNoJyxcclxuICAgICAgZGVidWdnZXJUeXBlTmFtZSxcclxuICAgIF07XHJcbiAgICByZXR1cm4gYXJncztcclxuICB9XHJcblxyXG4gIF9kZXNlcmlhbGl6ZURlYnVnZ2VyQ29uZmlnKHByb3BzOiBQcm9wcyk6IHZvaWQge1xyXG4gICAgZGVzZXJpYWxpemVEZWJ1Z2dlckNvbmZpZyhcclxuICAgICAgLi4udGhpcy5fZ2V0U2VyaWFsaXphdGlvbkFyZ3MocHJvcHMpLFxyXG4gICAgICAodHJhbnNpZW50U2V0dGluZ3MsIHNhdmVkU2V0dGluZ3MpID0+IHtcclxuICAgICAgICBjb25zdCB7Y29uZmlnfSA9IHByb3BzO1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgIGN3ZFByb3BlcnR5TmFtZSxcclxuICAgICAgICAgIHNjcmlwdFByb3BlcnR5TmFtZSxcclxuICAgICAgICAgIGxhdW5jaCxcclxuICAgICAgICAgIHNjcmlwdEV4dGVuc2lvbixcclxuICAgICAgICB9ID0gY29uZmlnO1xyXG4gICAgICAgIGNvbnN0IGF0b21JbnB1dFZhbHVlcyA9IG5ldyBNYXAoc2F2ZWRTZXR0aW5ncy5hdG9tSW5wdXRWYWx1ZXMgfHwgW10pO1xyXG5cclxuICAgICAgICBjb25zdCBzY3JpcHRQYXRoID1cclxuICAgICAgICAgIChzY3JpcHRQcm9wZXJ0eU5hbWUgIT0gbnVsbCAmJlxyXG4gICAgICAgICAgICBhdG9tSW5wdXRWYWx1ZXMuZ2V0KHNjcmlwdFByb3BlcnR5TmFtZSkpIHx8XHJcbiAgICAgICAgICAoc2NyaXB0RXh0ZW5zaW9uICE9IG51bGwgJiYgZ2V0QWN0aXZlU2NyaXB0UGF0aChzY3JpcHRFeHRlbnNpb24pKSB8fFxyXG4gICAgICAgICAgJyc7XHJcbiAgICAgICAgaWYgKGN3ZFByb3BlcnR5TmFtZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICBjb25zdCBjd2QgPVxyXG4gICAgICAgICAgICBhdG9tSW5wdXRWYWx1ZXMuZ2V0KGN3ZFByb3BlcnR5TmFtZSkgfHxcclxuICAgICAgICAgICAgKHNjcmlwdFBhdGggIT09ICcnID8gbnVjbGlkZVVyaS5kaXJuYW1lKHNjcmlwdFBhdGgpIDogJycpO1xyXG4gICAgICAgICAgaWYgKGN3ZCAhPT0gJycpIHtcclxuICAgICAgICAgICAgYXRvbUlucHV0VmFsdWVzLnNldChjd2RQcm9wZXJ0eU5hbWUsIGN3ZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXVuY2gpIHtcclxuICAgICAgICAgIGlmIChzY3JpcHRQYXRoICE9PSAnJyAmJiBzY3JpcHRQcm9wZXJ0eU5hbWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBhdG9tSW5wdXRWYWx1ZXMuc2V0KHNjcmlwdFByb3BlcnR5TmFtZSwgc2NyaXB0UGF0aCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvb2xlYW5WYWx1ZXMgPSBuZXcgTWFwKHNhdmVkU2V0dGluZ3MuYm9vbGVhblZhbHVlcyB8fCBbXSk7XHJcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IG5ldyBNYXAoc2F2ZWRTZXR0aW5ncy5lbnVtVmFsdWVzIHx8IFtdKTtcclxuICAgICAgICB0aGlzLl9wb3B1bGF0ZURlZmF1bHRWYWx1ZXMoXHJcbiAgICAgICAgICBjb25maWcsXHJcbiAgICAgICAgICBhdG9tSW5wdXRWYWx1ZXMsXHJcbiAgICAgICAgICBib29sZWFuVmFsdWVzLFxyXG4gICAgICAgICAgZW51bVZhbHVlcyxcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIGRvIG5vdCBzZXJpYWxpemUgYW5kIGRlc2VyaWFsaXplIHRoZXNlIHZhbHVlczpcclxuICAgICAgICBjb25zdCBwcm9jZXNzVGFibGVWYWx1ZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgY29uc3QgZGV2aWNlQW5kUGFja2FnZVZhbHVlcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb25zdCBkZXZpY2VBbmRQcm9jZXNzVmFsdWVzID0gbmV3IE1hcCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGF0b21JbnB1dFZhbHVlcyxcclxuICAgICAgICAgIGJvb2xlYW5WYWx1ZXMsXHJcbiAgICAgICAgICBlbnVtVmFsdWVzLFxyXG4gICAgICAgICAgcHJvY2Vzc1RhYmxlVmFsdWVzLFxyXG4gICAgICAgICAgZGV2aWNlQW5kUGFja2FnZVZhbHVlcyxcclxuICAgICAgICAgIGRldmljZUFuZFByb2Nlc3NWYWx1ZXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2V0U3RhdGUobmV3U3RhdGU6IE9iamVjdCk6IHZvaWQge1xyXG4gICAgc3VwZXIuc2V0U3RhdGUobmV3U3RhdGUsICgpID0+XHJcbiAgICAgIHRoaXMucHJvcHMuY29uZmlnSXNWYWxpZENoYW5nZWQodGhpcy5fZGVidWdCdXR0b25TaG91bGRFbmFibGUoKSksXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBQcm9wcykge1xyXG4gICAgaWYgKG5leHRQcm9wcy5kZWJ1Z2dlclR5cGVOYW1lICE9PSB0aGlzLnByb3BzLmRlYnVnZ2VyVHlwZU5hbWUpIHtcclxuICAgICAgdGhpcy5fZGVzZXJpYWxpemVEZWJ1Z2dlckNvbmZpZyhuZXh0UHJvcHMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpOiB2b2lkIHtcclxuICAgIHRoaXMuX2Rlc2VyaWFsaXplRGVidWdnZXJDb25maWcodGhpcy5wcm9wcyk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcclxuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmFkZChcclxuICAgICAgYXRvbS5jb21tYW5kcy5hZGQoJ2F0b20td29ya3NwYWNlJywge1xyXG4gICAgICAgICdjb3JlOmNvbmZpcm0nOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5fZGVidWdCdXR0b25TaG91bGRFbmFibGUoKSkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9oYW5kbGVEZWJ1Z0J1dHRvbkNsaWNrKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgfSksXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5kaXNwb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfdmFsdWVFeGlzdHMocHJvcGVydHk6IEF1dG9HZW5Qcm9wZXJ0eSk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3Qge25hbWUsIHR5cGV9ID0gcHJvcGVydHk7XHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGUgPT09ICdzdHJpbmcnIHx8XHJcbiAgICAgIHR5cGUgPT09ICdwYXRoJyB8fFxyXG4gICAgICAodHlwZSA9PT0gJ2FycmF5JyAmJiBwcm9wZXJ0eS5pdGVtVHlwZSA9PT0gJ3N0cmluZycpXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0YXRlLmF0b21JbnB1dFZhbHVlcy5nZXQobmFtZSk7XHJcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSAnJztcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0YXRlLmF0b21JbnB1dFZhbHVlcy5nZXQobmFtZSk7XHJcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICFpc05hTih2YWx1ZSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RhdGUuYm9vbGVhblZhbHVlcy5nZXQobmFtZSk7XHJcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZW51bScpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0YXRlLmVudW1WYWx1ZXMuZ2V0KG5hbWUpO1xyXG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3Byb2Nlc3MnKSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zdGF0ZS5wcm9jZXNzVGFibGVWYWx1ZXMuZ2V0KG5hbWUpO1xyXG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RldmljZUFuZFBhY2thZ2UnKSB7XHJcbiAgICAgIGNvbnN0IGRldmljZUFuZFBhY2thZ2VWYWx1ZSA9IHRoaXMuc3RhdGUuZGV2aWNlQW5kUGFja2FnZVZhbHVlcy5nZXQobmFtZSk7XHJcbiAgICAgIHJldHVybiBkZXZpY2VBbmRQYWNrYWdlVmFsdWUgIT0gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RldmljZUFuZFByb2Nlc3MnKSB7XHJcbiAgICAgIGNvbnN0IGRldmljZUFuZFByb2Nlc3NWYWx1ZSA9IHRoaXMuc3RhdGUuZGV2aWNlQW5kUHJvY2Vzc1ZhbHVlcy5nZXQobmFtZSk7XHJcbiAgICAgIHJldHVybiBkZXZpY2VBbmRQcm9jZXNzVmFsdWUgIT0gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NlbGVjdFNvdXJjZXMnKSB7XHJcbiAgICAgIGNvbnN0IHNlbGVjdFNvdXJjZXNWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0U291cmNlc1ZhbHVlcy5nZXQobmFtZSk7XHJcbiAgICAgIHJldHVybiBzZWxlY3RTb3VyY2VzVmFsdWUgIT0gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9kZWJ1Z0J1dHRvblNob3VsZEVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9nZXRDb25maWd1cmF0aW9uUHJvcGVydGllcygpXHJcbiAgICAgIC5maWx0ZXIocCA9PiBwLnJlcXVpcmVkKVxyXG4gICAgICAuZXZlcnkocCA9PiB0aGlzLl92YWx1ZUV4aXN0cyhwKSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0Q29tcG9uZW50Rm9yUHJvcGVydHkocHJvcGVydHk6IEF1dG9HZW5Qcm9wZXJ0eSk6IFJlYWN0Lk5vZGUge1xyXG4gICAgY29uc3Qge25hbWUsIHR5cGUsIGRlc2NyaXB0aW9uLCByZXF1aXJlZH0gPSBwcm9wZXJ0eTtcclxuICAgIGNvbnN0IGZvcm1hdHRlZE5hbWUgPVxyXG4gICAgICBjYXBpdGFsaXplKG5hbWUucmVwbGFjZSgvKFtBLVpdKS9nLCAnICQxJykpICtcclxuICAgICAgKHJlcXVpcmVkID8gJyAoUmVxdWlyZWQpJyA6ICcnKTtcclxuICAgIGNvbnN0IG5hbWVMYWJlbCA9IHR5cGUgPT09ICdib29sZWFuJyA/IGZvcm1hdHRlZE5hbWUgOiBmb3JtYXR0ZWROYW1lICsgJzonO1xyXG4gICAgY29uc3QgaXRlbVR5cGUgPSBpZHgocHJvcGVydHksIF8gPT4gXy5pdGVtVHlwZSk7XHJcbiAgICBpZiAodGhpcy5fYXRvbUlucHV0VHlwZSh0eXBlLCBpdGVtVHlwZSkpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0YXRlLmF0b21JbnB1dFZhbHVlcy5nZXQobmFtZSkgfHwgJyc7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtuYW1lTGFiZWx9XHJcbiAgICAgICAgICA8QXRvbUlucHV0XHJcbiAgICAgICAgICAgIGtleT17dGhpcy5wcm9wcy5kZWJ1Z2dlclR5cGVOYW1lICsgJzonICsgbmFtZX1cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXJUZXh0PXtkZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxyXG4gICAgICAgICAgICBvbkRpZENoYW5nZT17bmV3VmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuYXRvbUlucHV0VmFsdWVzLnNldChuYW1lLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb25maWdJc1ZhbGlkQ2hhbmdlZCh0aGlzLl9kZWJ1Z0J1dHRvblNob3VsZEVuYWJsZSgpKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgICBjb25zdCBjaGVja2VkID0gdGhpcy5zdGF0ZS5ib29sZWFuVmFsdWVzLmdldChuYW1lKSB8fCBmYWxzZTtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1ibG9ja1wiPlxyXG4gICAgICAgICAgPENoZWNrYm94XHJcbiAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XHJcbiAgICAgICAgICAgIGxhYmVsPXtuYW1lTGFiZWx9XHJcbiAgICAgICAgICAgIHRpdGxlPXtkZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgb25DaGFuZ2U9e25ld1ZhbHVlID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmJvb2xlYW5WYWx1ZXMuc2V0KG5hbWUsIG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICB0aGlzLnByb3BzLmNvbmZpZ0lzVmFsaWRDaGFuZ2VkKHRoaXMuX2RlYnVnQnV0dG9uU2hvdWxkRW5hYmxlKCkpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2VudW0nICYmIHByb3BlcnR5LmVudW1zICE9IG51bGwpIHtcclxuICAgICAgY29uc3QgZW51bXMgPSBwcm9wZXJ0eS5lbnVtcztcclxuICAgICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuZW51bVZhbHVlcy5nZXQobmFtZSkgfHwgbnVsbDtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAge25hbWVMYWJlbH1cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxsYWJlbD57ZGVzY3JpcHRpb259PC9sYWJlbD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPERyb3Bkb3duXHJcbiAgICAgICAgICAgIG9wdGlvbnM9e2VudW1zLm1hcChlbnVtVmFsdWUgPT4gKHtcclxuICAgICAgICAgICAgICB2YWx1ZTogZW51bVZhbHVlLFxyXG4gICAgICAgICAgICAgIGxhYmVsOiBjYXBpdGFsaXplKGVudW1WYWx1ZS5yZXBsYWNlKC8oW0EtWl0pL2csICcgJDEnKSksXHJcbiAgICAgICAgICAgIH0pKX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9e2VudW1WYWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbnVtVmFsdWVzLnNldChuYW1lLCBlbnVtVmFsdWUpO1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlnSXNWYWxpZENoYW5nZWQodGhpcy5fZGVidWdCdXR0b25TaG91bGRFbmFibGUoKSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFZhbHVlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3Byb2Nlc3MnKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtuYW1lTGFiZWx9XHJcbiAgICAgICAgICA8U2VsZWN0YWJsZUZpbHRlcmFibGVQcm9jZXNzVGFibGVcclxuICAgICAgICAgICAgdGFyZ2V0VXJpPXt0aGlzLnByb3BzLnRhcmdldFVyaX1cclxuICAgICAgICAgICAgb25TZWxlY3Q9e3NlbGVjdGVkUHJvY2VzcyA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUHJvY2VzcyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnByb2Nlc3NUYWJsZVZhbHVlcy5zZXQobmFtZSwgc2VsZWN0ZWRQcm9jZXNzLnBpZCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucHJvY2Vzc1RhYmxlVmFsdWVzLmRlbGV0ZShuYW1lKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jb25maWdJc1ZhbGlkQ2hhbmdlZCh0aGlzLl9kZWJ1Z0J1dHRvblNob3VsZEVuYWJsZSgpKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkZXZpY2VBbmRQYWNrYWdlJykge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxEZXZpY2VBbmRQYWNrYWdlXHJcbiAgICAgICAgICB0YXJnZXRVcmk9e3RoaXMucHJvcHMudGFyZ2V0VXJpfVxyXG4gICAgICAgICAgZGVzZXJpYWxpemU9eygpID0+IHtcclxuICAgICAgICAgICAgbGV0IHBhY2thZ2VWYWx1ZXNBcnJheTogQXJyYXk8U3RyaW5nUGFpcj4gPSBbXTtcclxuICAgICAgICAgICAgZGVzZXJpYWxpemVEZWJ1Z2dlckNvbmZpZyhcclxuICAgICAgICAgICAgICAuLi50aGlzLl9nZXRTZXJpYWxpemF0aW9uQXJncyh0aGlzLnByb3BzKSxcclxuICAgICAgICAgICAgICAodHJhbnNpZW50U2V0dGluZ3MsIHNhdmVkU2V0dGluZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIHBhY2thZ2VWYWx1ZXNBcnJheSA9XHJcbiAgICAgICAgICAgICAgICAgIChzYXZlZFNldHRpbmdzLnBhY2thZ2VWYWx1ZXM6IEFycmF5PFN0cmluZ1BhaXI+KSB8fCBbXTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBwYWNrYWdlVmFsdWVzID0gbmV3IE1hcChwYWNrYWdlVmFsdWVzQXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFja2FnZVZhbHVlcy5nZXQobmFtZSkgfHwgbnVsbDtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBvblNlbGVjdD17KGRldmljZVNlcmlhbCwgamF2YVBhY2thZ2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRldmljZVNlcmlhbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5kZXZpY2VBbmRQYWNrYWdlVmFsdWVzLnNldChuYW1lLCB7XHJcbiAgICAgICAgICAgICAgICBkZXZpY2VTZXJpYWwsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFBhY2thZ2U6IGphdmFQYWNrYWdlLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuZGV2aWNlQW5kUGFja2FnZVZhbHVlcy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jb25maWdJc1ZhbGlkQ2hhbmdlZCh0aGlzLl9kZWJ1Z0J1dHRvblNob3VsZEVuYWJsZSgpKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgLz5cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RldmljZUFuZFByb2Nlc3MnKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPERldmljZUFuZFByb2Nlc3NcclxuICAgICAgICAgIHRhcmdldFVyaT17dGhpcy5wcm9wcy50YXJnZXRVcml9XHJcbiAgICAgICAgICBkZXNlcmlhbGl6ZT17KCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJvY2Vzc1ZhbHVlc0FycmF5OiBBcnJheTxTdHJpbmdQYWlyPiA9IFtdO1xyXG4gICAgICAgICAgICBkZXNlcmlhbGl6ZURlYnVnZ2VyQ29uZmlnKFxyXG4gICAgICAgICAgICAgIC4uLnRoaXMuX2dldFNlcmlhbGl6YXRpb25BcmdzKHRoaXMucHJvcHMpLFxyXG4gICAgICAgICAgICAgICh0cmFuc2llbnRTZXR0aW5ncywgc2F2ZWRTZXR0aW5ncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlc0FycmF5ID1cclxuICAgICAgICAgICAgICAgICAgKHNhdmVkU2V0dGluZ3MucHJvY2Vzc1ZhbHVlczogQXJyYXk8U3RyaW5nUGFpcj4pIHx8IFtdO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NWYWx1ZXMgPSBuZXcgTWFwKHByb2Nlc3NWYWx1ZXNBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzVmFsdWVzLmdldChuYW1lKSB8fCBudWxsO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIG9uU2VsZWN0PXsoZGV2aWNlU2VyaWFsLCBqYXZhUHJvY2VzcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGV2aWNlU2VyaWFsICE9IG51bGwgJiYgamF2YVByb2Nlc3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuZGV2aWNlQW5kUHJvY2Vzc1ZhbHVlcy5zZXQobmFtZSwge1xyXG4gICAgICAgICAgICAgICAgZGV2aWNlU2VyaWFsLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9jZXNzOiBqYXZhUHJvY2VzcyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmRldmljZUFuZFByb2Nlc3NWYWx1ZXMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlnSXNWYWxpZENoYW5nZWQodGhpcy5fZGVidWdCdXR0b25TaG91bGRFbmFibGUoKSk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzZWxlY3RTb3VyY2VzJykge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICB7bmFtZUxhYmVsfVxyXG4gICAgICAgICAgPFNvdXJjZVNlbGVjdG9yXHJcbiAgICAgICAgICAgIGRlc2VyaWFsaXplPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHNlbGVjdFNvdXJjZXNWYWx1ZXNBcnJheTogQXJyYXk8U3RyaW5nUGFpcj4gPSBbXTtcclxuICAgICAgICAgICAgICBkZXNlcmlhbGl6ZURlYnVnZ2VyQ29uZmlnKFxyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZ2V0U2VyaWFsaXphdGlvbkFyZ3ModGhpcy5wcm9wcyksXHJcbiAgICAgICAgICAgICAgICAodHJhbnNpZW50U2V0dGluZ3MsIHNhdmVkU2V0dGluZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgc2VsZWN0U291cmNlc1ZhbHVlc0FycmF5ID1cclxuICAgICAgICAgICAgICAgICAgICAoc2F2ZWRTZXR0aW5ncy5zZWxlY3RTb3VyY2VzVmFsdWVzOiBBcnJheTxTdHJpbmdQYWlyPikgfHxcclxuICAgICAgICAgICAgICAgICAgICBbXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBjb25zdCBzZWxlY3RTb3VyY2VzVmFsdWVzID0gbmV3IE1hcChzZWxlY3RTb3VyY2VzVmFsdWVzQXJyYXkpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBzZWxlY3RTb3VyY2VzVmFsdWVzLmdldChuYW1lKSB8fCBudWxsO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBvblNlbGVjdD17c2VsZWN0ZWRTb3VyY2UgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0U291cmNlc1ZhbHVlcy5zZXQobmFtZSwgc2VsZWN0ZWRTb3VyY2UpO1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlnSXNWYWxpZENoYW5nZWQodGhpcy5fZGVidWdCdXR0b25TaG91bGRFbmFibGUoKSk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICA8bGFiZWw+Tk8gVFJBTlNMQVRJT04gWUVUIEZPUjoge2NhcGl0YWxpemUobmFtZSl9PC9sYWJlbD5cclxuICAgICAgICA8aHIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xyXG4gICAgY29uc3Qge2RlYnVnZ2VyVHlwZU5hbWUsIGNvbmZpZ30gPSB0aGlzLnByb3BzO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJibG9ja1wiPlxyXG4gICAgICAgIHtjb25maWcuaGVhZGVyfVxyXG4gICAgICAgIHt0aGlzLl9nZXRDb25maWd1cmF0aW9uUHJvcGVydGllcygpXHJcbiAgICAgICAgICAuZmlsdGVyKHByb3BlcnR5ID0+IHByb3BlcnR5LnZpc2libGUpXHJcbiAgICAgICAgICAubWFwKHByb3BlcnR5ID0+IChcclxuICAgICAgICAgICAgPGRpdiBrZXk9e2RlYnVnZ2VyVHlwZU5hbWUgKyAnOicgKyBwcm9wZXJ0eS5uYW1lfT5cclxuICAgICAgICAgICAgICB7dGhpcy5fZ2V0Q29tcG9uZW50Rm9yUHJvcGVydHkocHJvcGVydHkpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICkpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRGVidWdCdXR0b25DbGljayA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIGNvbnN0IHt0YXJnZXRVcmksIGNvbmZpZ30gPSB0aGlzLnByb3BzO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBhdG9tSW5wdXRWYWx1ZXMsXHJcbiAgICAgIGJvb2xlYW5WYWx1ZXMsXHJcbiAgICAgIGVudW1WYWx1ZXMsXHJcbiAgICAgIHByb2Nlc3NUYWJsZVZhbHVlcyxcclxuICAgICAgZGV2aWNlQW5kUGFja2FnZVZhbHVlcyxcclxuICAgICAgZGV2aWNlQW5kUHJvY2Vzc1ZhbHVlcyxcclxuICAgICAgc2VsZWN0U291cmNlc1ZhbHVlcyxcclxuICAgIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgY29uc3Qge2xhdW5jaCwgdnNBZGFwdGVyVHlwZSwgZ2V0UHJvY2Vzc05hbWUsIGFkYXB0ZXJFeGVjdXRhYmxlfSA9IGNvbmZpZztcclxuXHJcbiAgICBjb25zdCBzdHJpbmdWYWx1ZXMgPSBuZXcgTWFwKCk7XHJcbiAgICBjb25zdCBzdHJpbmdBcnJheVZhbHVlcyA9IG5ldyBNYXAoKTtcclxuICAgIGNvbnN0IG9iamVjdFZhbHVlcyA9IG5ldyBNYXAoKTtcclxuICAgIGNvbnN0IG51bWJlclZhbHVlcyA9IG5ldyBNYXAoKTtcclxuICAgIGNvbnN0IGpzb25WYWx1ZXMgPSBuZXcgTWFwKCk7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgQXJyYXkuZnJvbShcclxuICAgICAgICB0aGlzLl9nZXRDb25maWd1cmF0aW9uUHJvcGVydGllcygpXHJcbiAgICAgICAgICAuZmlsdGVyKFxyXG4gICAgICAgICAgICBwcm9wZXJ0eSA9PiBwcm9wZXJ0eS52aXNpYmxlICYmIGF0b21JbnB1dFZhbHVlcy5oYXMocHJvcGVydHkubmFtZSksXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICAubWFwKGFzeW5jIHByb3BlcnR5ID0+IHtcclxuICAgICAgICAgICAgY29uc3Qge25hbWUsIHR5cGV9ID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1UeXBlID0gaWR4KHByb3BlcnR5LCBfID0+IF8uaXRlbVR5cGUpO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF0b21JbnB1dFZhbHVlcy5nZXQobmFtZSkgfHwgJyc7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAncGF0aCcpIHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZFZhbHVlID0gdmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRQYXRoID1cclxuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wYXRoUmVzb2x2ZXIgPT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgID8gdHJpbW1lZFZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgOiBhd2FpdCB0aGlzLnByb3BzLnBhdGhSZXNvbHZlcih0YXJnZXRVcmksIHRyaW1tZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZXMuc2V0KG5hbWUsIHJlc29sdmVkUGF0aCk7XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoXykge1xyXG4gICAgICAgICAgICAgICAgc3RyaW5nVmFsdWVzLnNldChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgc3RyaW5nVmFsdWVzLnNldChuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FycmF5JyAmJiBpdGVtVHlwZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICBzdHJpbmdBcnJheVZhbHVlcy5zZXQobmFtZSwgc2hlbGxQYXJzZVdpdGhHbG9icyh2YWx1ZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0VmFsdWUgPSB7fTtcclxuICAgICAgICAgICAgICBzaGVsbFBhcnNlV2l0aEdsb2JzKHZhbHVlKS5mb3JFYWNoKHZhcmlhYmxlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFtsaHMsIHJoc10gPSB2YXJpYWJsZS5zcGxpdCgnPScpO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0VmFsdWVbbGhzXSA9IHJocztcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBvYmplY3RWYWx1ZXMuc2V0KG5hbWUsIG9iamVjdFZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgIG51bWJlclZhbHVlcy5zZXQobmFtZSwgTnVtYmVyKHZhbHVlKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2pzb24nKSB7XHJcbiAgICAgICAgICAgICAganNvblZhbHVlcy5zZXQobmFtZSwgSlNPTi5wYXJzZSh2YWx1ZSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgKSxcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgcGFja2FnZVZhbHVlcyA9IG5ldyBNYXAoKTtcclxuICAgIHRoaXMuX2dldENvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzKClcclxuICAgICAgLmZpbHRlcihcclxuICAgICAgICBwcm9wZXJ0eSA9PlxyXG4gICAgICAgICAgcHJvcGVydHkudmlzaWJsZSAmJiBkZXZpY2VBbmRQYWNrYWdlVmFsdWVzLmhhcyhwcm9wZXJ0eS5uYW1lKSxcclxuICAgICAgKVxyXG4gICAgICAuZm9yRWFjaChwcm9wZXJ0eSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGV2aWNlQW5kUGFja2FnZSA9IGRldmljZUFuZFBhY2thZ2VWYWx1ZXMuZ2V0KHByb3BlcnR5Lm5hbWUpO1xyXG4gICAgICAgIGlmIChkZXZpY2VBbmRQYWNrYWdlICE9IG51bGwpIHtcclxuICAgICAgICAgIHBhY2thZ2VWYWx1ZXMuc2V0KHByb3BlcnR5Lm5hbWUsIGRldmljZUFuZFBhY2thZ2Uuc2VsZWN0ZWRQYWNrYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHByb2Nlc3NWYWx1ZXMgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLl9nZXRDb25maWd1cmF0aW9uUHJvcGVydGllcygpXHJcbiAgICAgIC5maWx0ZXIoXHJcbiAgICAgICAgcHJvcGVydHkgPT5cclxuICAgICAgICAgIHByb3BlcnR5LnZpc2libGUgJiYgZGV2aWNlQW5kUHJvY2Vzc1ZhbHVlcy5oYXMocHJvcGVydHkubmFtZSksXHJcbiAgICAgIClcclxuICAgICAgLmZvckVhY2gocHJvcGVydHkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRldmljZUFuZFByb2Nlc3MgPSBkZXZpY2VBbmRQcm9jZXNzVmFsdWVzLmdldChwcm9wZXJ0eS5uYW1lKTtcclxuICAgICAgICBjb25zdCBwcm9jZXNzTmFtZSA9IGlkeChkZXZpY2VBbmRQcm9jZXNzLCBfID0+IF8uc2VsZWN0ZWRQcm9jZXNzLm5hbWUpO1xyXG4gICAgICAgIGlmIChkZXZpY2VBbmRQcm9jZXNzICE9IG51bGwgJiYgcHJvY2Vzc05hbWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgcHJvY2Vzc1ZhbHVlcy5zZXQocHJvcGVydHkubmFtZSwgcHJvY2Vzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgdmFsdWVzID0ge307XHJcbiAgICBbXHJcbiAgICAgIGJvb2xlYW5WYWx1ZXMsXHJcbiAgICAgIGVudW1WYWx1ZXMsXHJcbiAgICAgIHN0cmluZ1ZhbHVlcyxcclxuICAgICAgc3RyaW5nQXJyYXlWYWx1ZXMsXHJcbiAgICAgIG9iamVjdFZhbHVlcyxcclxuICAgICAgbnVtYmVyVmFsdWVzLFxyXG4gICAgICBwcm9jZXNzVGFibGVWYWx1ZXMsXHJcbiAgICAgIGpzb25WYWx1ZXMsXHJcbiAgICAgIGRldmljZUFuZFBhY2thZ2VWYWx1ZXMsXHJcbiAgICAgIGRldmljZUFuZFByb2Nlc3NWYWx1ZXMsXHJcbiAgICAgIHNlbGVjdFNvdXJjZXNWYWx1ZXMsXHJcbiAgICBdLmZvckVhY2gobWFwID0+IHtcclxuICAgICAgbWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2dldENvbmZpZ3VyYXRpb25Qcm9wZXJ0aWVzKClcclxuICAgICAgLmZpbHRlcihcclxuICAgICAgICBwcm9wZXJ0eSA9PiAhcHJvcGVydHkudmlzaWJsZSAmJiAhYXRvbUlucHV0VmFsdWVzLmhhcyhwcm9wZXJ0eS5uYW1lKSxcclxuICAgICAgKVxyXG4gICAgICAuZm9yRWFjaChwcm9wZXJ0eSA9PiB7XHJcbiAgICAgICAgY29uc3Qge25hbWV9ID0gcHJvcGVydHk7XHJcbiAgICAgICAgdmFsdWVzW25hbWVdID0gaWR4KHByb3BlcnR5LCBfID0+IF8uZGVmYXVsdFZhbHVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgY29uc3QgZGVidWdnZXJTZXJ2aWNlID0gYXdhaXQgZ2V0RGVidWdnZXJTZXJ2aWNlKCk7XHJcblxyXG4gICAgZGVidWdnZXJTZXJ2aWNlLnN0YXJ0VnNwRGVidWdnaW5nKHtcclxuICAgICAgdGFyZ2V0VXJpLFxyXG4gICAgICBkZWJ1Z01vZGU6IGxhdW5jaCA/ICdsYXVuY2gnIDogJ2F0dGFjaCcsXHJcbiAgICAgIGFkYXB0ZXJUeXBlOiB2c0FkYXB0ZXJUeXBlLFxyXG4gICAgICBhZGFwdGVyRXhlY3V0YWJsZSxcclxuICAgICAgY29uZmlnOiB2YWx1ZXMsXHJcbiAgICAgIGN1c3RvbUNvbnRyb2xCdXR0b25zOiBbXSxcclxuICAgICAgcHJvY2Vzc05hbWU6IGdldFByb2Nlc3NOYW1lKHZhbHVlcyksXHJcbiAgICAgIGlzUmVzdGFydGFibGU6IHRydWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICBzZXJpYWxpemVEZWJ1Z2dlckNvbmZpZyguLi50aGlzLl9nZXRTZXJpYWxpemF0aW9uQXJncyh0aGlzLnByb3BzKSwge1xyXG4gICAgICBhdG9tSW5wdXRWYWx1ZXM6IEFycmF5LmZyb20oYXRvbUlucHV0VmFsdWVzKSxcclxuICAgICAgYm9vbGVhblZhbHVlczogQXJyYXkuZnJvbShib29sZWFuVmFsdWVzKSxcclxuICAgICAgZW51bVZhbHVlczogQXJyYXkuZnJvbShlbnVtVmFsdWVzKSxcclxuICAgICAgcGFja2FnZVZhbHVlczogQXJyYXkuZnJvbShwYWNrYWdlVmFsdWVzKSxcclxuICAgICAgcHJvY2Vzc1ZhbHVlczogQXJyYXkuZnJvbShwcm9jZXNzVmFsdWVzKSxcclxuICAgICAgc2VsZWN0U291cmNlc1ZhbHVlczogQXJyYXkuZnJvbShzZWxlY3RTb3VyY2VzVmFsdWVzKSxcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIl19