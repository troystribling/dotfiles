var _utils = require('../lib/utils');

var _utils2 = _interopRequireDefault(_utils);

var _helpers = require('./helpers');

var _atom = require('atom');

var _chai = require('chai');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('Utils', () => {
  describe('getWordAtPosition', () => {
    let editor;
    beforeEach(() => {
      editor = (0, _helpers.createFakeEditor)('test.txt');
      editor.setText('blah test1234 test-two');
    });

    it('gets the word at position from a text editor', () => {
      // "blah"
      let range = _utils2.default.getWordAtPosition(editor, new _atom.Point(0, 0));
      (0, _chai.expect)(range.serialize()).eql([[0, 0], [0, 4]]);

      // "test1234"
      range = _utils2.default.getWordAtPosition(editor, new _atom.Point(0, 7));
      (0, _chai.expect)(range.serialize()).eql([[0, 5], [0, 13]]);

      // "test"
      range = _utils2.default.getWordAtPosition(editor, new _atom.Point(0, 14));
      (0, _chai.expect)(range.serialize()).eql([[0, 14], [0, 18]]);
    });

    it('returns empty ranges for non-words', () => {
      const range = _utils2.default.getWordAtPosition(editor, new _atom.Point(0, 4));
      (0, _chai.expect)(range.serialize()).eql([[0, 4], [0, 4]]);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3Rlc3QvdXRpbHMudGVzdC5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsImVkaXRvciIsImJlZm9yZUVhY2giLCJzZXRUZXh0IiwiaXQiLCJyYW5nZSIsImdldFdvcmRBdFBvc2l0aW9uIiwic2VyaWFsaXplIiwiZXFsIl0sIm1hcHBpbmdzIjoiQUFFQTs7OztBQUNBOztBQUVBOztBQUNBOzs7O0FBRUFBLFNBQVMsT0FBVCxFQUFrQixNQUFNO0FBQ3RCQSxXQUFTLG1CQUFULEVBQThCLE1BQU07QUFDbEMsUUFBSUMsTUFBSjtBQUNBQyxlQUFXLE1BQU07QUFDZkQsZUFBUywrQkFBaUIsVUFBakIsQ0FBVDtBQUNBQSxhQUFPRSxPQUFQLENBQWUsd0JBQWY7QUFDRCxLQUhEOztBQUtBQyxPQUFHLDhDQUFILEVBQW1ELE1BQU07QUFDdkQ7QUFDQSxVQUFJQyxRQUFRLGdCQUFNQyxpQkFBTixDQUF3QkwsTUFBeEIsRUFBZ0MsZ0JBQVUsQ0FBVixFQUFhLENBQWIsQ0FBaEMsQ0FBWjtBQUNBLHdCQUFPSSxNQUFNRSxTQUFOLEVBQVAsRUFBMEJDLEdBQTFCLENBQThCLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFELEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFULENBQTlCOztBQUVBO0FBQ0FILGNBQVEsZ0JBQU1DLGlCQUFOLENBQXdCTCxNQUF4QixFQUFnQyxnQkFBVSxDQUFWLEVBQWEsQ0FBYixDQUFoQyxDQUFSO0FBQ0Esd0JBQU9JLE1BQU1FLFNBQU4sRUFBUCxFQUEwQkMsR0FBMUIsQ0FBOEIsQ0FBQyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQUQsRUFBUyxDQUFDLENBQUQsRUFBSSxFQUFKLENBQVQsQ0FBOUI7O0FBRUE7QUFDQUgsY0FBUSxnQkFBTUMsaUJBQU4sQ0FBd0JMLE1BQXhCLEVBQWdDLGdCQUFVLENBQVYsRUFBYSxFQUFiLENBQWhDLENBQVI7QUFDQSx3QkFBT0ksTUFBTUUsU0FBTixFQUFQLEVBQTBCQyxHQUExQixDQUE4QixDQUFDLENBQUMsQ0FBRCxFQUFJLEVBQUosQ0FBRCxFQUFVLENBQUMsQ0FBRCxFQUFJLEVBQUosQ0FBVixDQUE5QjtBQUNELEtBWkQ7O0FBY0FKLE9BQUcsb0NBQUgsRUFBeUMsTUFBTTtBQUM3QyxZQUFNQyxRQUFRLGdCQUFNQyxpQkFBTixDQUF3QkwsTUFBeEIsRUFBZ0MsZ0JBQVUsQ0FBVixFQUFhLENBQWIsQ0FBaEMsQ0FBZDtBQUNBLHdCQUFPSSxNQUFNRSxTQUFOLEVBQVAsRUFBMEJDLEdBQTFCLENBQThCLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFELEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFULENBQTlCO0FBQ0QsS0FIRDtBQUlELEdBekJEO0FBMEJELENBM0JEIiwiZmlsZSI6InV0aWxzLnRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xyXG5cclxuaW1wb3J0IFV0aWxzIGZyb20gJy4uL2xpYi91dGlscyc7XHJcbmltcG9ydCB7Y3JlYXRlRmFrZUVkaXRvcn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmltcG9ydCB7UG9pbnR9IGZyb20gJ2F0b20nO1xyXG5pbXBvcnQge2V4cGVjdH0gZnJvbSAnY2hhaSc7XHJcblxyXG5kZXNjcmliZSgnVXRpbHMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ2dldFdvcmRBdFBvc2l0aW9uJywgKCkgPT4ge1xyXG4gICAgbGV0IGVkaXRvcjtcclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICBlZGl0b3IgPSBjcmVhdGVGYWtlRWRpdG9yKCd0ZXN0LnR4dCcpO1xyXG4gICAgICBlZGl0b3Iuc2V0VGV4dCgnYmxhaCB0ZXN0MTIzNCB0ZXN0LXR3bycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2dldHMgdGhlIHdvcmQgYXQgcG9zaXRpb24gZnJvbSBhIHRleHQgZWRpdG9yJywgKCkgPT4ge1xyXG4gICAgICAvLyBcImJsYWhcIlxyXG4gICAgICBsZXQgcmFuZ2UgPSBVdGlscy5nZXRXb3JkQXRQb3NpdGlvbihlZGl0b3IsIG5ldyBQb2ludCgwLCAwKSk7XHJcbiAgICAgIGV4cGVjdChyYW5nZS5zZXJpYWxpemUoKSkuZXFsKFtbMCwgMF0sIFswLCA0XV0pO1xyXG5cclxuICAgICAgLy8gXCJ0ZXN0MTIzNFwiXHJcbiAgICAgIHJhbmdlID0gVXRpbHMuZ2V0V29yZEF0UG9zaXRpb24oZWRpdG9yLCBuZXcgUG9pbnQoMCwgNykpO1xyXG4gICAgICBleHBlY3QocmFuZ2Uuc2VyaWFsaXplKCkpLmVxbChbWzAsIDVdLCBbMCwgMTNdXSk7XHJcblxyXG4gICAgICAvLyBcInRlc3RcIlxyXG4gICAgICByYW5nZSA9IFV0aWxzLmdldFdvcmRBdFBvc2l0aW9uKGVkaXRvciwgbmV3IFBvaW50KDAsIDE0KSk7XHJcbiAgICAgIGV4cGVjdChyYW5nZS5zZXJpYWxpemUoKSkuZXFsKFtbMCwgMTRdLCBbMCwgMThdXSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgncmV0dXJucyBlbXB0eSByYW5nZXMgZm9yIG5vbi13b3JkcycsICgpID0+IHtcclxuICAgICAgY29uc3QgcmFuZ2UgPSBVdGlscy5nZXRXb3JkQXRQb3NpdGlvbihlZGl0b3IsIG5ldyBQb2ludCgwLCA0KSk7XHJcbiAgICAgIGV4cGVjdChyYW5nZS5zZXJpYWxpemUoKSkuZXFsKFtbMCwgNF0sIFswLCA0XV0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXX0=